{"version":3,"file":"ngx-material-widget.js","sources":["../../../projects/ngx-material-widget/src/lib/utility/badge.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/collection.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/button.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/dependent.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/master-data.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/string.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/field.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/object.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/form.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/form-custom.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/list.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/property.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/security.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/dropdown.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/crud.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/keymap.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/ability.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/index.ts","../../../projects/ngx-material-widget/src/lib/button/component/button-delete-confirmation/button-delete-confirmation.component.ts","../../../projects/ngx-material-widget/src/lib/button/component/button/button.component.ts","../../../projects/ngx-material-widget/src/lib/button/component/button-group/button-group.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-form/crud-form.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-list/crud-list.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/file-uploader/file-uploader.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field/html.editor.configuration.ts","../../../projects/ngx-material-widget/src/lib/field/component/field/field.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/index.ts","../../../projects/ngx-material-widget/src/lib/list/component/list.component.ts","../../../projects/ngx-material-widget/src/lib/list/component/static-list/static-list.component.ts","../../../projects/ngx-material-widget/src/lib/list/component/dynamic-list/dynamic-list.component.ts","../../../projects/ngx-material-widget/src/lib/modal/component/modal/modal.component.ts","../../../projects/ngx-material-widget/src/lib/page/component/admin-layout/admin-layout.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-header/crud-header.component.ts","../../../projects/ngx-material-widget/src/lib/form/component/form-header/form-header.component.ts","../../../projects/ngx-material-widget/src/lib/form/component/form/form.component.ts","../../../projects/ngx-material-widget/src/lib/crud/interface/crud-list/crud-list-interface.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/chips/chips.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/toolbar/toolbar.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/multi-image/multi-image.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/paragraph/paragraph.component.ts","../../../projects/ngx-material-widget/src/lib/field/pipes/highlightPipe.ts","../../../projects/ngx-material-widget/src/lib/field/component/tooltip/tooltip.component.ts","../../../projects/ngx-material-widget/src/lib/list/directives/ngInit.directive.ts","../../../projects/ngx-material-widget/src/lib/list/pipes/safeHtml.pipe.ts","../../../projects/ngx-material-widget/src/lib/list/directives/compile.directive.ts","../../../projects/ngx-material-widget/src/lib/navigation/component/navigation/navigation.component.ts","../../../projects/ngx-material-widget/src/lib/ngx-material-widget.module.ts","../../../projects/ngx-material-widget/src/lib/button/model/action.model.ts","../../../projects/ngx-material-widget/src/lib/button/model/button.model.ts","../../../projects/ngx-material-widget/src/lib/crud/model/index.ts","../../../projects/ngx-material-widget/src/lib/modal/utility/modal.util.ts","../../../projects/ngx-material-widget/src/public-api.ts","../../../projects/ngx-material-widget/src/ngx-material-widget.ts"],"sourcesContent":["export class BadgeUitls {\n}","export class CollectionUtils {\n\n  static isEmpty(value) {\n    if (value == null || value == undefined || value == \"\" || value.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","import { Button, ButtonGroup, ButtonType, HoverButton, Action, ObjectTree } from '../button/model';\nimport { FormDiaplyMode } from '../form/model';\nimport { CollectionUtils } from './collection.utility';\n\nexport class ButtonUtils {\n    static instanceOfButton(object: any): object is Button {\n        return 'type' in object &&\n//            !('groupIdentifier' in object) &&\n            (object['type'] != ButtonType.CHIP && object['type'] != ButtonType.GROUP && object['type'] != ButtonType.DROPDOWN) &&\n            (object['type'] == ButtonType.FLAT || object['type'] == ButtonType.GHOST || object['type'] == ButtonType.RAISED || object['type'] == ButtonType.FAB || object['type'] == ButtonType.STROKED)\n    }\n\n    static instanceOfChipButton(object: any): object is ButtonGroup {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.CHIP;\n    }\n\n    static instanceOfButtonGroup(object: any): object is ButtonGroup {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.GROUP;\n    }\n\n    static instanceOfHoverButton(object: any): object is HoverButton {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.DROPDOWN;\n    }\n\n    static instanceOfAnyButtonType(object: any): boolean {\n        let isButton: boolean = false;\n        if (this.instanceOfButton(object) || this.instanceOfChipButton(object) || this.instanceOfButtonGroup(object) || this.instanceOfHoverButton(object)) {\n            isButton = true;\n        }\n\n        return isButton;\n    }\n\n    static hasWidth(buttons: Array<Button>): boolean {\n        let hasButtonWidth: boolean = false;\n\n        if (!CollectionUtils.isEmpty(buttons) && buttons.filter(button => button.width != null && button.width != \"\").length > 0) {\n            hasButtonWidth = true;\n        }\n\n        return hasButtonWidth;\n    }\n\n    static setEqualWidth(buttons: Array<Button>): void {\n        if (!CollectionUtils.isEmpty(buttons)) {\n            let buttonCount = buttons.length;\n            let buttonWidth = 100 / buttonCount;\n\n            buttons.forEach(button => {\n                button.width = \"\" + buttonWidth;\n            });\n        }\n    }\n\n    static getAction(sourceIdentifier: string, sourceIndex: number, widgetArrayIndex: number, identifier: string, parentHierarchy: ObjectTree, event: any, originalData: any, context: any, actionDialog: any): Action {\n        let data = null;\n        if (originalData) {\n            data = { ...originalData, ...context };\n        } else {\n            data = context;\n            originalData = context;\n        }\n        let action: Action = {\n            sourceIdentifier: sourceIdentifier,\n            sourceIndex: sourceIndex,\n            widgetArrayIndex: widgetArrayIndex,\n            action: identifier,\n            actionData: actionDialog,\n            data: data,\n            originalData: originalData,\n            parentHierarchy: parentHierarchy,\n            event: event\n        };\n\n        return action;\n    }\n    \n    static isDisable(displayMode: FormDiaplyMode): boolean {\n        if (displayMode == FormDiaplyMode.BLOCKED || displayMode == FormDiaplyMode.VIEW) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }","import { DependentOnField } from \"../field/model\";\nimport { FormButton, FormButtonLayout, FormField } from \"../form/model\";\nimport { CollectionUtils } from \"./collection.utility\";\n\nexport class DependentUtils {\n  static displayDependencyField(dependentOnFields: Array<DependentOnField>, supportingRecord: any, record: any): boolean {\n    let displayDependencyField: boolean = true;\n    let displaySupportingDependencyField: boolean = true;\n\n    if (dependentOnFields && dependentOnFields.length > 0 && record) {\n      for (let dependentField of dependentOnFields) {\n        let dependencyValue: any = \"\";\n        try {\n          dependencyValue = eval(\"record.\" + dependentField.key);\n        } catch (e) {\n\n        }\n\n        if (dependencyValue != undefined) {\n          if (dependentField.condition instanceof Array) {\n            if (dependencyValue instanceof Array) {\n              let hasMatch: boolean = false;\n              (<Array<any>>dependencyValue).forEach(value => {\n                if ((<Array<string>>dependentField.condition).indexOf(value) > -1) {\n                  hasMatch = true;\n                }\n              });\n              if (hasMatch) {\n                displayDependencyField = false;\n              }\n            } else {\n              if ((<Array<string>>dependentField.condition).indexOf(dependencyValue) <= -1) {\n                displayDependencyField = false;\n              }\n            }\n          } else {\n            if (dependencyValue instanceof Array) {\n              if (dependencyValue.indexOf(dependentField.condition) <= -1) {\n                displayDependencyField = false;\n              }\n            } else {\n              if (dependencyValue != dependentField.condition) {\n                displayDependencyField = false;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (dependentOnFields && dependentOnFields.length > 0 && supportingRecord) {\n      for (let dependentField of dependentOnFields) {\n        let dependencyValue: any = \"\";\n        try {\n          dependencyValue = eval(\"supportingRecord.\" + dependentField.key);\n        } catch (e) {\n\n        }\n\n        if (dependencyValue != undefined) {\n          if (dependentField.condition instanceof Array) {\n            if (dependencyValue instanceof Array) {\n              let hasMatch = false;\n              (<Array<any>>dependencyValue).forEach(value => {\n                if ((<Array<string>>dependentField.condition).indexOf(value) > -1) {\n                  hasMatch = true;\n                }\n              });\n              if (!hasMatch) {\n                displaySupportingDependencyField = false;\n              }\n            } else {\n              if ((<Array<string>>dependentField.condition).indexOf(dependencyValue) <= -1) {\n                displaySupportingDependencyField = false;\n              }\n            }\n          } else {\n            if (dependencyValue instanceof Array) {\n              if (dependencyValue.indexOf(dependentField.condition) <= -1) {\n                displaySupportingDependencyField = false;\n              }\n            } else {\n              if (dependencyValue != dependentField.condition) {\n                displaySupportingDependencyField = false;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return displayDependencyField && displaySupportingDependencyField;\n  }\n\n  static getDependencyTree(formFields: Array<FormField>): any {\n    let dependency: any = {};\n\n    for (let formField of formFields) {\n      if (formField.field.dependentOnFields && formField.field.dependentOnFields.length > 0) {\n        for (let dependentField of formField.field.dependentOnFields) {\n          if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n            dependency[dependentField.key] = new Array<string>();\n          }\n          dependency[dependentField.key].push(formField.field.key);\n        }\n      }\n    }\n\n    return dependency;\n  }\n\n  static getDependencyTreeForButton(buttonLayout: FormButton | FormButtonLayout): any {\n    let dependency: any = {};\n\n    if (buttonLayout && !CollectionUtils.isEmpty((<FormButton>buttonLayout).buttons)) {\n      for (let button of (<FormButton>buttonLayout).buttons) {\n        if (button.dependentOnFields && button.dependentOnFields.length > 0) {\n          for (let dependentField of button.dependentOnFields) {\n            if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n              dependency[dependentField.key] = new Array<string>();\n            }\n            dependency[dependentField.key].push(button.identifier);\n          }\n        }\n      }\n    }\n\n    if (buttonLayout && !CollectionUtils.isEmpty((<FormButtonLayout>buttonLayout).cells)) {\n      for (let cell of (<FormButtonLayout>buttonLayout).cells) {\n        if ((<FormButton>cell.buttons) && !CollectionUtils.isEmpty((<FormButton>cell.buttons).buttons)) {\n          for (let button of (<FormButton>cell.buttons).buttons) {\n            if (button.dependentOnFields && button.dependentOnFields.length > 0) {\n              for (let dependentField of button.dependentOnFields) {\n                if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n                  dependency[dependentField.key] = new Array<string>();\n                }\n                dependency[dependentField.key].push(button.identifier);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return dependency;\n  }\n}","import { CollectionUtils } from './collection.utility';\nimport { DropdownOption } from '../field/model';\nimport { MasterData } from '../setting/model';\n\nexport class MasterDataUtils {\n    static getMasterDataFromLocalStore(key: string): MasterData {\n        let masterDataMap: Map<string, MasterData> = JSON.parse(localStorage.getItem(\"masterData\"));\n\n        return masterDataMap[key];\n    }\n\n    static getMasterDataAsOptions(masterDataKey: string): Array<DropdownOption> {\n        let masterData = MasterDataUtils.getMasterDataFromLocalStore(masterDataKey);\n\n        let options: Array<DropdownOption> = new Array<DropdownOption>();\n\n        if (masterData && !CollectionUtils.isEmpty(masterData)) {\n            masterData.items.forEach(record => {\n                options.push({ key: record.key, value: record.label });\n            });\n        }\n\n        return options;\n    }\n}\n","export class StringUtils {\n  static isEmpty(value) {\n    if (value == null || value == undefined || value == \"\" || value.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","import { Field, FieldType, TextField, AutocompleteField, CheckboxField, RadioField, DropdownField, DropdownOption, KeyMap, DisplayMode } from '../field/model';\nimport { FormDiaplyMode } from '../form/model';\nimport { MasterDataUtils } from './master-data.utility'; \nimport { StringUtils } from './string.utility';\nimport { CollectionUtils } from './collection.utility';\n\nexport class FieldUtils {\n  static isFormDisable(displayMode: FormDiaplyMode): boolean {\n    if (displayMode == FormDiaplyMode.BLOCKED || displayMode == FormDiaplyMode.VIEW) {\n      return true;\n    } else { \n      return false;\n    }\n  }\n\n  static isFieldDisabled(field: Field, currentDisplayMode: FormDiaplyMode, value: string | Array<string>): boolean {\n    let isDisabled: boolean = false;\n    if (FieldUtils.isFormDisable(currentDisplayMode) || field.displayMode == DisplayMode.DISABLED || field.type == FieldType.HIDDEN || field.isReadOnly || (field.isUnique && currentDisplayMode == FormDiaplyMode.EDIT && !StringUtils.isEmpty(value))) {\n      isDisabled = true;\n    }\n\n    return isDisabled;\n  }\n\n  static displayEllipsis(charLimit: number, value: any): boolean {\n    let showEllipsis: boolean = false;\n\n    let strValue = JSON.stringify(value);\n    if (charLimit && charLimit > 0 && !StringUtils.isEmpty(strValue) && strValue.length > charLimit) {\n      showEllipsis = true;\n    }\n    return showEllipsis;\n  }\n\n  static readOnlyField(): Array<string> {\n    return [FieldType.IMAGE, FieldType.IMAGE_AND_TEXT, FieldType.JSON, FieldType.LABEL, FieldType.BOOLEAN];\n  }\n\n  static isEllipsisField(field: Field) {\n    let hasEllipsis: boolean;\n\n    if ((field.type == FieldType.LABEL || field.type == FieldType.TEXT || field.type == FieldType.TEXTAREA || field.type == FieldType.EMAIL || field.type == FieldType.PASSWORD) && (<TextField>field).ellipsis > 0) {\n      hasEllipsis = true;\n    }\n\n    return hasEllipsis;\n  }\n\n  static setOptionsUsingKey(field: AutocompleteField | CheckboxField | RadioField | DropdownField, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(field)) {\n      let options: Array<DropdownOption> = MasterDataUtils.getMasterDataAsOptions(masterDataKey);\n\n      field.options = options;\n    }\n  }\n\n  static setOptionsUsingValues(field: AutocompleteField | CheckboxField | RadioField | DropdownField, keyMap: KeyMap) {\n    if (!CollectionUtils.isEmpty(field)) {\n      field.options = keyMap.options; \n    }\n  }\n}","export class ObjectUtils {\n    static isEmpty(obj: any) {\n        return obj == undefined || Object.keys(obj).length === 0;\n    }\n\n    static resolve(text: string, obj: any): string {\n        if (!this.isEmpty(obj)) {\n            for (var key in obj) {\n                text = text.replace('{' + key + '}', obj[key]);\n            }\n        }\n\n        return text;\n    }\n\n    static unflatten(_json: any) {\n        function jsonToObj(data: any, result) {\n            return Object.keys(data).reduce((acc, current, index) => {\n                const inlineKeys = current.split('.');\n                let firstProp = inlineKeys.shift();\n                const hasProps = inlineKeys.length >= 1;\n                if (hasProps) {\n                    const parsedKey = parseInt(inlineKeys[0], 10);\n                    const isNextKeyNumber = !isNaN(parsedKey);\n                    let _nextData = {};\n                    if (!acc[firstProp]) {\n                        acc[firstProp] = isNextKeyNumber ? [] : {};\n                    }\n                    if (isNextKeyNumber) {\n                        const _index = parseInt(inlineKeys.shift(), 10);\n                        const isValueInArray = acc[firstProp].length - 1 >= _index;\n                        const currentValueObj = acc[firstProp][_index];\n                        _nextData[inlineKeys.join('.')] = data[current];\n                        acc[firstProp][_index] = isValueInArray\n                            ? Object.assign(currentValueObj, jsonToObj(_nextData, currentValueObj))\n                            : jsonToObj(_nextData, {});\n                    } else {\n                        _nextData[inlineKeys.join('.')] = data[current];\n                        Object.assign(acc[firstProp], jsonToObj(_nextData, acc[firstProp]));\n                    }\n                } else {\n                    acc[firstProp] = data[current];\n                }\n                return acc;\n            }, result);\n        }\n        return jsonToObj(_json, {});\n    };\n}\n","import { FormDiaplyMode, Form, FormField, FormButton } from '../form/model';\nimport { Field, FieldType, AutocompleteField, RadioField, CheckboxField, DropdownField, KeyMap, DependentOnField, CalendarField, ParagraphField } from '../field/model';\nimport { FormGroup, FormControl, ValidatorFn, FormArray } from '@angular/forms';\n//import { isArray } from 'util';\nimport { ObjectUtils } from './object.utility';\nimport { CollectionUtils } from './collection.utility';\nimport { StringUtils } from './string.utility';\nimport { FieldUtils } from './field.utility';\nimport { DependentUtils } from './dependent.utility';\n\nexport class FormUtils {\n  static isFormDisable(displayMode: FormDiaplyMode): boolean {\n    if (displayMode == FormDiaplyMode.BLOCKED || displayMode == FormDiaplyMode.VIEW) {\n      return true;\n    } else { \n      return false;\n    }\n  }\n\n  static disableField(form: FormGroup, field: Field): void {\n    if (form && form.get(field.key)) {\n      form.get(field.key).disable();\n    }\n  }\n\n  static disableFieldControl(fieldControl: FormControl): void {\n    if (fieldControl) {\n      fieldControl.disable();\n    }\n  }\n\n  static checkUniqueIdentifier(forms: Array<Form>) {\n    //  TODO: \n  }\n\n  static getRawValue(form: FormGroup) {\n    let formValue: any = {};\n\n    if (form) {\n      formValue = form.getRawValue();\n    }\n\n    return formValue;\n  }\n\n  static initFormGroup(formFields: Array<FormField>, supportingRecord: any, record: any, displayMode: FormDiaplyMode): FormGroup {\n    let fieldControls = {};\n\n    let isFormDisabled = this.isFormDisable(displayMode);\n\n    for (let formField of formFields) {\n      // if (!CollectionUtils.isEmpty(record)) {\n      FormUtils.initFieldGroup(fieldControls, formField, supportingRecord, record, displayMode);\n      // }\n    }\n\n    return new FormGroup(fieldControls);\n  }\n\n  static getFieldValidation(field: Field): Array<ValidatorFn> {\n    let validations: Array<ValidatorFn> = new Array<ValidatorFn>();\n    if (field.validations && field.validations.length > 0) {\n      for (let val of field.validations) {\n        validations.push(val.type);\n      }\n    }\n\n    return validations;\n  }\n\n  static initFieldGroup(fieldControls: any, formField: FormField, supportingRecord: any, record: any, displayMode: FormDiaplyMode): any {\n    //        field.hide = false;\n    if (!DependentUtils.displayDependencyField(formField.field.dependentOnFields, supportingRecord, record)) {\n      if (record == null) {\n        record = {};\n      }\n      if (formField.addMore) {\n        record[formField.field.key] = [];\n      } else {\n        record[formField.field.key] = null;\n      }\n      //          field.hide = true;\n      return;\n    }\n\n    let validations: Array<ValidatorFn> = this.getFieldValidation(formField.field);\n\n    if (formField.field.type == FieldType.CHECKBOX) {\n      let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n      if (formField.addMore) {\n        let options: Array<any> = record && fieldValue ? fieldValue : new Array<any>();\n\n        fieldControls[formField.field.key] = new FormArray([]);\n        for (let vCnt = 0; vCnt < options.length; vCnt++) {\n          let opts = this.getCheckboxOption(displayMode, formField.field, options[vCnt]);\n          fieldControls[formField.field.key].push(this.setFormGroup(displayMode, formField.field, opts, validations));\n        }\n      } else {\n        let option = record && fieldValue ? fieldValue : null;\n\n        let opts = this.getCheckboxOption(displayMode, formField.field, option);\n        fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, opts, validations);\n      }\n    } else if (formField.field.type == FieldType.CALENDAR && (<CalendarField>formField.field).dateRange) {\n      let controls = {};\n      if (validations && validations.length > 0) {\n        controls['startDate'] = new FormControl('',validations);\n        controls['endDate'] = new FormControl('', validations);\n      } else {\n        controls['startDate'] = new FormControl('');\n        controls['endDate'] = new FormControl('');\n      }\n      fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, controls, validations);\n    } else if (formField.field.type == FieldType.PARAGRAPH && !CollectionUtils.isEmpty((<ParagraphField>formField.field).fieldContexts)) {\n      let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n      let controls = this.getParagraphFields(displayMode, formField.field, fieldValue);\n\n      fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, controls, validations);\n    } else {\n      if (formField.addMore) {\n        let values: Array<any> = this.getFormFieldValue(record, formField);\n\n        fieldControls[formField.field.key] = new FormArray([]);\n        if (CollectionUtils.isEmpty(values)) {\n          fieldControls[formField.field.key].push(this.setFormControl(displayMode, formField.field, \"\", validations));\n        } else {\n          for (let vCnt = 0; vCnt < values.length; vCnt++) {\n            fieldControls[formField.field.key].push(this.setFormControl(displayMode, formField.field, values[vCnt], validations));\n          }\n        }\n      } else {\n        let value: any = this.getFormFieldValue(record, formField)\n\n        fieldControls[formField.field.key] = this.setFormControl(displayMode, formField.field, value, validations);\n      }\n    }\n\n    return fieldControls;\n  }\n\n  static dateRangeValidation(g: FormGroup) : any{\n    return g.get('startDate').value || g.get('endDate').value\n    ? null : {'mismatch': true};\n  }\n  static getCheckboxOption(displayMode: FormDiaplyMode, field: Field, options: Array<string>): any {\n    let opts = {};\n\n    if (field['options'] && field['options'].length > 0) {\n      for (let opt of field['options']) {\n        if (ObjectUtils.isEmpty(options)) {\n          if (opt['selected'])  {\n            opt.checked = true;\n          } else  {\n            opt.checked = false;\n          }\n        } else {\n          let optionSelected: boolean = options.indexOf(opt.key) > -1;\n          if (options && optionSelected) {\n            opt.checked = true;\n          } else {\n            opt.checked = false;\n          }\n        }\n        opts[opt.key] = new FormControl(opt.checked);\n\n        if (FieldUtils.isFieldDisabled(field, displayMode, \"\")) {\n          opts[opt.key].disable();\n        }\n\n      }\n    }\n\n    return opts;\n  }\n\n  static getParagraphFields(displayMode: FormDiaplyMode, field: Field, fieldValues: Map<string, any>): any {\n    let fieldContexts = {};\n\n    if (CollectionUtils.isEmpty(fieldValues)) {\n      fieldValues = new Map<string, any>();\n    }\n\n    if ((<ParagraphField> field).fieldContexts && Object.keys((<ParagraphField> field).fieldContexts).length > 0) {\n      for (let key of Object.keys((<ParagraphField> field).fieldContexts)) {\n        let fieldContextKey = (<ParagraphField> field).fieldContexts[key];\n\n        let validations: Array<ValidatorFn> = this.getFieldValidation(fieldContextKey);\n        fieldContexts[fieldContextKey.key] = new FormControl(fieldValues[fieldContextKey.key], validations);\n\n        if (FieldUtils.isFieldDisabled(field, displayMode, \"\")) {\n          fieldContexts[fieldContextKey.key].disable();\n        }\n      }\n    }\n\n    return fieldContexts;\n  }\n\n  static setFormGroup(displayMode: FormDiaplyMode, field: Field, value: any, validations: Array<ValidatorFn>): FormGroup {\n    let formGroup: FormGroup;\n\n    if (field.validations && field.validations.length > 0) {\n      formGroup = new FormGroup(value, validations);\n    } else {\n      formGroup = new FormGroup(value);\n    }\n\n    if ((FieldUtils.isFieldDisabled(field, displayMode, value) || field.isReadOnly || field.type == FieldType.HIDDEN) && !StringUtils.isEmpty(value)) {\n      formGroup.disable();\n    }\n\n    return formGroup;\n  }\n\n  static setFormControl(displayMode: FormDiaplyMode, field: Field, value: any, validations: Array<ValidatorFn>): FormControl {\n    let formControl: FormControl;\n\n    if (field.validations && field.validations.length > 0) {\n      formControl = new FormControl(value, validations);\n    } else {\n      formControl = new FormControl(value);\n    }\n\n    if (FieldUtils.isFieldDisabled(field, displayMode, value)) {\n      formControl.disable();\n    } else {\n      formControl.enable();\n    }\n\n    return formControl;\n  }\n\n  static getFormFieldValue(record: any, formField: FormField): any {\n    let value: any;\n    let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n\n    if (formField.addMore) {\n      let elements: Array<any> = new Array<any>();\n      if (!ObjectUtils.isEmpty(record) && !CollectionUtils.isEmpty(fieldValue) && Array.isArray(fieldValue)) {\n        elements = fieldValue;\n      } else {\n        elements.push(\"\");\n      }\n\n      for (let cnt = 0; cnt < elements.length; cnt++) {\n        elements[cnt] = this.getFieldValue(elements[cnt], formField.field);\n      }\n      value = elements;\n    } else {\n      let recordValue = \"\";\n      if (record && fieldValue) {\n        recordValue = fieldValue;\n      }\n      value = this.getFieldValue(recordValue, formField.field);\n    }\n    return value\n  }\n\n  static getFieldValue(recordValue: any, field: Field): any {\n    let value: any = null;\n\n    if (field.value) {\n      value = field.value;\n    }\n    if (!StringUtils.isEmpty(recordValue)) {\n      value = recordValue;\n    }\n    if (value == undefined || JSON.stringify(value) === '{}') {\n      value = \"\";\n    }\n\n    return value;\n  }\n\n  static reset(form: FormGroup, formConfig?: Form): void {\n    form.reset();\n\n    if (formConfig != null) {\n      for (let field of formConfig.formFields) {\n        if ((<Field>field.field).type == FieldType.AUTOCOMPLETE) {\n          field['default'] = null;\n        }\n      }\n    }\n  }\n\n  static getValueViaEval(record: any, key: string): any {\n    let value = \"\";\n    try {\n      if (StringUtils.isEmpty(value)) {\n        value = record[key];\n      }\n      value = eval(\"record.\" + key);\n    } catch (e) { }\n\n    return value;\n  }\n\n  static setOptionsUsingKey(form: Form, fieldKey: string, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(form.formFields)) {\n      form.formFields.forEach(formField => {\n        if (!CollectionUtils.isEmpty(formField) && !CollectionUtils.isEmpty(formField.field)) {\n          if (formField.field.key == fieldKey && (formField.field.type == FieldType.AUTOCOMPLETE || formField.field.type == FieldType.CHECKBOX || formField.field.type == FieldType.RADIO || formField.field.type == FieldType.DROPDOWN)) {\n            FieldUtils.setOptionsUsingKey(<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field, masterDataKey);\n          }\n        }\n      })\n    }\n  }\n\n  static setOptionsUsingValues(form: Form, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(form.formFields)) {\n      form.formFields.forEach(formField => {\n        if (!CollectionUtils.isEmpty(formField) && !CollectionUtils.isEmpty(formField.field)) {\n          let isMatchingDependendKeyMap: boolean = false;\n          if (!StringUtils.isEmpty((<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field).optionDependsOn)) {\n            //  get optionDependsOn field value\n            let optionDependsOnValue = FormUtils.getValueViaEval(record, (<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field).optionDependsOn);\n\n            if (keyMap.optionDependsOnValue == optionDependsOnValue) {\n              isMatchingDependendKeyMap = true;\n            }\n          } else {\n            isMatchingDependendKeyMap = true;\n          }\n\n          if (formField.field.key == fieldKey && (formField.field.type == FieldType.AUTOCOMPLETE || formField.field.type == FieldType.CHECKBOX || formField.field.type == FieldType.RADIO || formField.field.type == FieldType.DROPDOWN)) {\n            if (isMatchingDependendKeyMap) {//} || relaodAll) {\n              FieldUtils.setOptionsUsingValues(<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field, keyMap);\n            }\n          }\n        }\n      })\n    }\n  }\n\n  static changeButtonLabelIcon(form: Form, buttonIdentifier: string, label?: string, icon?: string) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(<FormButton>form.action) && !CollectionUtils.isEmpty((<FormButton>form.action).buttons)) {\n      (<FormButton>form.action).buttons.forEach(button => {\n\n        if (!CollectionUtils.isEmpty(button) && button.identifier == buttonIdentifier) {\n          if (!StringUtils.isEmpty(label)) {\n            button.label = label;\n          }\n          if (!StringUtils.isEmpty(icon)) {\n            button.icon = icon\n          }\n        }\n      })\n    }\n  }\n}","import { Form, FormButton, FormButtonLayout, FormCellControl, FormCellControlType, FormCustomLayout, FormField } from \"../form/model\";\nimport { CollectionUtils } from \"./collection.utility\";\nimport { StringUtils } from \"./string.utility\";\n\n\nexport class FormCustomUtils {\n    static setCustomLayout(formConfig: Form, layout: FormCustomLayout) { \n        if (layout && !CollectionUtils.isEmpty(layout.cells)) {\n            layout.cells.forEach(cell => {\n                if (!CollectionUtils.isEmpty(cell.controls)) {\n                    cell.controls.forEach(control => {\n                        if (CollectionUtils.isEmpty(control.control))   {\n                            let resolvedControl: any = {};\n                            resolvedControl = this.getControl(formConfig, control);\n\n                            control.control = resolvedControl;\n\n                            // if (control.type == CellControllType.BUTTON && control.control['type'] == ButtonType.CHIP) {\n                            //     control.control['groupIdentifier'] = control.control.identifier + cell.rows + cell.cols;\n                            // }\n                        }\n                    });\n                }\n            })\n        }\n        console.log(formConfig.layout)\n    }\n\n    static getControl(formConfig: Form, cellControl: FormCellControl): any {\n        let control: any = {};\n\n        if (cellControl.control) {\n            control = cellControl.control;\n        } else if (!CollectionUtils.isEmpty(formConfig) && !CollectionUtils.isEmpty(formConfig.formFields) && cellControl.type == FormCellControlType.FIELD) {\n            control = this.getFieldControl(formConfig.formFields, cellControl.key);\n        } else if (!CollectionUtils.isEmpty(formConfig) && !CollectionUtils.isEmpty(formConfig.action) && cellControl.type == FormCellControlType.BUTTON) {\n            control = this.getButtonControl(formConfig.action, cellControl.key);\n        }\n\n        return control;\n    }\n\n    static getFieldControl(formFields: Array<FormField>, controlKey: string): any {\n        let control: any = {};\n\n        formFields.forEach(formField => {\n            if (!CollectionUtils.isEmpty(formField.field) && formField.field.key == controlKey) {\n                control = formField;\n            }\n        })\n\n        return control;\n    }\n\n    static getButtonControl(action: FormButton | FormButtonLayout, controlKey: string): any {\n        let control: any;\n\n        if (StringUtils.isEmpty(action['rowHeight']))   {\n            (<FormButton>action).buttons.forEach(button => {\n                if (button.identifier == controlKey) {\n                    control = button;\n                }\n            });\n        }   else    {\n            (<FormButtonLayout>action).cells.forEach(cell => {\n                cell.buttons.buttons.forEach(button => {\n                    if (button.identifier == controlKey) {\n                        control = button;\n                    }\n                });\n            })\n        }\n\n        return control;\n    }\n}","import { CellControl, CellControllType, Column, List, ListCustomLayout } from '../list/model';\nimport { CollectionUtils } from './collection.utility';\nimport { FormUtils } from './form.utility';\nimport { FieldUtils } from './field.utility';\nimport { StringUtils } from './string.utility';\nimport { FieldType, AutocompleteField, RadioField, CheckboxField, DropdownField, DropdownOption, KeyMap, FieldAppearance, FieldDiaplyType } from '../field/model';\nimport { Button, ButtonType } from '../button/model';\n\nexport class ListUtils {\n    static addColoumn() {\n\n    }\n\n    static hideColoumn() {\n\n    }\n\n    static setOptionsUsingKey(list: List, fieldKey: string, masterDataKey: string) {\n        if (!CollectionUtils.isEmpty(list) && !CollectionUtils.isEmpty(list.columns)) {\n            list.columns.forEach(column => {\n                if (!CollectionUtils.isEmpty(column) && !CollectionUtils.isEmpty(column.fields)) {\n                    column.fields.forEach(field => {\n                        if (!CollectionUtils.isEmpty(field) && field.key == fieldKey && (field.type == FieldType.AUTOCOMPLETE || field.type == FieldType.CHECKBOX || field.type == FieldType.RADIO || field.type == FieldType.DROPDOWN)) {\n                            FieldUtils.setOptionsUsingKey(<AutocompleteField | RadioField | CheckboxField | DropdownField>field, masterDataKey);\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n    static setOptionsUsingValues(list: List, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n        if (!CollectionUtils.isEmpty(list) && !CollectionUtils.isEmpty(list.columns)) {\n            list.columns.forEach(column => {\n                if (!CollectionUtils.isEmpty(column) && !CollectionUtils.isEmpty(column.fields)) {\n                    column.fields.forEach(field => {\n                        let isMatchingDependendKeyMap: boolean = false;\n                        if (!StringUtils.isEmpty((<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn)) {\n                            //  get optionDependsOn field value\n                            let optionDependsOnValue = FormUtils.getValueViaEval(record, (<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn);\n\n                            if (keyMap.optionDependsOnValue == optionDependsOnValue) {\n                                isMatchingDependendKeyMap = true;\n                            }\n                        } else {\n                            isMatchingDependendKeyMap = true;\n                        }\n\n                        if (!CollectionUtils.isEmpty(field) && field.key == fieldKey && (field.type == FieldType.AUTOCOMPLETE || field.type == FieldType.CHECKBOX || field.type == FieldType.RADIO || field.type == FieldType.DROPDOWN)) {\n                            if (isMatchingDependendKeyMap) {//} || relaodAll)   {\n                                FieldUtils.setOptionsUsingValues(<AutocompleteField | RadioField | CheckboxField | DropdownField>field, keyMap);\n                            }\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n\n    static getColumnKey(column: Column): string {\n        let key;\n        if (column.key) {\n            key = column.key;\n        } else {\n            if (column.fields && column.fields.length > 0) {\n                key = column.fields[0].key;\n            }\n        }\n\n        return key;\n    }\n\n\n    static getColumnLabel(column: Column): string {\n        let label;\n        if (column.label) {\n            label = column.label;\n        } else {\n            if (column.fields && column.fields.length > 0) {\n                label = column.fields[0].label;\n            }\n        }\n\n        return label;\n    }\n\n    static getColumnSelectorField(listConfig: List): DropdownField {\n        let options: Array<DropdownOption> = new Array<DropdownOption>();\n\n        let values: Array<string> = new Array<string>();\n        for (let column of listConfig.columns) {\n            let key: string = this.getColumnKey(column);\n            let label: string = this.getColumnLabel(column);\n\n            options.push({\n                key: key,\n                value: label,\n                disabled: false,\n                selected: column.show\n            });\n\n            if (column.show) {\n                values.push(key)\n            }\n        }\n\n        let columnSelectorField: DropdownField = {\n            key: \"columnSelector\",\n            label: \"Display Column\",\n            type: FieldType.DROPDOWN,\n            appearance: FieldAppearance.STANDARD,\n            isReadOnly: false,\n            fieldDisplayType: FieldDiaplyType.INLINE,\n            placeholder: \"Columns to display\",\n            options: options,\n            multiselect: true,\n            value: values\n        };\n\n        return columnSelectorField;\n    }\n\n    static getMobileConfig(listConfig: List) {\n        if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.mobile) && !CollectionUtils.isEmpty(listConfig.mobile.cells)) {\n            this.setCustomLayout(listConfig, listConfig.mobile);\n        }\n    }\n\n    static setCustomLayouts(listConfig: List) {\n        if (this.hasRowHover(listConfig)) {\n            this.setCustomLayout(listConfig, listConfig.row.hover.template.layout);\n        }\n        if (this.hasCustomCellLayout(listConfig)) {\n            listConfig.columns.forEach(column => {\n                if (column.template && column.template.layout)  {\n                    this.setCustomLayout(listConfig, column.template.layout);\n                }\n            })\n        }\n        if (this.hasCustomRowLayout(listConfig)) {\n            this.setCustomLayout(listConfig, listConfig.row.template.layout);\n        }\n    }\n\n    static hasRowHover(listConfig: List): boolean {\n        let hasHoverConfig: boolean = false;\n        \n        if (listConfig && listConfig.row && listConfig.row.hover && listConfig.row.hover.template && listConfig.row.hover.template.layout)  {\n            hasHoverConfig = true;\n        }\n\n        return hasHoverConfig;\n    }\n\n    static hasCustomRowLayout(listConfig: List): boolean {\n        let hasCustomRowLayout: boolean = false;\n        \n        if (listConfig && listConfig.row && listConfig.row.template && listConfig.row.template.layout)  {\n            hasCustomRowLayout = true;\n        }\n        \n        return hasCustomRowLayout;\n    }\n\n    static hasCustomCellLayout(listConfig: List): boolean {\n        let hasCustomCellLayout: boolean = false;\n        \n        if (listConfig && !CollectionUtils.isEmpty(listConfig.columns))  {\n            listConfig.columns.forEach(column => {\n                if (column.template && column.template.layout)  {\n                    hasCustomCellLayout = true;\n                }\n            })\n        }\n        \n        return hasCustomCellLayout;\n    }\n\n    static setCustomLayout(listConfig: List, layout: ListCustomLayout) {\n        if (layout && !CollectionUtils.isEmpty(layout.cells)) {\n            layout.cells.forEach(cell => {\n                if (!CollectionUtils.isEmpty(cell.controls)) {\n                    cell.controls.forEach(control => {\n                        if (CollectionUtils.isEmpty(control.control))   {\n                            let resolvedControl: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n                            resolvedControl = this.getControl(listConfig, control);\n\n                            control.control = resolvedControl.control;\n                            control.colIndex = resolvedControl.colIndex;\n                            control.cControlIndex = resolvedControl.cControlIndex;\n\n                            // if (control.type == CellControllType.BUTTON && control.control['type'] == ButtonType.CHIP) {\n                            //     control.control['groupIdentifier'] = control.control.identifier + cell.rows + cell.cols;\n                            // }\n                        }\n                    });\n                }\n            })\n        }\n    }\n\n    static getControl(listConfig: List, cellControl: CellControl): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        if (cellControl.control) {\n            control = { control: cellControl.control, colIndex: 0, cControlIndex: 0 };\n        } else if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.columns) && cellControl.type == CellControllType.FIELD) {\n            control = this.getColumnControl(listConfig.columns, cellControl.key);\n        } else if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.actions) && cellControl.type == CellControllType.BUTTON) {\n            control.control = this.getButtonControl(listConfig.actions, cellControl.key);\n            control.colIndex = listConfig.columns.length;\n        }\n\n        return control;\n    }\n\n    static getColumnControl(columns: Array<Column>, controlKey: string): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        let colIndex = 0;\n        columns.forEach(column => {\n            if (!CollectionUtils.isEmpty(column.fields) && CollectionUtils.isEmpty(control.control)) {\n                let cControlIndex = 0;\n                column.fields.forEach(field => {\n                    if (CollectionUtils.isEmpty(control.control)) {\n                        control = ListUtils.getFieldControl(field, controlKey, colIndex, cControlIndex);\n                        cControlIndex++;\n                    }\n                })\n            }\n            colIndex++;\n        })\n\n        return control;\n    }\n\n    static getFieldControl(field: any, controlKey: string, colIndex: number, cControlIndex: number): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        if (field.key == controlKey) {\n            control.control = field;\n            control.colIndex = colIndex;\n            control.cControlIndex = cControlIndex;\n            console.log(\"1111111\");\n            console.log(control);\n        }\n\n        return control;\n    }\n\n    static getButtonControl(buttons: Array<Button>, controlKey: string): any {\n        let control: any;\n\n        buttons.forEach(button => {\n            if (button.identifier == controlKey) {\n                control = button;\n            }\n        })\n\n        return control;\n    }\n}","import { Property } from '../setting/model';\n\nexport class PropertyUtils {\n    static getPropertyFromLocalStore(key: string): Property {\n        let propertiesMap: Map<string, Property> = JSON.parse(localStorage.getItem(\"properties\"));\n\n        return propertiesMap[key];\n    }\n}\n","import * as CryptoJS from 'crypto-js';\n\nexport class SecurityUtils {\n  static encrypt(data: any) {\n    try {\n      // return '';\n           return CryptoJS.AES.encrypt(JSON.stringify(data), 'key').toString();\n    } catch (e) {\n      Error(e);\n    }\n  }\n\n  static decrypt(data: any) {\n    try {\n//      const bytes = '';\n           const bytes = CryptoJS.AES.decrypt(data, 'key');\n      if (bytes.toString()) {\n               return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n        return \"1\";\n      }\n      return data;\n    } catch (e) {\n      Error(e);\n    }\n  }\n}","import { DropdownOption } from '../field/model';\nimport { CollectionUtils } from './collection.utility';\n\nexport class DropdownUtils {\n  static getValue(key: string, options: Array<DropdownOption>): any  {\n    let value: any;\n\n    if (!CollectionUtils.isEmpty(options))  {\n      options.forEach(option => {\n        if (option.key == key)  {\n          value = option.value;\n        }\n      })\n    }\n\n    return value;\n  }\n}\n","import { Form, FormDiaplyMode } from '../form/model';\nimport { CollectionUtils } from './collection.utility';\nimport { Crud, CrudWidgetType, CrudTab } from '../crud/model';\nimport { FormUtils } from './form.utility';\nimport { ListUtils } from './list.utility';\nimport { List } from '../list/model';\nimport { KeyMap } from '../field/model';\n\nexport class CrudUtils {\n  static setOptionsUsingKey(crud: Crud, fieldKey: string, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.form) && !CollectionUtils.isEmpty(crud.form.tabs)) {\n      crud.form.tabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.setOptionsUsingKey(<Form>widget.widget, fieldKey, masterDataKey);\n            }\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.LIST) {\n              ListUtils.setOptionsUsingKey(<List>widget.widget, fieldKey, masterDataKey);\n            }\n          })\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.list) && !CollectionUtils.isEmpty(crud.list.lists)) {\n      crud.list.lists.forEach(list => {\n        if (!CollectionUtils.isEmpty(list)) {\n          ListUtils.setOptionsUsingKey(list, fieldKey, masterDataKey);\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.search) && !CollectionUtils.isEmpty(crud.search.form))  {\n      FormUtils.setOptionsUsingKey(crud.search.form, fieldKey, masterDataKey);\n    }\n  }\n\n  static setOptionsUsingValues(crud: Crud, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.form) && !CollectionUtils.isEmpty(crud.form.tabs)) {\n      crud.form.tabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.setOptionsUsingValues(<Form>widget.widget, fieldKey, keyMap, relaodAll, record);\n            }\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.LIST) {\n              ListUtils.setOptionsUsingValues(<List>widget.widget, fieldKey, keyMap, relaodAll, record);\n            }\n          })\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.list) && !CollectionUtils.isEmpty(crud.list.lists)) {\n      crud.list.lists.forEach(list => {\n        if (!CollectionUtils.isEmpty(list)) {\n          ListUtils.setOptionsUsingValues(list, fieldKey, keyMap, relaodAll, record);\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.search) && !CollectionUtils.isEmpty(crud.search.form))  {\n      FormUtils.setOptionsUsingValues(crud.search.form, fieldKey, keyMap, relaodAll, record);\n    }\n  }\n\n  static setDisplayType(crudTabs: Array<CrudTab>, formDisplayMode: FormDiaplyMode) {\n    if (!CollectionUtils.isEmpty(crudTabs)) {\n      crudTabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              (<Form>widget.widget).displayMode = formDisplayMode;\n            }\n          })\n        }\n      })\n    }\n  }\n\n  static changeButtonLabelIcon(crudTabs: Array<CrudTab>, buttonIdentifier: string, label?: string, icon?: string)  {\n    if (!CollectionUtils.isEmpty(crudTabs)) {\n      crudTabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.changeButtonLabelIcon((<Form>widget.widget), buttonIdentifier, label, icon);\n            }\n          })\n        }\n      })\n    }\n  }\n}","import { KeyMap, KeyMapAssociation, DropdownOption, KeyMapOptionType } from '../field/model';\nimport { CollectionUtils } from './collection.utility';\nimport { FormUtils } from './form.utility';\nimport { ListUtils } from './list.utility';\nimport { CrudUtils } from './crud.utility';\nimport { MasterDataUtils } from './master-data.utility';\nimport { Crud } from '../crud/model';\nimport { Form } from '../form/model';\nimport { List } from '../list/model';\n\nexport class KeyMapUtils {\n  static push(keyMaps: Array<KeyMap>, associations: Array<KeyMapAssociation>, options: Array<DropdownOption> | string, optionType: KeyMapOptionType, optionComponent: Crud | Form | List, optionDependsOnValue?: string, record?: any): Array<KeyMap> {\n    // if (CollectionUtils.isEmpty(keyMaps)) {\n    //   keyMaps = new Array<KeyMap>();\n    // }\n\n    let optionsDD: Array<DropdownOption>;\n    if (!(options instanceof Array)) {\n      optionsDD = MasterDataUtils.getMasterDataAsOptions(<string>options);\n    } else {\n      optionsDD = options;\n    }\n\n    if (!CollectionUtils.isEmpty(associations)) {\n      keyMaps.push(KeyMapUtils.generateKeyMap(associations, options, optionDependsOnValue));\n\n      KeyMapUtils.setOptionssUsingValues(keyMaps, true, optionType, optionComponent, record);\n    }\n\n    return keyMaps;\n  }\n\n  static generateKeyMap(associations: Array<KeyMapAssociation>, options: Array<DropdownOption> | string, optionDependsOnValue?: string): KeyMap {\n    // if (CollectionUtils.isEmpty(keyMaps)) {\n    //   keyMaps = new Array<KeyMap>();\n    // }\n\n    let optionsDD: Array<DropdownOption>;\n    if (!(options instanceof Array)) {\n      optionsDD = MasterDataUtils.getMasterDataAsOptions(<string>options);\n    } else {\n      optionsDD = options;\n    }\n\n    let keyMap: KeyMap;\n    if (!CollectionUtils.isEmpty(associations)) {\n      keyMap = { associations: associations, options: optionsDD, optionDependsOnValue: optionDependsOnValue };\n    }\n\n    return keyMap;\n  }\n\n  static setOptionssUsingValues(keyMaps: Array<KeyMap>, relaodAll: boolean, optionType: KeyMapOptionType, optionComponent: Crud | Form | List, record?: any): void {\n    if (!CollectionUtils.isEmpty(keyMaps)) {\n      keyMaps.forEach(keyMap => {\n        if (!CollectionUtils.isEmpty(keyMap.associations)) {\n          keyMap.associations.forEach(association => {\n            if (optionType != null && KeyMapOptionType.CRUD == optionType) {\n              CrudUtils.setOptionsUsingValues(<Crud>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n            if (KeyMapOptionType.FORM == optionType) {\n              FormUtils.setOptionsUsingValues(<Form>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n            if (KeyMapOptionType.LIST == optionType) {\n              ListUtils.setOptionsUsingValues(<List>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n          });\n        }\n      })\n    }\n  }\n\n  static getValue(keyMaps: Array<KeyMap>, fieldKey: string, valueAsKey: any): any {\n    let value: any = \"\";\n\n    if (!CollectionUtils.isEmpty(keyMaps)) {\n      keyMaps.forEach(keyMap => {\n        if (!CollectionUtils.isEmpty(keyMap.associations)) {\n          keyMap.associations.forEach(association => {\n            if (association.fieldKey == fieldKey && !CollectionUtils.isEmpty(keyMap.options)) {\n              keyMap.options.forEach(option => {\n                if (option.key == valueAsKey) {\n                  value = option.value;\n                }\n              });\n            }\n          })\n        }\n      });\n    }\n\n    return value;\n  }\n}\n","import { Ability, RawRule } from '@casl/ability';\n\nexport class AbilityUtils {\n    static setAbility(ability: Ability): void {\n        let user: any = JSON.parse(localStorage.getItem(\"user\"));\n\n        if (user && user['permissions']) {\n            let rules: Array<RawRule> = <Array<RawRule>>user['permissions'];\n            ability.update(<any>rules);\n        }\n    }\n}\n","export * from './badge.utility';\nexport * from './button.utility';\nexport * from './collection.utility';\nexport * from './dependent.utility';\nexport * from './field.utility';\nexport * from './form.utility';\nexport * from './form-custom.utility';\nexport * from './list.utility';\nexport * from './master-data.utility';\nexport * from './object.utility';\nexport * from './property.utility';\nexport * from './security.utility';\nexport * from './string.utility';\nexport * from './dropdown.utility';\nexport * from './keymap.utility';\nexport * from './crud.utility';\nexport * from './ability.utility';\n// export * from './crud.utility';\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ObjectUtils, StringUtils } from '../../../utility';\nimport { ConfirmationPopupButton, ConfirmationPopup, ObjectTree } from '../../model';\nimport { FormGroup } from '@angular/forms';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport interface DialogData {\n  form: FormGroup,\n  sourceIdentifier: string,\n  sourceIndex: number,\n  widgetArrayIndex: number,\n  context: any,\n  originalData: any, \n  buttonRoute: Array<string>,\n  parentHierarchy: ObjectTree,\n  confirmationConfig: ConfirmationPopup;\n}\n\n@Component({\n  selector: 'mx-button-delete-confirmation',\n  templateUrl: './button-delete-confirmation.component.html',\n  styleUrls: ['./button-delete-confirmation.component.scss']\n})\nexport class ButtonDeleteConfirmationComponent implements OnInit {\n\n  constructor(public dialogRef: MatDialogRef<ButtonDeleteConfirmationComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData,\n    private ability: Ability) { \n      AbilityUtils.setAbility(this.ability);\n    } \n\n  title: string;\n  message: string;\n\n  ngOnInit(): void {\n    this.title = this.resolve(this.data.confirmationConfig.title);\n    this.message = this.resolve(this.data.confirmationConfig.message);\n  }\n\n  displayOnlyIcon(button: ConfirmationPopupButton): boolean {\n    return button && !StringUtils.isEmpty(button.icon) && StringUtils.isEmpty(button.label) ? true : false;\n  }\n\n  displayIcon(button: ConfirmationPopupButton): boolean {\n    return button && !StringUtils.isEmpty(button.icon) ? true : false;\n  }\n\n  resolve(text: string): string {\n    return ObjectUtils.resolve(text, this.data.originalData);\n  }\n\n  click(event: any) {\n    this.dialogRef.close(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { Button, ObjectTree, ReservedButton, Action, ButtonType, HoverButton, ButtonGroup, IconPosition } from '../../model';\nimport { FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n//import { ButtonDeleteConfirmationComponent } from '../button-delete-confirmation/button-delete-confirmation.component';\nimport { Subscription } from 'rxjs';\nimport { Params, Router, ActivatedRoute } from '@angular/router';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { StringUtils, CollectionUtils, FormUtils, SecurityUtils, ButtonUtils, DependentUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\nimport { ButtonDeleteConfirmationComponent } from '../button-delete-confirmation/button-delete-confirmation.component';\n\n//export { Button, ObjectTree, ReservedButton, Action, ButtonType, HoverButton, ButtonGroup, IconPosition } from '../../model';\n\n@Component({\n  selector: 'mx-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent implements OnInit, OnDestroy {\n  @Input() form: FormGroup;\n  @Input() formDisplayMode: FormDiaplyMode;\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() identifier: string;\n  @Input() context: any;\n  @Input() originalData: any;\n  @Input() label: string;\n  @Input() buttonRoute: Array<string>;\n  @Input() parentHierarchy: ObjectTree;\n  @Input() disabled: boolean;\n  @Output() onClick = new EventEmitter();\n  @Output() onIconClick = new EventEmitter();\n\n  @Input() _button: Button | ButtonGroup | HoverButton;\n  get button(): Button | ButtonGroup | HoverButton {\n    return this._button;\n  }\n  @Input()\n  set button(_button: Button | ButtonGroup | HoverButton) {\n    this._button = _button;\n    if (StringUtils.isEmpty(this.label) || !StringUtils.isEmpty(this._button.label)) {\n      this.label = this._button.label;\n    }\n    if (StringUtils.isEmpty(this._button.width)) {\n      this._button.width = '';\n    } else {\n      this._button.width = this._button.width + '%';\n      document.documentElement.style.setProperty('--width', this._button.width + '%');\n    }\n    if (StringUtils.isEmpty(this._button.iconPosition)) {\n      this._button.iconPosition = IconPosition.LEFT;\n    }\n  }\n\n  routerLink = [];\n\n  displayButton: boolean = true;\n  isButtonDisabled: boolean = false;\n  isDisplayOnlyIcon: boolean = false;\n  hasIconDisplay: boolean = false;\n  isFlatButton: boolean = false;\n  isGhostButton: boolean = false;\n  isRaisedButton: boolean = false;\n  isStrokedButton: boolean = false;\n  isFabButton: boolean = false;\n  isChip: boolean = false;\n  isLink: boolean = false;\n  isGroupButton: boolean = false;\n  isMenuButton: boolean = false;\n  buttonWithoutPadding: boolean = false;\n\n\n  formSubscription: Subscription;\n\n  constructor(\n    public dialog: MatDialog,\n    private router: Router,\n    private route: ActivatedRoute,\n    private ability: Ability\n  ) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    if (this.displayButton) {\n      this.setLabel();\n\n      this.setButtonEnable();\n      if (this.form) {\n        this.formSubscription = this.form.valueChanges.subscribe(obj => {\n          this.setButtonEnable();\n        });\n      }\n\n      this.setButtonDisplay();\n      this.setOnlyIconDisplay();\n      this.setIconDisplay();\n      this.setLink();\n      this.setGroupButton();\n      this.setFlatButton();\n      this.setGhostButton();\n      this.setRaisedButton();\n      this.setStrokedButton();\n      this.setFabButton();\n      this.setChip();\n      this.setButtonWithoutPadding();\n      this.setMenuButton();\n    }\n  }\n\n  setButtonDisplay() {\n    if ((!CollectionUtils.isEmpty(this._button.displayInFormModes) && this._button.displayInFormModes.indexOf(this.formDisplayMode) <= -1) || !DependentUtils.displayDependencyField(this._button.dependentOnFields, null, this.context ? this.context : this.originalData)) {\n      this.displayButton = false;\n    }\n  }\n\n  setButtonWithoutPadding() {\n    if (this._button.identifier == \"fieldTextClearBtn\" || this._button.identifier == \"fieldRouteToBtn\" || this._button.identifier == \"listFieldAsLink\" || this.identifier == \"listFieldAsLink\") {\n      this.buttonWithoutPadding = true;\n    }\n  }\n  setLabel(): void {\n    if (StringUtils.isEmpty(this.label)) {\n      this.label = this._button.label;\n    }\n  }\n\n  state: boolean = true;\n  click(event: any) {\n    if (!CollectionUtils.isEmpty(this._button.confirmationConfiguration)) {\n      this.openDialog(event);\n    } else {\n      this.invokeAction(null, event);\n    }\n  }\n\n  openDialog(event: any): void {\n    const dialogRef = this.dialog.open(ButtonDeleteConfirmationComponent, {\n      width: this._button.confirmationConfiguration.width ? this._button.confirmationConfiguration.width : '250px',\n      data: {\n        form: this.form,\n        sourceIdentifier: this.sourceIdentifier,\n        sourceIndex: this.sourceIndex,\n        widgetArrayIndex: this.widgetArrayIndex,\n        context: this.context,\n        originalData: this.originalData,\n        buttonRoute: this.buttonRoute,\n        parentHierarchy: this.parentHierarchy,\n        confirmationConfig: this._button.confirmationConfiguration,\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n      this.invokeAction(result, event);\n    });\n  }\n\n  invokeAction(actionDialog: any, event: any): void {\n    if (this._button.identifier == \"crudBackButton\" && this.buttonRoute && this.buttonRoute.length > 0) {\n      this.router.navigate(this.buttonRoute, { skipLocationChange: false, replaceUrl: true });\n      return;\n    }\n\n    if (this._button.identifier == ReservedButton.RESET) {\n      FormUtils.reset(this.form);\n      this.context = {};\n    }\n\n    let action: Action = ButtonUtils.getAction(\n                            this.sourceIdentifier, \n                            this.sourceIndex, \n                            this.widgetArrayIndex, \n                            this._button.identifier, \n                            this.parentHierarchy, \n                            event, \n                            this.originalData, \n                            this.context, \n                            actionDialog);\n\n    if (this._button.identifier == ReservedButton.SEARCH || this._button.identifier == ReservedButton.RESET) {\n      this.addSearchParamsInUrl(action.data);\n    } else {\n      this.onClick.emit(action);\n    }\n  }\n\n  iconClick(event: any): void {\n    let action: Action = ButtonUtils.getAction(\n                            this.sourceIdentifier, \n                            this.sourceIndex, \n                            this.widgetArrayIndex, \n                            this._button.identifier, \n                            this.parentHierarchy, \n                            event, \n                            this.originalData, \n                            this.context, \n                            null);\n\n    if (this._button['groupIdentifier'] == ReservedButton.CLEAR_FILTER_FIELD) {\n      delete action.data[action.action];\n      this.addSearchParamsInUrl(action.data);\n    } else  {\n      this.onIconClick.emit(action);\n    }\n  }\n  \n  public addSearchParamsInUrl(filterData: any) {\n    const queryParams: Params = { filter: SecurityUtils.encrypt(filterData) };\n\n    this.router.navigate(\n      [],\n      {\n        relativeTo: this.route,\n        queryParams: queryParams,\n        queryParamsHandling: 'merge', // remove to replace all query params by provided\n        skipLocationChange: false,\n        replaceUrl: true\n      });\n  }\n\n  setButtonEnable(): void {\n    let isButtonDisabled: boolean = false;\n\n    if (this.form) {\n      isButtonDisabled = !this.form.valid;\n    }\n    if (this.form && this.form.disabled) {\n      isButtonDisabled = false;\n    }\n    if (this._button.identifier == ReservedButton.SEARCH || this._button.identifier == ReservedButton.CANCEL || this._button.identifier == ReservedButton.RESET || this._button.identifier == ReservedButton.ADD_FIELD || this._button.identifier == ReservedButton.REMOVE_FIELD || this._button.alwaysEnable == true) {\n      isButtonDisabled = false;\n    }\n    if (this.disabled) {\n      isButtonDisabled = this.disabled;\n    }\n    this.isButtonDisabled = isButtonDisabled;\n  }\n\n  setOnlyIconDisplay(): void {\n    this.isDisplayOnlyIcon = this._button && this._button.onlyIcon && !StringUtils.isEmpty(this._button.icon) ? true : false;\n  }\n\n  setIconDisplay(): void {\n    this.hasIconDisplay = this._button && this._button.icon ? true : false;\n  }\n\n  setFlatButton(): void {\n    this.isFlatButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.FLAT && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setGhostButton(): void {\n    this.isGhostButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.GHOST && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setRaisedButton(): void {\n    this.isRaisedButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.RAISED && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setStrokedButton(): void {\n    this.isStrokedButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.STROKED && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setFabButton(): void {\n    this.isFabButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.FAB && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setChip(): void {\n    this.isChip = this._button && ButtonUtils.instanceOfChipButton(this._button) && !StringUtils.isEmpty((<ButtonGroup>this._button).groupIdentifier) ? true : false;\n  }\n\n  setLink(): void {\n    this.isLink = this._button && !StringUtils.isEmpty(this.label) ? !CollectionUtils.isEmpty((<Button>this._button).routerLink) : false;\n    this.routerLink = (<Button>this._button).routerLink;\n  }\n\n  setGroupButton(): void {\n    this.isGroupButton = this._button && ButtonUtils.instanceOfButtonGroup(this._button) && !StringUtils.isEmpty((<ButtonGroup>this._button).groupIdentifier) ? true : false;\n  }\n\n  setMenuButton(): void {\n    this.isMenuButton = this._button && ButtonUtils.instanceOfHoverButton(this._button) ? true : false;\n  }\n\n  ngOnDestroy() {\n    if (this.formSubscription) {\n      this.formSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Button, ObjectTree, ButtonGroup, HoverButton, Badge, ButtonType } from '../../model';\nimport { ButtonGroupList, HoverButtonList } from '../../model/button-group.model';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { ObjectUtils, ButtonUtils, StringUtils, CollectionUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n//export { Button, ObjectTree, ButtonGroup, HoverButton, Badge, ButtonType } from '../../model';\n\n@Component({\n  selector: 'mx-button-group',\n  templateUrl: './button-group.component.html',\n  styleUrls: ['./button-group.component.scss', '../button/button.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ButtonGroupComponent implements OnInit {\n  @Input() form: FormGroup;\n  @Input() formDisplayMode: FormDiaplyMode;\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() _buttons: Array<Button | ButtonGroup | HoverButton>;\n\n  get buttons(): Array<Button | ButtonGroup | HoverButton> {\n    return this._buttons;\n  }\n  @Input()\n  set buttons(_buttons: Array<Button | ButtonGroup | HoverButton>) {\n    if (!(_buttons instanceof Array)) {\n      let btns = new Array<Button | ButtonGroup | HoverButton>();\n      btns.push(_buttons);\n      _buttons = btns;\n    }\n    this._buttons = _buttons;\n\n    this.getButtonList();\n    this.getButtonType();\n\n    this.displayDesktopDD = this.hasMobileButton('showOnDesktop');\n    this.displayTabletDD = this.hasMobileButton('showOnTablet');\n    this.displayMobileDD = this.hasMobileButton('showOnMobile');\n\n    if (this.displayDesktopDD || this.displayMobileDD || this.displayTabletDD)  {\n      this.changeButtonTypeToGhost();\n    }\n  }\n\n  @Input() context: any;\n  @Input() originalData: any;\n  @Input() buttonRoute: Array<string>;\n  @Input() parentHierarchy: ObjectTree;\n  @Input() disabled: boolean;\n  @Output() onClick = new EventEmitter();\n  @Output() onIconClick = new EventEmitter();\n\n  buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList> = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n  buttonListsType: Array<string> = new Array<string>();\n\n  displayDesktopDD: boolean = false;\n  displayTabletDD: boolean = false;\n  displayMobileDD: boolean = false;\n  hoverButtonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList> = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n\n  constructor(private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit(): void {\n    // this.getButtonList();\n    // this.getButtonType();\n  }\n\n  hasMobileButton(displayIn: string): boolean {\n    let hasButtonsForDropdown: boolean = false;\n\n    if (!CollectionUtils.isEmpty(this.buttonLists)) {\n      this.buttonLists.forEach(buttons => {\n        if (!CollectionUtils.isEmpty(buttons) && buttons instanceof Array) {\n          (<Array<Button>>buttons).forEach(button => {\n            if (button['showOnDesktop'] == null && button['showOnTablet'] == null && button['showOnMobile'] == null)  {\n              button['showOnDesktop'] = true;\n              button['showOnTablet'] = true;\n              button['showOnMobile'] = true; \n            }\n\n            if (button[displayIn]) {\n              hasButtonsForDropdown = true;\n            }\n          })\n        }\n      });\n    }\n\n    return hasButtonsForDropdown;\n  }\n \n  changeButtonTypeToGhost() {\n    this.hoverButtonLists = JSON.parse(JSON.stringify(this.buttonLists));\n\n    if (!CollectionUtils.isEmpty(this.hoverButtonLists)) {\n      this.hoverButtonLists.forEach(buttons => {\n        if (!CollectionUtils.isEmpty(buttons) && buttons instanceof Array) {\n          (<Array<Button>>buttons).forEach(button => {\n            button.type = ButtonType.GHOST;\n          })\n        }\n      });\n    }\n  }\n\n  getButtonList() {\n    this.buttonLists = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n    let buttonArray: Array<Array<Button>> = new Array<Array<Button>>();\n    let buttonArrayIndex: number = 0;\n\n    if (this._buttons) {\n      for (let index = 0; index < this._buttons.length; index++) {\n        if (ButtonUtils.instanceOfButton(this._buttons[index])) {\n          if (ObjectUtils.isEmpty(buttonArray[buttonArrayIndex])) {\n            buttonArray[buttonArrayIndex] = new Array<Button>();\n\n            this.buttonLists.push(buttonArray[buttonArrayIndex]);\n          }\n\n          buttonArray[buttonArrayIndex].push(<Button>this._buttons[index]);\n        }\n        if (ButtonUtils.instanceOfButtonGroup(this._buttons[index]) || ButtonUtils.instanceOfChipButton(this._buttons[index])) {\n          let bgAdded = this.getGroupButton((<ButtonGroup>this._buttons[index]).groupIdentifier, this.buttonLists)\n\n          if (bgAdded) {\n            buttonArrayIndex++;\n          }\n        }\n      }\n\n      let hoverButton: HoverButtonList = this.getHoverButtons();\n      if (hoverButton && hoverButton.hoverButtons && hoverButton.hoverButtons.length > 0) {\n        this.buttonLists.push(hoverButton);\n        buttonArrayIndex++;\n      }\n    }\n  }\n\n  isGroupAdded(groupIdentifier: string, buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList>): boolean {\n    let groupAdded: boolean = false;\n\n    if (buttonLists) {\n      groupAdded = buttonLists.filter(buttonList => buttonList && (<ButtonGroupList>buttonList).groupIdentifier == groupIdentifier).length > 0;\n    }\n\n    return groupAdded;\n  }\n\n  getGroupButton(groupIdentifier: string, buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList>): boolean {\n    let bgAdded: boolean = false;\n    let gButtons: Array<ButtonGroup> = new Array<ButtonGroup>();\n\n    if (this._buttons && this.isGroupAdded(groupIdentifier, buttonLists) == false) {\n      gButtons = this._buttons.filter(button => (<ButtonGroup>button).groupIdentifier == groupIdentifier).map(button => {\n        button.width = '100';\n        return <ButtonGroup>button;\n      });\n\n      // To check if any button is fullwidth\n      let width = gButtons.filter(gButton => gButton.fullWidth == true).length > 0 ? '100' : 'auto';\n      let buttonWidth: any = 'auto';\n      if (width != 'auto') {\n        buttonWidth = (+width / gButtons.length);\n      }\n\n      buttonLists.push({\n        groupIdentifier: groupIdentifier,\n        width: width,\n        buttonWidth: buttonWidth,\n        groupButtons: gButtons\n      });\n      bgAdded = true;\n    }\n\n    return bgAdded;\n  }\n\n  getHoverButtons(): HoverButtonList {\n    let hoverButtons: Array<HoverButton> = new Array<HoverButton>();\n    let groupIdentifier: string;\n    let groupLabel: string;\n    let groupIcon: string;\n    let badge: Badge;\n    let width: string = 'auto';\n\n    if (this._buttons) {\n      this._buttons.filter(button => ButtonUtils.instanceOfHoverButton(button)).forEach(button => {\n        if (StringUtils.isEmpty(groupIdentifier)) {\n          groupIdentifier = (<HoverButton>button).groupIdentifier;\n        }\n        if (StringUtils.isEmpty(groupLabel)) {\n          groupLabel = (<HoverButton>button).groupLabel;\n        }\n        if (StringUtils.isEmpty(groupIcon)) {\n          groupIcon = (<HoverButton>button).groupIcon;\n        }\n        if (CollectionUtils.isEmpty(badge)) {\n          badge = (<HoverButton>button).badge;\n        }\n        if ((<HoverButton>button).fullWidth) {\n          width = '100';\n          button.width = '100';\n        }\n\n        hoverButtons.push(<HoverButton>button);\n      });\n    }\n\n    return { groupIdentifier: groupIdentifier, groupLabel: groupLabel, groupIcon: groupIcon, badge: badge, width: width, hoverButtons: hoverButtons };\n  }\n\n  getButtonType(): void {\n    this.buttonListsType = new Array<string>();\n\n    if (this.buttonLists && this.buttonLists.length > 0) {\n      for (let buttonList of this.buttonLists) {\n        let buttonType: string = \"\";\n        if (this.isButtonGroup(buttonList)) {\n          buttonType = 'ButtonGroup';\n        } else if (this.isChipGroup(buttonList)) {\n          buttonType = 'ChipGroup';\n        } else if (this.isButtonHover(buttonList)) {\n          buttonType = 'ButtonHover';\n        } else if (this.isButtonArray(buttonList)) {\n          buttonType = 'ButtonArray';\n        }\n\n        this.buttonListsType.push(buttonType);\n      }\n    }\n  }\n\n  isButtonGroup(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    let isButtonGroup: boolean = false;\n\n    if (buttonList && (<ButtonGroupList>buttonList).groupButtons && (<ButtonGroupList>buttonList).groupButtons.length > 0 && !StringUtils.isEmpty((<ButtonGroupList>buttonList).groupIdentifier)) {\n      isButtonGroup = (<ButtonGroupList>buttonList).groupButtons.filter(button => ButtonUtils.instanceOfButtonGroup(button)).length > 0;\n    }\n\n    return isButtonGroup;\n  }\n\n  isChipGroup(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    let isChipGroup: boolean = false;\n\n    if (buttonList && (<ButtonGroupList>buttonList).groupButtons && (<ButtonGroupList>buttonList).groupButtons.length > 0 && !StringUtils.isEmpty((<ButtonGroupList>buttonList).groupIdentifier)) {\n      isChipGroup = (<ButtonGroupList>buttonList).groupButtons.filter(button => ButtonUtils.instanceOfChipButton(button)).length > 0;\n\n      if (isChipGroup) {\n        (<ButtonGroupList>buttonList).groupButtons.forEach(button => ButtonUtils.instanceOfChipButton(button));\n      }\n    }\n\n    return isChipGroup;\n  }\n\n  isButtonHover(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    return buttonList && (<HoverButtonList>buttonList).hoverButtons && (<HoverButtonList>buttonList).hoverButtons.length > 0\n  }\n\n  isButtonArray(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    return buttonList instanceof Array;\n  }\n\n  click(event: any) {\n    this.onClick.emit(event);\n  }\n\n  iconClick(event: any) {\n    this.onIconClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { CrudHeader, ActionPage, CrudTab, CrudWidget, CrudWidgetType, CrudFormData, CrudFormTabData, CrudForm, CrudStyle } from '../../model';\nimport { Badge, ButtonGroup, HoverButton, Button, ButtonColor, ButtonType, ButtonSize, Action } from '../../../button/model';\nimport { CollectionUtils, DependentUtils, FormUtils } from '../../../utility';\nimport { Form, FormDiaplyMode } from '../../../form/model';\nimport { Wizard } from '../../../wizard/model';\nimport { List } from '../../../list/model';\nimport { FieldChange, KeyMap } from '../../../field/model';\nimport { Ability } from '@casl/ability';\nimport { AbilityUtils } from '../../../utility/ability.utility';\n\n@Component({\n  selector: 'mx-crud-form',\n  templateUrl: './crud-form.component.html',\n  styleUrls: ['./crud-form.component.scss']\n})\nexport class CrudFormComponent implements OnInit {\n  @Input() identifier: string;\n  @Input() header: CrudHeader;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() actionPages: Array<ActionPage>;\n  @Input() onAction: string;\n  @Input() displayMode: FormDiaplyMode;\n\n  @Input() form: CrudForm;\n\n  @Input() reset: boolean;\n  @Input() configData: CrudFormData;\n  @Input() keyMap: Array<KeyMap>;\n\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onSortClick = new EventEmitter();\n  @Output() onPageClick = new EventEmitter();\n\n  title: string;\n  backButton: Button;\n  formsConfigToDisplay: Array<Form | List | Wizard> = new Array<Form | List | Wizard>();\n  rowsInTab: Array<Array<Array<CrudWidget>>> = new Array<Array<Array<CrudWidget>>>();\n\n  badges: Array<Badge>;\n  pageBackRoute: Array<string>;\n  record: any;\n\n  addWidget: Button;\n  formTabLength: number = 0;\n  filteredTabs: Array<CrudTab> = new Array<CrudTab>();\n\n  constructor(private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    //    this.filterForms();\n\n    this.drawTabs();\n\n    this.setConfigAsPerTab();\n\n    this.setFormTitle();\n\n    this.addWidget = this.addWidgetButton(\"addWidget\", \"Add\", \"add\", ButtonColor.PRIMARY);\n  }\n\n  setFormTitle(): void {\n    if (this.form && !CollectionUtils.isEmpty(this.form.tabs)) {\n      this.form.tabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if ((<Form>widget.widget) && (<Form>widget.widget).displayMode) {\n              let displayMode = (<Form>widget.widget).displayMode\n              if (this.displayMode) {\n                displayMode = this.displayMode;\n              }\n\n              this.setFormHeader(this.header, displayMode);\n            }\n          })\n        }\n      });\n    }\n  }\n\n  setFormHeader(header: CrudHeader, displayMode: FormDiaplyMode): void {\n    let title: string = header.title;\n\n    switch (displayMode) {\n      case FormDiaplyMode.SEARCH: {\n        title = header.searchModeTitle ? header.searchModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.ADD: {\n        title = header.addModeTitle ? header.addModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.EDIT: {\n        title = header.editModeTitle ? header.editModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.VIEW: {\n        title = header.viewModeTitle ? header.viewModeTitle : title;\n        break;\n      }\n      default: {\n        title = header.title;\n      }\n    }\n\n    this.title = title;\n  }\n\n  setConfigAsPerTab(tabIdentifier?: string): void {\n    if (this.configData) {\n      this.badges = this.configData.badges;\n      this.pageBackRoute = this.configData.pageBackRoute;\n      this.record = this.configData.record;\n\n      if (this.configData.configPerTabs) {\n        let tabIndex = 0;\n        this.configData.configPerTabs.forEach((tabConfigData: CrudFormTabData, tabKey: string) => {\n          if ((tabKey == tabIdentifier || (tabIndex == 0 && tabIdentifier == null)) && tabConfigData) {\n            if (tabConfigData.badges) {\n              this.badges = tabConfigData.badges;\n            }\n            if (tabConfigData.pageBackRoute) {\n              this.pageBackRoute = tabConfigData.pageBackRoute;\n            }\n            if (tabConfigData.record) {\n              this.record = this.configData.record;\n            }\n          }\n          tabIndex++;\n        })\n      }\n    }\n  }\n\n  getTabIdentifier(tabTitle: string): string {\n    let tabIdentifier = '';\n    if (this.form && this.form.tabs) {\n      for (let tab of this.form.tabs) {\n        if (tab.label == tabTitle) {\n          tabIdentifier = tab.identifier;\n          break;\n        }\n      }\n    }\n\n    return tabIdentifier;\n  }\n\n  drawTabs(): void {\n    if (this.form && this.form.tabs && this.form.tabs.length > 0) {\n      let widgetIdentifiers: Array<string> = null;\n\n      if (!CollectionUtils.isEmpty(this.actionPages)) {\n        for (let actionPage of this.actionPages) {\n          if (actionPage.buttonIdentifier == this.onAction) {\n            widgetIdentifiers = actionPage.associatedWidgetIdentifiers;\n          }\n        }\n      }\n\n      for (let tIndex = 0; tIndex < this.form.tabs.length; tIndex++) {\n        if (\n          this.form.tabs[tIndex] &&\n          (this.form.tabs[tIndex].permission == null || (this.form.tabs[tIndex].permission && (this.ability.can(this.form.tabs[tIndex].permission['action'], this.form.tabs[tIndex].permission['subject']))))\n        ) {\n          let tabRows: Array<Array<CrudWidget>> = this.drawTab(tIndex, widgetIdentifiers);\n          if (!CollectionUtils.isEmpty(tabRows)) {\n            this.rowsInTab.push(tabRows);\n\n            this.formTabLength++;\n            this.filteredTabs.push(this.form.tabs[tIndex]);\n          }\n        }\n      }\n    }\n  }\n\n  drawTab(tabIndex: number, widgetIdentifiers: Array<string>): Array<Array<CrudWidget>> {\n    let rows: Array<Array<CrudWidget>> = new Array<Array<CrudWidget>>();\n    let rIndex = 0;\n\n    if (this.form && this.form.tabs && this.form.tabs.length > 0) {\n      for (let tIndex = 0; tIndex < this.form.tabs.length; tIndex++) {\n        if (this.form.tabs[tIndex].widgets && this.form.tabs[tIndex].widgets.length > 0 && tIndex == tabIndex) {\n          for (let widget of this.form.tabs[tIndex].widgets) {\n            if (\n              widget &&\n              (\n                widget.permission == null ||\n                (\n                  widget.permission && (this.ability.can(widget.permission['action'], widget.permission['subject']))\n                )\n              ) &&\n              (\n                widgetIdentifiers == null ||\n                widgetIdentifiers.includes((<Form>widget.widget).identifier)\n              )) {\n              if (CollectionUtils.isEmpty(rows[rIndex])) {\n                rows[rIndex] = new Array<CrudWidget>();\n              }\n\n              let colCount = 0;\n              rows[rIndex].forEach(row => colCount += row.colSpan);\n\n              if (colCount < 2) {\n                rows[rIndex].push(widget);\n              } else {\n                rIndex++;\n                rows[rIndex] = new Array<CrudWidget>();\n                rows[rIndex].push(widget);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    console.log(rows);\n    return rows;\n  }\n\n  displayWidget(widget: CrudWidget, supportingRecord: any, record: any): boolean {\n    return DependentUtils.displayDependencyField(widget.dependentOnFields, supportingRecord, record);\n  }\n\n  // filterForms() {\n  //   let formIdentifiers: Array<string>;\n  //   //    let mappedFormDisplayMode: FormDiaplyMode;\n\n  //   if (this.actionPages && this.actions) {\n  //     for (let actionPage of this.actionPages) {\n  //       for (let action of this.actions) {\n  //         if (actionPage.buttonIdentifier == action.identifier) {\n  //           formIdentifiers = actionPage.associatedFormIdentifiers;\n  //           //            mappedFormDisplayMode = actionPage.formDisplayMode;\n  //         }\n  //       }\n  //     }\n\n  //     if (this.form && this.form.tabs && !CollectionUtils.isEmpty(formIdentifiers)) {\n  //       for (let tab of this.form.tabs) {\n  //         for (let widget of tab.widgets) {\n  //           if (\n  //             formIdentifiers.indexOf((<Form>widget.widget).identifier) > -1 &&\n  //             (this.displayMode == null || this.displayMode == (<Form>widget.widget).displayMode)\n  //           ) {\n  //             widget.widget['display'] = true;\n  //           }\n  //         }\n  //       }\n  //     } else {\n  //       this.form.tabs.forEach(tab => tab.widgets.forEach(widget => widget.widget['display'] = true));\n  //     }\n  //   } else {\n  //     this.form.tabs.forEach(tab => tab.widgets.forEach(widget => widget.widget['display'] = true));\n  //   }\n\n  //   this.form.tabs.forEach(tab => {\n  //     let display: boolean = false;\n\n  //     tab.widgets.forEach(widget => {\n  //       if (widget.widget['display']) {\n  //         display = true;\n  //       }\n  //       tab['display'] = display;\n  //     });\n\n  //     if (tab['display']) {\n  //       this.formTabLength++;\n  //       this.filteredTabs.push(tab);\n  //     }\n  //   });\n  // }\n\n  addWidgetButton(identifier: string, label: string, icon: string, color: ButtonColor): Button {\n    let buttonConfig: Button = {\n      identifier: identifier,\n      type: ButtonType.GHOST,\n      label: label,\n      color: color,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      onlyIcon: false,\n      alwaysEnable: true\n    }\n\n    return buttonConfig;\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(action: Action) {\n    console.log(action);\n    if (action.action == \"addWidget\") {\n      if (this.record[action.sourceIdentifier] && this.record[action.sourceIdentifier] instanceof Array) {\n        (<Array<any>>this.record[action.sourceIdentifier]).push({});\n      } else {\n        this.record[action.sourceIdentifier] = new Array<any>();\n        this.record[action.sourceIdentifier].push({});\n      }\n    }\n    this.onButtonClick.emit(action);\n  }\n\n  onTabChange(event: any) {\n    console.log(event);\n\n    this.setConfigAsPerTab(this.getTabIdentifier(event.tab.textLabel));\n  }\n\n  onAccordianChange(event) {\n    console.log(event);\n  }\n\n  onSort(event: any) {\n    console.log(event);\n    this.onSortClick.emit(event);\n  }\n\n  onPage(event: any) {\n    console.log(event);\n    this.onPageClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, Inject, OnDestroy } from '@angular/core';\nimport { Record, ListType, ListHeader } from '../../../list/model';\nimport { Button, HoverButton, ButtonGroup, ButtonColor, ButtonType, ButtonSize, Badge, IconPosition, Action, ReservedButton } from '../../../button/model';\nimport { KeyMap, FieldChange } from '../../../field/model';\nimport { Subscription } from 'rxjs';\nimport { Ability, RawRule } from '@casl/ability';\nimport { CrudHeader, CrudList, CrudSearch, SearchDisplayType, ActionPage, CrudListData, CrudListTabData, CrudListDisplayType, CrudStyle } from '../../model';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { MatBottomSheetRef, MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { MAT_BOTTOM_SHEET_DATA } from '@angular/material/bottom-sheet';\nimport { AbilityUtils, StringUtils, CollectionUtils } from '../../../utility';\n\n@Component({\n  selector: 'mx-crud-list',\n  templateUrl: './crud-list.component.html',\n  styleUrls: ['./crud-list.component.scss']\n})\nexport class CrudListComponent implements OnInit, OnDestroy {\n  @Input() identifier: string;\n  @Input() header: CrudHeader;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() actionPages: Array<ActionPage>;\n\n  @Input() quickLinks: Array<Button | HoverButton | ButtonGroup>;\n  @Input() searchConfig: CrudSearch;\n  @Input() listConfig: CrudList;\n\n  @Input() formReset: boolean;\n\n  @Input() originalData: any;\n  @Input() _configData: CrudListData;\n  get configData(): CrudListData {\n    return this._configData;\n  }\n  @Input()\n  set configData(_configData: CrudListData) {\n    this._configData = _configData;\n    this.setConfigAsPerTab();\n  }\n\n  @Input() keyMap: Array<KeyMap>;\n\n  @Input() listReset: boolean;\n\n  _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  @Input()\n  set expanded(_expanded: boolean) {\n    this._expanded = _expanded;\n  }\n  @Input()\n  expandRowIndex: number;\n\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onButtonIconClick = new EventEmitter();\n\n  @Output() onSortClick = new EventEmitter();\n  @Output() onPageClick = new EventEmitter();\n  @Output() onTabClick = new EventEmitter();\n\n  title: string;\n  showSearchForm: boolean = false;\n  searchButton: Button;\n  searchModalButton: Button;\n  listHeaders: Array<ListHeader> = new Array<ListHeader>();\n\n  badges: Array<Badge>;\n  pageBackRoute: Array<string>;\n  records: Array<Record>;\n  searchData: any;\n  searchOnFieldsCount: number = 0;\n  searchOnFieldsButtons: Array<Button> = new Array<Button>();\n\n  buttonSubscriber: Subscription;\n  fieldSubscriber: Subscription;\n  formSubscriber: Subscription;\n  dialogRefSubscriber: Subscription;\n\n  constructor(private _bottomSheet: MatBottomSheet, private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.searchButton = this.setSearchButton('searchButton', 'Search', 'search');\n    this.searchModalButton = this.setSearchButton('searchCloseButton', 'Close', 'close');\n    this.displaySearchForm();\n\n    this.setListHeaders();\n    this.setCrudHeader();\n\n    if (this.searchConfig && this.searchConfig.displayType != SearchDisplayType.ABOVE_LIST) {\n      this.searchConfig.form.displayInColumns = 1;\n    }\n    this.setConfigAsPerTab(); \n  }\n\n  setConfigAsPerTab(tabIdentifier?: string): void {\n    if (this._configData) {\n      this.badges = this._configData.badges;\n      this.pageBackRoute = this._configData.pageBackRoute;\n\n      this.records = this._configData.records;\n\n      this.searchData = this._configData.searchData;\n\n      this.searchOnFieldsCount = 0;\n      this.searchOnFieldsButtons = new Array<Button | ButtonGroup>();\n      if (this.searchData && !CollectionUtils.isEmpty(this.searchData)) {\n        for (let cnt = 0; cnt < Object.keys(this.searchData).length; cnt++) {\n          if (!StringUtils.isEmpty(this.searchData[Object.keys(this.searchData)[cnt]])) {\n            this.searchOnFieldsCount++; \n\n            let filterButton: Button | ButtonGroup = this.setSelectedFilterButton(Object.keys(this.searchData)[cnt], this.searchData[Object.keys(this.searchData)[cnt]]);\n            this.searchOnFieldsButtons.push(filterButton);\n          }\n        }\n      }\n\n      if (this._configData.configPerTabs) {\n        let tabIndex = 0;\n        this._configData.configPerTabs.forEach((tabConfigData: CrudListTabData, tabKey: string) => {\n          if ((tabKey == tabIdentifier || (tabIndex == 0 && tabIdentifier == null)) && tabConfigData) {\n            if (tabConfigData.badges) {\n              this.badges = tabConfigData.badges;\n            }\n            if (tabConfigData.pageBackRoute) {\n              this.pageBackRoute = tabConfigData.pageBackRoute;\n            }\n            if (tabConfigData.records && tabConfigData.records.length > 0) {\n              this.records = this._configData.records;\n            }\n          }\n          tabIndex++;\n        })\n      }\n    }\n  }\n\n  getTabIdentifier(tabTitle: string): string {\n    let tabIdentifier = '';\n    if (this.listConfig && this.listConfig.displayType == CrudListDisplayType.TAB) {\n      for (let index = 0; index < this.listConfig.lists.length; index++) {\n        if (this.listHeaders[index].title == tabTitle) {\n          tabIdentifier = this.listConfig.lists[index].identifier;\n          break;\n        }\n      }\n    }\n\n    return tabIdentifier;\n  }\n\n  setListHeaders(): void {\n    if (this.listConfig.lists) {\n      for (let index = 0; index < this.listConfig.lists.length; index++) {\n        this.listHeaders.push(this.listConfig.lists[index].header);\n        // this.listConfig.lists[index].header = \"\";\n      }\n    }\n  }\n\n  setCrudHeader(): void {\n    let title = \"\";\n\n    if (this.header) {\n      title = this.header.title;\n    }\n\n    if (this.listConfig.lists && this.listConfig.lists.length == 1 && this.listConfig.lists[0].header && this.listConfig.lists[0].header.title) {\n      title = this.listConfig.lists[0].header.title;\n\n      this.listConfig.lists[0].header.title = \"\";\n    }\n    this.title = title;\n  }\n\n  displaySearchForm(): void {\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists.length > 0) {\n      for (let lConfig of this.listConfig.lists) {\n        if (lConfig.listType == ListType.DYNAMIC && this.searchConfig) {\n          this.showSearchForm = true;\n          break;\n        }\n      }\n    }\n  }\n\n  setSearchButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n    };\n  }\n\n  setSelectedFilterButton(identifier: string, label: string): Button | ButtonGroup {\n    return {\n      identifier: identifier,\n      groupIdentifier: ReservedButton.CLEAR_FILTER_FIELD,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.TINY,\n      icon: \"close\",\n      iconPosition: IconPosition.RIGHT,\n      type: ButtonType.STROKED,\n    };\n  }\n\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  close() {\n    this.sidenav.close();\n  }\n\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n\n  buttonIconClick(event: any)  {\n    this.onButtonIconClick.emit(event);\n  }\n\n  onSort(event: any) {\n    console.log(event);\n    this.onSortClick.emit(event);\n  }\n\n  onPage(event: any) {\n    console.log(event);\n    this.onPageClick.emit(event);\n  }\n\n  onAccordianChange(event) {\n    console.log(event);\n  }\n\n  onTabChange(event: any) {\n    console.log(event);\n\n    this.setConfigAsPerTab(this.getTabIdentifier(event.tab.textLabel));\n  }\n\n  openBottomSheet(): void {\n    let dialogRef = this._bottomSheet.open(BottomSearchSheet, {\n      data: { searchConfig: this.searchConfig, searchData: this.searchData, reset: this.formReset },\n    });\n\n    this.buttonSubscriber = dialogRef.instance.onButtonClick.subscribe(event => this.buttonClick(event));\n    this.fieldSubscriber = dialogRef.instance.onFieldChange.subscribe(event => this.fieldChange(event));\n    this.formSubscriber = dialogRef.instance.onFormChange.subscribe(event => this.formChange(event));\n\n    this.dialogRefSubscriber = dialogRef.afterDismissed().subscribe(() => {\n      this.bottomUnsubscribe();\n    });\n  }\n\n  ngOnDestroy() {\n    this.bottomUnsubscribe();\n    if (this.dialogRefSubscriber) {\n      this.dialogRefSubscriber.unsubscribe();\n    }\n  }\n\n  bottomUnsubscribe() {\n    if (this.buttonSubscriber) {\n      this.buttonSubscriber.unsubscribe();\n    }\n    if (this.fieldSubscriber) {\n      this.fieldSubscriber.unsubscribe();\n    }\n    if (this.formSubscriber) {\n      this.formSubscriber.unsubscribe();\n    }\n  }\n}\n\n@Component({\n  selector: 'bottom-search-sheet',\n  templateUrl: 'bottom-search-sheet.html',\n  styleUrls: ['./bottom-search-sheet.scss']\n})\nexport class BottomSearchSheet {\n  onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  constructor(private _bottomSheetRef: MatBottomSheetRef<BottomSearchSheet>, @Inject(MAT_BOTTOM_SHEET_DATA) public data: any) {\n    console.log(this.data)\n  }\n\n  openLink(event: MouseEvent): void {\n    this._bottomSheetRef.dismiss();\n    event.preventDefault();\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n\n}","import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { DisplayMode, FileField, UploadDeleteFunc, UploadFile, UploadFileType, UploadFunc } from '../../model';\n\n@Component({\n    selector: 'mx-file-uploader',\n    templateUrl: './file-uploader.component.html',\n    styleUrls: ['./file-uploader.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class FileUploaderComponent implements OnInit {\n    @Input() field: FileField = null;\n    @Input() isFieldDisabled: boolean = false;\n    @ViewChild(\"fileInput\", { static: false }) fileInput: ElementRef;\n    @Input() disabled: boolean;\n    param = 'file';\n    fileList: Array<UploadFile> = [];\n\n    multiple: boolean = false;\n\n    showLess: number;\n\n    browseButtonText: string;\n    uploadButtonText: string;\n\n    fileType: string = \"*.*\";\n    fileIcon: string = \"\"; \n\n    hideDownloadButton: boolean = false;\n    hideDeleteFileButton: boolean = false;\n    hideUploadButton: boolean = false;\n    hideFileIconButton: boolean = false;\n    hideDeleteAllButton: boolean = false;\n    hideActionStrip: boolean = false;\n\n    isUploaded: boolean = false;\n    isUploadingInProgress: boolean = false;\n    isFileImageType: boolean = false;\n\n    constructor(private _http: HttpClient) { }\n\n    ngOnInit() {\n        var defaultUploadBtnText = this.field.multiple ? \"Upload Files\" : \"Upload File\";\n        this.multiple = this.field.multiple;\n        this.uploadButtonText = this.field.uploadButtonText || defaultUploadBtnText;\n        this.setFileTypeAndIcon(this.field.fileType);\n        this.fileList = (<Array<UploadFile>>this.field.value) || [];\n\n        if (this.field.displayMode == DisplayMode.LABEL) {\n            this.hideDeleteFileButton = true;\n            this.hideUploadButton = true;\n            this.hideFileIconButton = true;\n            } else {\n            this.hideDeleteFileButton = this.field.hideDeleteFileButton !== undefined ? this.field.hideDeleteFileButton : false;\n            this.hideUploadButton = this.field.hideUploadButton !== undefined ? this.field.hideUploadButton : false;\n            this.hideFileIconButton = this.field.hideFileIconButton !== undefined ? this.field.hideFileIconButton : false;\n        }\n\n        this.hideDownloadButton = this.field.hideDownloadButton !== undefined ? this.field.hideDownloadButton : false;\n        this.showLess = this.field.showLess || this.fileList.length;\n        this.setFieldDisabled();\n        this.setHideDeleteAllButton();\n        this.setHideActionStrip();\n    }\n\n    private setFieldDisabled() {\n        if (this.isFieldDisabled) {\n            this.hideDeleteAllButton = true;\n            this.hideDeleteFileButton = true;\n            this.hideUploadButton = true;\n        }\n    }\n\n    private setHideDeleteAllButton() {\n        if (this.field.hideDeleteAllButton === undefined) {\n            this.hideDeleteAllButton = false;\n        }\n        if (this.fileList.length <= 1 || this.field.displayMode == DisplayMode.LABEL) {\n            this.hideDeleteAllButton = true;\n        }\n    }\n\n    private setHideActionStrip() {\n        if (this.hideDeleteAllButton && this.hideUploadButton && this.showLess <= this.fileList.length) {\n            this.hideActionStrip = true;\n        }\n    }\n\n    private setFileTypeAndIcon = (type: UploadFileType): void => {\n        switch (type) {\n            case UploadFileType.PDF:\n                this.fileType = \".pdf\";\n                this.fileIcon = \"picture_as_pdf\";\n                break;\n            case UploadFileType.WORD:\n                this.fileType = \".doc, .docx\";\n                this.fileIcon = \"attach_file\";\n                break;\n            case UploadFileType.IMAGE:\n                this.fileType = this.getImageFileType();\n                this.fileIcon = \"image\";\n                this.isFileImageType = true;\n                break;\n            case UploadFileType.VIDEO:\n                this.fileType = \"video/*\";\n                this.fileIcon = \"video_call\";\n                break;\n            case UploadFileType.EXCEL:\n                this.fileType = \".xlsx, .xls, .csv\";\n                this.fileIcon = \"attach_file\";\n                break;\n            default:\n                this.fileType = \".*\";\n                this.fileIcon = \"attach_file\";\n                break;\n        }\n    }\n\n    onUploadClick = (): void => {\n        const fileInput = this.fileInput.nativeElement;\n        fileInput.onchange = () => {\n            this.fileList = [];\n            this.isUploadingInProgress = true;\n            console.log(fileInput.files);\n            for (let index = 0; index < fileInput.files.length; index++) {\n                const file = fileInput.files[index];\n                this.fileList.push(<UploadFile>{\n                    data: file,\n                    size: file.size,\n                    name: file.name\n                });\n            }\n            this.field.onUploadClick(this.fileList).subscribe(result => {\n                this.isUploadingInProgress = false;\n                this.fileList = result;\n            });\n        };\n        fileInput.click();\n    }\n\n    onDeleteAllClick = (): void => {\n        if (this.isFunctionDefined(this.field.onDeleteAllClick)) {\n            this.isUploadingInProgress = true;\n            this.field.onDeleteAllClick(this.fileList).subscribe(result => {\n                this.isUploadingInProgress = false;\n                if (result) {\n                    this.fileList = [];\n                }\n            });\n        }\n    }\n\n    onDeleteFileClick = (delFile: UploadFile): void => {\n        if (this.isFunctionDefined(this.field.onDeleteFileClick)) {\n            this.isUploadingInProgress = true;\n            this.field.onDeleteFileClick(delFile).subscribe(result => {\n                this.isUploadingInProgress = false;\n                if (result) {\n                    this.fileList = this.fileList.filter(file => file !== delFile);\n                }\n            });\n        }\n    }\n\n    onShowAllItems = () => {\n        this.showLess = this.fileList.length\n    }\n\n    isFunctionDefined = (func: UploadFunc | UploadDeleteFunc) => {\n        return typeof func == 'function';\n    }\n\n    private getImageFileType = (): string => {\n        if (this.field.subFileType) {\n            return this.field.subFileType.map(x => 'image/' + x.toLowerCase()).join(',');\n        } else {\n            return \"image/*\";\n        }\n    }\n}","export const quillConfiguration = {\n    formula: true,\n    toolbar: [\n//      [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n      [{ 'font': [] }],\n      \n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n      ['blockquote'],\n//      ['blockquote', 'code-block'],\n//      [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n      [{ 'align': [] }, { 'indent': '-1'}], \n      [{ 'indent': '+1' }],          // outdent/indent\n      [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n      [{ 'script': 'sub'}, { 'script': 'super' }, 'formula'],      // superscript/subscript\n//      ['formula'],\n//      [{ 'direction': 'rtl' }],                         // text direction\n      ['link', 'image', 'video']                         // link and image, video\n      \n    ]\n  };\n  ","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, FormGroupDirective, NgForm, ValidatorFn, FormArray } from '@angular/forms';\n\n\nimport { Field, KeyMap, AutocompleteField, DropdownOption, DropdownField, FieldType, HtmlEditorField, TextField, InputField, ImageField, CalendarField, CheckboxField, FileField, RadioField, ToggleField, SliderField, FieldChange, LabelField, LabelTextAlign, OptionDisplayTemplate } from '../../model';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { StringUtils, FieldUtils, CollectionUtils, FormUtils } from '../../../utility';\n\nimport { startWith, switchMap, tap } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { Router } from '@angular/router';\nimport { Action, ButtonColor, ButtonSize, ButtonType, Button, ReservedButton } from '../../../button/model';\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { quillConfiguration } from './html.editor.configuration';\nimport { MatSelectionList, MatSelectionListChange } from '@angular/material/list';\nimport { Permission } from '../../../privilege/model';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport class FieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    //    console.log(\"111\");\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'mx-field',\n  templateUrl: './field.component.html',\n  styleUrls: ['./field.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FieldComponent implements OnInit {\n  @Input() sourceType: string;\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() form: FormGroup;\n  @Input() fieldControl: FormControl | FormGroup;\n  @Input() fieldIndex: number;\n  @Input() field: Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField;\n  @Input() originalData: any;\n  @Input() _displayMode: FormDiaplyMode;\n  get displayMode(): FormDiaplyMode {\n    return this._displayMode;\n  }\n  @Input()\n  set displayMode(_displayMode: FormDiaplyMode) {\n    this._displayMode = _displayMode;\n    this.isFieldDisabled = this.fieldDisabled();\n  }\n\n  @Input() hideLabel: boolean;\n  @Input() value: any;\n  @Input() isAddMore: boolean;\n  @Input() addMorePermission: Permission;\n\n  @Input() device: string;\n  @Input() displayInColumns: number;\n  addMoreFieldDisplayInColumns: number;\n  addMoreButtonDisplayInColumns: number;\n\n  @Input() dependencies: any;\n  @Input() row: any;\n  @Input() keyMap: Array<KeyMap>;\n  @Output() onDependentFieldChange: EventEmitter<any> = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onFormChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  charLimit: number;\n  ellipsisRequired: boolean = false;\n  resolvedValue: any;\n\n  matcher: ErrorStateMatcher;\n  isRequired: boolean;\n  isFieldDisabled: boolean;\n  hasFieldNavigate: boolean;\n  hasHintIcon: boolean;\n  maxLength: number;\n  min: number;\n  max: number;\n  imgURL: any;\n  imagePath: string;\n  appearance: string;\n  hasClear: boolean;\n  textClearButton: Button;\n  routeToButton: Button;\n  helpModalButton: Button;\n  rows: number;\n  height: number;\n\n  asBubble: boolean;\n  bubbleColor: ButtonColor;\n  textAlign: LabelTextAlign;\n\n  plusButton: Button;\n  minusButton: Button;\n\n  editorOptions = quillConfiguration;\n\n  onListSelectionFuc: Function = null;\n  listOptions: Array<DropdownOption> = null;\n  enableMultiSelection: boolean;\n  autoCompleteOptions: Observable<DropdownOption[]>;\n  autoCompleteResultCount: number;\n  dateRange: boolean = false;\n\n  minLengthForTrigger: number = 3;\n  highlightAutoCompleteText: string = '';\n\n  showLess: number;\n\n  isEditorErrorState(): boolean {\n    return !!(this.fieldControl && this.fieldControl.invalid && (this.fieldControl.dirty || this.fieldControl.touched));\n  }\n  @ViewChild('listView') listView: MatSelectionList;\n\n  constructor(public router: Router, public ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    if ((<TextField>this.field).placeholder == undefined) {\n      (<TextField>this.field).placeholder = \"\";\n    }\n    if ((<TextField>this.field).ellipsis && (<TextField>this.field).ellipsis > 0) {\n      this.charLimit = (<TextField>this.field).ellipsis;\n    }\n\n    this.matcher = new FieldErrorStateMatcher();\n    this.getValue(this.field, this.value);\n    this.isRequired = this.required();\n    this.isFieldDisabled = this.fieldDisabled();\n    this.hasFieldNavigate = this.fieldNavigate();\n    this.hasHintIcon = this.displayHintIcon();\n    this.setMaxLength();\n    this.setNumberMinMax();\n    this.setAppearance();\n    this.setOptionInDisplay();\n    this.getImagePath(this.field);\n    this.setRows();\n    this.setHeight();\n    this.setClear();\n    this.setAsBubble();\n    this.setTextAlign();\n    this.setAddMoreDisplayInColumn();\n    this.setMinLengthForTrigger();\n    //    this.autocompleteInit();\n    this.setDisplayTemplate();\n    this.setCalendar();\n    this.setShowLess();\n    this.textClearButton = this.setTextClearButton('fieldTextClearBtn', \"Clear Text\", \"cancel\", null);\n    if (this.field.navigate) {\n      this.routeToButton = this.setTextClearButton('fieldRouteToBtn', this.field.navigate.text, this.field.navigate.icon ? this.field.navigate.icon : \"call_made\", this.field.navigate.routeTo);\n    }\n    this.helpModalButton = this.setHelpButton('helpCloseButton', 'Close', 'close');\n\n    this.plusButton = this.addRemoveButton(ReservedButton.ADD_FIELD, \"Add\", \"add\");\n    this.minusButton = this.addRemoveButton(ReservedButton.REMOVE_FIELD, \"Minus\", \"remove\");\n  }\n\n  setDisplayTemplate(): void {\n    if ((this.field.type == FieldType.RADIO || this.field.type == FieldType.CHECKBOX) && StringUtils.isEmpty((<RadioField | CheckboxField>this.field).displayTemplate)) {\n      (<RadioField | CheckboxField>this.field).displayTemplate = OptionDisplayTemplate.CLASSIC;\n    }\n  }\n\n  setAddMoreDisplayInColumn(): void {\n    if (this.isAddMore) {\n      if (this.device == 'desktop') {\n        if (this.displayInColumns < 6) {\n          this.addMoreFieldDisplayInColumns = 10;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 11;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n      if (this.device == 'tablet') {\n        if (this.displayInColumns < 6) {\n          this.addMoreFieldDisplayInColumns = 6;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 7;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n      if (this.device == 'mobile') {\n        if (this.displayInColumns < 3) {\n          this.addMoreFieldDisplayInColumns = 3;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 3;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n    }\n  }\n\n  setMinLengthForTrigger(): void {\n    this.minLengthForTrigger = (<AutocompleteField>this.field).minLengthForTrigger ? (<AutocompleteField>this.field).minLengthForTrigger : 3;\n  }\n\n  setRows(): void {\n    this.rows = (<TextField>this.field).rows ? (<TextField>this.field).rows : 1;\n  }\n\n  setHeight(): void {\n    this.height = (<HtmlEditorField>this.field).height ? (<HtmlEditorField>this.field).height : 300;\n  }\n\n  setAppearance(): void {\n    this.appearance = (<TextField | InputField>this.field).appearance ? (<TextField | InputField>this.field).appearance : 'standard';\n  }\n\n  setAsBubble(): void {\n    this.asBubble = (<LabelField>this.field).asBubble ? (<LabelField>this.field).asBubble : false;\n    this.bubbleColor = (<LabelField>this.field).bubbleColor ? (<LabelField>this.field).bubbleColor : ButtonColor.DEFAULT;\n  }\n\n  setTextAlign(): void {\n    this.textAlign = (<LabelField>this.field).textAlign ? (<LabelField>this.field).textAlign : LabelTextAlign.LEFT;\n  }\n\n  setMaxLength(): void {\n    this.maxLength = (<TextField>this.field).maxLength ? (<TextField>this.field).maxLength : 1000000;\n  }\n\n  setNumberMinMax(): void {\n    this.min = (<InputField>this.field).min ? (<InputField>this.field).min : null;\n    this.max = (<InputField>this.field).max ? (<InputField>this.field).max : null;\n  }\n\n  displayHintIcon(): boolean {\n    return this.field.help && this.field.help.icon ? true : false;\n  }\n\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  close() {\n    this.sidenav.close();\n  }\n  open() {\n    this.sidenav.open();\n  }\n\n  setHelpButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n    };\n  }\n\n  required(): boolean {\n    let isRequired: boolean = false;\n    if (this.field.validations && this.field.validations.length > 0) {\n      for (let validation of this.field.validations) {\n        if (validation.message.key == \"required\") {\n          isRequired = true;\n        }\n      }\n    }\n\n    if (StringUtils.isEmpty(this.field.label)) {\n      isRequired = false;\n    }\n\n    return isRequired;\n  }\n\n  fieldNavigate(): boolean {\n    let hasFieldNavigate: boolean = false;\n\n    if (\n      this.field.navigate &&\n      (!StringUtils.isEmpty(this.field.navigate.icon) || !StringUtils.isEmpty(this.field.navigate.text)) &&\n      !CollectionUtils.isEmpty(this.field.navigate.routeTo)\n    ) {\n      hasFieldNavigate = true;\n    }\n\n    return hasFieldNavigate;\n  }\n\n  fieldDisabled(): boolean {\n    let isDisabled: boolean = false;\n\n    if (this.field.alwaysEnable) {} else {\n      isDisabled = FieldUtils.isFieldDisabled(this.field, this._displayMode, this.resolvedValue);\n      if (isDisabled) {\n        FormUtils.disableFieldControl(<FormControl>this.fieldControl);\n      }\n    }\n\n    return isDisabled;\n  }\n\n  getValue(field: Field, txt: any): any {\n    let value: string = \"\";\n    let initialLength = 0;\n    let finalLength = 0;\n\n    if (this.fieldControl != undefined) {\n      value = this.fieldControl.value;\n    } else {\n      value = txt;\n    }\n\n    if (field.type != FieldType.DROPDOWN) {\n      if (this.keyMap && this.keyMap.length > 0) {\n        this.keyMap\n          .filter(objs => {\n            let hasAssociation: boolean = false;\n            if (!CollectionUtils.isEmpty(objs) && !CollectionUtils.isEmpty(objs.associations)) {\n              objs.associations.forEach(element => {\n                if (element.fieldKey == field.key && element.componentIdentifier == this.sourceIdentifier) {\n                  hasAssociation = true;\n                }\n              });\n            }\n            return hasAssociation;\n          })\n          .forEach(field => {\n            if (field['options'] && field['options'].length > 0) {\n              for (let index = 0; index < field['options'].length; index++) {\n                if (field['options'][index].key == value) {\n                  value = field['options'][index].value;\n                  break;\n                }\n              }\n            }\n          });\n      }\n    }\n\n    this.resolvedValue = value;\n\n    if (FieldUtils.isEllipsisField(this.field) && FieldUtils.displayEllipsis(this.charLimit, this.resolvedValue)) {\n      value = JSON.stringify(value);\n      initialLength = value.length;\n\n      value = value.substr(0, (<TextField>this.field).ellipsis);\n      finalLength = value.length;\n\n      value += \"...\";\n\n      if (initialLength > finalLength) {\n        this.ellipsisRequired = true;\n      }\n    }\n\n    return value;\n  }\n\n  displayFullText() {\n    let resolvedValueStr = JSON.stringify(this.resolvedValue);\n    if (!StringUtils.isEmpty(resolvedValueStr)) {\n      this.charLimit = resolvedValueStr.length;\n    }\n  }\n\n  displayShortText() {\n    if ((<TextField>this.field).ellipsis && (<TextField>this.field).ellipsis > 0) {\n      this.charLimit = (<TextField>this.field).ellipsis;\n      this.displayEllipsis();\n    }\n  }\n\n  displayEllipsis(): boolean {\n    return FieldUtils.displayEllipsis(this.charLimit, this.resolvedValue);\n  }\n\n  setCalendar() {\n    if (this.field.type === FieldType.CALENDAR) {\n      this.dateRange = (<CalendarField>this.field).dateRange;\n    }\n  }\n\n  ///////////////////////////// AUTOCOMPLETE - START ///////////////////////////\n  private invokeOnChangeOnField(value: string, input: any): boolean {\n    let invokeOnChange: boolean = false;\n\n    if (this.field.type == FieldType.AUTOCOMPLETE) {\n      this.autoCompleteInputHasValue = !!value;\n\n      if (value.length >= this.minLengthForTrigger) {\n        this.autoCompleteInputHasValue = !!value;\n        this.highlightAutoCompleteText = value;\n      } else {\n        this.autoCompleteInputHasValue = false;\n        this.highlightAutoCompleteText = '';\n      }\n      invokeOnChange = true;\n    } else {\n      invokeOnChange = true;\n    }\n\n    return invokeOnChange;\n  }\n\n  autocompleteDisplayFn(option: DropdownOption | any): string {\n    let value: string;\n    if (option != null && option.key != null) {\n      value = option.value;\n    } else {\n      value = option;\n    }\n\n    return value;\n  }\n\n  private _filter(value: string): Array<DropdownOption> {\n    const filterValue = value.toLowerCase();\n    var result = (<AutocompleteField>this.field).options.filter(option => option.value.toLowerCase().includes(filterValue));\n    this.autoCompleteResultCount = result.length;\n    return result;\n  }\n  ///////////////////////////// AUTOCOMPLETE - END ///////////////////////////\n\n  ///////////////////////////// DROPDOWN OPTION - START ///////////////////////////\n  setOptionInDisplay(): void {\n    if (this.field['options'] && this.fieldControl) {\n      let key: any = this.fieldControl.value;\n\n      for (let cnt = 0; cnt < (this.field['options'] as Array<DropdownOption>).length; cnt++) {\n        if (this.field['options'][cnt].key === key) {\n          this.field['options'][cnt].checked = true;\n        }\n      }\n    }\n  }\n\n\n  setClear() {\n    let hasClear = false;\n    if (this.resolvedValue && (<TextField>this.field).hasClear && (\n      this.field.type == FieldType.TEXT ||\n      this.field.type == FieldType.TEXTAREA ||\n      this.field.type == FieldType.EMAIL ||\n      this.field.type == FieldType.PASSWORD ||\n      this.field.type == FieldType.COLOR ||\n      this.field.type == FieldType.MONTH ||\n      this.field.type == FieldType.WEEK ||\n      this.field.type == FieldType.NUMBER ||\n      this.field.type == FieldType.DROPDOWN ||\n      this.field.type == FieldType.AUTOCOMPLETE ||\n      this.field.type == FieldType.CHIPS ||\n      this.field.type == FieldType.TIME ||\n      this.field.type == FieldType.CALENDAR\n    )) {\n      hasClear = true;\n    }\n\n    this.hasClear = hasClear;\n  }\n\n  cleanValue() {\n    this.resolvedValue = \"\";\n    this.fieldControl.setValue(\"\");\n    this.setClear();\n  }\n\n  getResolveTextWithKey(field: any) {\n    let value: string = \"\";\n\n    if (this.row != undefined) {\n      if (this.row[field['resolveOptionWithKey']]) {\n        value = this.row[field['resolveOptionWithKey']];\n      }\n    }\n\n    return value;\n  }\n\n  getDropdownValue(field: Field, txt: any): any {\n    let value: any = \"\";\n\n    if (this.fieldControl != undefined) {\n      if (this.fieldControl.value) {\n        value = this.fieldControl.value;\n      }\n    } else {\n      value = txt;\n    }\n\n    if (field['options'] && field['options'].length > 0) {\n      for (let index = 0; index < field['options'].length; index++) {\n        let isSelected: boolean = false;\n        if (value instanceof Array) {\n          if (value.indexOf(field['options'][index].key) > -1) {\n            isSelected = true;\n          }\n        } else if (value instanceof String) {\n          if (field['options'][index].key == value) {\n            isSelected = true;\n          }\n        } else if (value instanceof Object) {\n          if (value[field['options'][index].key]) {\n            isSelected = true;\n          }\n        }\n\n        if (isSelected) {\n          value = field['options'][index].value;\n          break;\n        }\n      }\n    }\n\n\n    return value;\n  }\n  ///////////////////////////// DROPDOWN OPTION - END ///////////////////////////\n\n  ///////////////////////////// UPLOAD - START ///////////////////////////\n  // imgURL: any;\n  // onUpload(event) {\n  //   let file: File = {\n  //     'source': this.sourceIdentifier,\n  //     'index': this.index,\n  //     'field': this.field.key,\n  //     'files': event.target.files\n  //   };\n  //   this.field['onUpload'](file);\n\n\n  //   var reader = new FileReader();\n  //   reader.readAsDataURL(file.files[0]);\n  //   reader.onload = (_event) => {\n  //     this.imgURL = reader.result;\n  //   }\n  // }\n  ///////////////////////////// UPLOAD - END ///////////////////////////\n\n  ///////////////////////////// IMAGE - START ///////////////////////////\n  getImagePath(field: Field): void {\n    //    console.log(path);\n    if (!StringUtils.isEmpty(this.resolvedValue) && this.resolvedValue instanceof String && this.resolvedValue.indexOf(\"http://\") <= -1) {\n      // if (this.resolvedValue.startsWith(\"/\")) {\n      //   this.resolvedValue = Properties.contentUrl + this.resolvedValue;\n      // } else {\n      //   this.resolvedValue = Properties.contentUrl + \"/\" + this.resolvedValue;\n      // }\n    }\n\n    this.imagePath = this.resolvedValue;\n  }\n  ///////////////////////////// IMAGE - END ///////////////////////////\n\n  ///////////////////////////// SLIDER - START ///////////////////////////\n  //   getSliderTickInterval(): number | 'auto' {\n  // //    if ((<SliderField>this.field)..showTicks) {\n  //       return (<SliderField>this.field).autoTicks ? 'auto' : this.tickInterval;\n  // //    }\n\n  //     return 0;\n  //   }\n  ///////////////////////////// SLIDER - END ///////////////////////////\n\n  ///////////////////////////// EVENTS - START ///////////////////////////\n  onAutocompleteChange(autocomplate: any) {\n    let value = autocomplate.option.value;\n    // console.log(value);\n\n    this.onChangeEvent(this.field.key, value, autocomplate);\n  }\n\n  onToggleChange(toggle: any) {\n    console.log(toggle);\n    let value = toggle.checked;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, toggle);\n  }\n\n  onSliderChange(slider: any) {\n    //    console.log(slider);\n    let value = slider.value;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, slider);\n  }\n\n  onRadioChange(radio: any) {\n    //    console.log(radio);\n    let value = radio.value;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, radio);\n  }\n\n  onCheckboxChange(option: any, checkbox: any) {\n    let key = option.key;\n    let value = checkbox.checked;\n    // console.log(key + \": \" + value);\n    this.onChangeEvent(key, value, checkbox);\n  }\n\n  setShowLess() {\n    if (this.field.type === FieldType.RADIO || this.field.type === FieldType.CHECKBOX) {\n      this.showLess = (<CheckboxField | RadioField>this.field).showLess || (<CheckboxField | RadioField>this.field).options.length;\n    }\n  }\n\n  onShowAllOptions = () => {\n    this.showLess = (<CheckboxField | RadioField>this.field).options.length;\n  }\n\n  onOptionChange(options: MatSelectionListChange) {\n    let value = this.listView.selectedOptions.selected.map(x => x.value);\n\n    if (this.field.type == 'CHECKBOX') {\n      let selectedOptions = options.source._value;\n      let currentOptions = <Map<any, boolean>>this.fieldControl.value;\n\n      for (let key in currentOptions) {\n        if (selectedOptions.indexOf(key) > -1) {\n          currentOptions[key] = true;\n        } else {\n          currentOptions[key] = false;\n        }\n      }\n\n      (<FormGroup>this.fieldControl).setValue(currentOptions);\n    } else if (this.field.type == 'RADIO') {\n      let selectedOptions = options.source._value;\n\n      if (CollectionUtils.isEmpty(selectedOptions)) {\n        (<FormControl>this.fieldControl).setValue(null);\n        value = null;\n      } else {\n        (<FormControl>this.fieldControl).setValue(selectedOptions[0]);\n        value = value[0];\n      }\n    }\n    this.onChangeEvent(this.field.key, value, options);\n  }\n\n  onHtmlEditorChange($event: any) {\n    // console.log($event);\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, $event.html, $event);\n  }\n\n  onChipsListChange($event: any) {\n    this.onChangeEvent(this.field.key, $event.values, $event);\n  }\n\n  autoCompleteInputHasValue: boolean = false;\n  onInputChange(input: any) {\n    console.log(input);\n    let value = input.target.value;\n    //    console.log(value);\n\n    if (this.invokeOnChangeOnField(value, input)) {\n      this.onChangeEvent(this.field.key, value, input);\n    }\n  }\n\n  onDateChange(date: MatDatepickerInputEvent<Date>, type: string) {\n    let key: string = this.field.key;\n    if (!StringUtils.isEmpty(type)) {\n      key = this.field.key + \".\" + type;\n    }\n\n    //    console.log(date.value);\n    let value = date.value;\n    //    console.log(value);\n    this.onChangeEvent(key, value, date);\n  }\n\n  onChange(dropdown: any) {\n    //    console.log(dropdown.value);\n    let value = dropdown.value;\n\n    this.onChangeEvent(this.field.key, value, dropdown);\n  }\n\n  onFileChange(event: any) {\n    // console.log(event);\n\n    this.onChangeEvent(this.field.key, event, event);\n\n    var reader = new FileReader();\n    reader.readAsDataURL(event[0]);\n    reader.onload = (_event) => {\n      this.imgURL = reader.result;\n    }\n  }\n\n  onParagraphChange(event: any) {\n    //    console.log(event); \n    this.onChangeEvent(this.field.key, event, event);\n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n\n  onChangeEvent(key: string, value: any, event: any) {\n    this.resolvedValue = value;\n    this.setClear();\n    setTimeout(() => {\n      //      if ((this.dependencies && this.dependencies[this.field.key]) || this.field.type == FieldType.CHECKBOX || this.field.type == FieldType.DROPDOWN) {\n      if ((this.dependencies && this.dependencies[this.field.key])) {\n        let action: Action = {\n          sourceIdentifier: this.sourceIdentifier,\n          sourceIndex: this.sourceIndex,\n          widgetArrayIndex: this.widgetArrayIndex,\n          fieldIndex: this.fieldIndex,\n          action: this.field.key,\n          data: this.form.getRawValue(),\n          parentHierarchy: null,\n          event: event\n        };\n        this.onDependentFieldChange.emit(action);\n      }\n    }, 200);\n\n    let fieldChange: FieldChange = {\n      sourceIdentifier: this.sourceIdentifier,\n      sourceIndex: this.sourceIndex,\n      widgetArrayIndex: this.widgetArrayIndex,\n      fieldIndex: this.fieldIndex,\n      fieldKey: key,\n      value: value,\n      event: event\n    }\n\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  // onChangeSearch(val: string) {\n  //   console.log(\"onChangeSearch\");\n  //   let autocomplete: Autocomplete = {\n  //     'source': this.sourceIdentifier,\n  //     'index': this.index,\n  //     'field': this.field.key,\n  //     'searchText': val\n  //   };\n\n  //   this.autocompleteService.invoke(autocomplete);\n  // }\n  ///////////////////////////// EVENTS - END ///////////////////////////\n\n  ///////////////////////////// ERROR - START ///////////////////////////\n  errors(): Array<{ error: string, message: string }> {\n    let errors: Array<{ error: string, message: string }> = [];\n    if (this.fieldControl != undefined) {\n      if (this.fieldControl && this.fieldControl.errors) {\n        Object.keys(this.fieldControl.errors).forEach(keyError => {\n          if (this.field.validations) {\n            for (let validation of this.field.validations) {\n              if (keyError === validation.message.key) {\n                errors[errors.length] = { error: keyError, message: validation.message.message };\n              } else {\n                //errors[errors.length] = {error: keyError, message: this.fieldControl.errors[keyError]};\n              }\n            }\n          }\n        });\n      } else if (this.fieldControl instanceof FormGroup) {\n        if (this.fieldControl.controls && this.fieldControl.controls['startDate'] && this.fieldControl.controls['startDate'].errors) {\n          Object.keys(this.fieldControl.controls['startDate'].errors).forEach(keyError => {\n            if (this.field.validations) {\n              for (let validation of this.field.validations) {\n                if (keyError === validation.message.key) {\n                  errors[errors.length] = { error: keyError, message: validation.message.message };\n                }\n              }\n            }\n          });\n        }\n      }\n    }\n\n    return errors;\n  }\n\n  ///////////////////////////// ERROR - END ///////////////////////////\n  setTextClearButton(identifier: string, label: string, icon: string, routeTo: Array<string>): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n      routerLink: routeTo\n    };\n  }\n\n  addField(field: Field) {\n    let validations: Array<ValidatorFn> = FormUtils.getFieldValidation(field);\n\n    (<FormArray>this.form.controls[field.key]).push(FormUtils.setFormControl(this.displayMode, field, null, validations));\n\n    this.onFormChange.emit(this.form);\n  }\n\n  removeField(field: Field, index: number) {\n    (<FormArray>this.form.controls[field.key]).controls.splice(index, 1);\n\n    this.onFormChange.emit(this.form);\n  }\n\n  addRemoveButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.FLAT,\n      onlyIcon: true\n    };\n  }\n\n  onFileComplete(data: any) {\n    // console.log(data); // We just print out data bubbled up from event emitter.\n  }\n\n  onListImageLoadError = ($event): void => {\n    $event.target.src = (<RadioField | CheckboxField>this.field).defaultImageUrl;\n  }\n}\n","export * from './field/field.component';\n// export * from './field-layout/field-layout.component';\n// export * from './field-layout/field-horizontal-layout/field-horizontal-layout.component';\n// export * from './field-layout/field-inline-layout/field-inline-layout.component';\n// export * from './field-layout/field-vertical-layout/field-vertical-layout.component';","import { Component, OnInit, OnDestroy, Input, EventEmitter, Output, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\n\nimport { List, Record, PaginationType, CellColor, Column, ChildListType, CustomLayoutCell, CellControllType, CellControl } from '../model';\nimport { ObjectTree, Button, ButtonType, ButtonColor, ButtonSize, Action, ReservedButton } from '../../button/model';\nimport { KeyMap, FieldType, FieldAppearance, FieldDiaplyType, TextField, DropdownOption, DropdownField, FieldChange, KeyMapOptionType, AutocompleteField, RadioField, CheckboxField } from '../../field/model';\nimport { FormDiaplyMode, FormField, FormTitleIconPosition } from '../../form/model';\nimport { FormGroup } from '@angular/forms';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { FieldUtils, FormUtils, CollectionUtils, StringUtils, KeyMapUtils, ListUtils } from '../../utility';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { Ability } from '@casl/ability';\nimport { AbilityUtils, ButtonUtils } from '../../utility';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'mx-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n  animations: [\n    trigger('detailExpand', [\n      state('collapsed', style({ height: '0px', minHeight: '0' })),\n      state('expanded', style({ height: '*' })),\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\n    ]),\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ListComponent implements OnInit, OnDestroy {\n  @Input() _listConfig: List;\n  get listConfig(): List {\n    return this._listConfig;\n  }\n  @Input()\n  set listConfig(_listConfig: List) {\n    this._listConfig = _listConfig;\n    this.setColumnNames();\n    this.setDetailColumnCount();\n    this.setCardVisibility();\n  }\n\n  @Input() _record: Record;\n  get record(): Record {\n    return this._record;\n  }\n  @Input()\n  set record(_record: Record) {\n    // console.log(\"-------------->\")\n    // console.log(_record);\n    // console.log(this._record);\n    // console.log(\"<--------------\")\n    if (!this.parent || (this.parent && JSON.stringify(_record) != JSON.stringify(this._record))) {\n      this._record = _record;\n\n      this.init();\n      this.setCardVisibility();\n      this.showRowEditable();\n    }\n  }\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() parent: ObjectTree;\n  @Input() _listReset: boolean;\n  get listReset(): boolean {\n    return this._listReset;\n  }\n  @Input()\n  set listReset(_listReset: boolean) {\n    this._listReset = _listReset;\n\n    if (this._listReset) {\n      this.resetInlineEditButton('inlineEditButton', 'Edit', 'edit');\n    }\n  }\n\n  @Input() disabled: boolean;\n  @Input() keyMap: Array<KeyMap>;\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onPageChange = new EventEmitter();\n  @Output() onSortChange = new EventEmitter();\n\n  _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  @Input()\n  set expanded(_expanded: boolean) {\n    this._expanded = _expanded;\n  }\n\n  @Input()\n  expandRowIndex: number;\n\n  dataSource: MatTableDataSource<any> = new MatTableDataSource();\n\n  @ViewChild(MatPaginator, { static: false }) set contentPage(pagination: MatPaginator) {\n    this.dataSource.paginator = pagination;\n  }\n\n\n  @ViewChild(MatSort, { static: false }) set contentSort(sort: MatSort) {\n    this.dataSource.sort = sort;\n  }\n\n  cellCount: number = 12;\n  isCustomTemplate: boolean = false;\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  displayVertical: boolean = false;\n\n  form: FormGroup;\n  commonListForm: FormGroup;\n  formIndex: number = -1;\n\n  inlineEditButtons: Array<Button> = new Array<Button>();\n  hasDisplayActions: boolean = false;\n  isInlineEditable: boolean = false;\n  inlineButtonSize: ButtonSize = ButtonSize.DEFAULT;\n  childRows: Map<number, Record> = new Map<number, Record>();\n  childColumnCount: number;\n\n  displayModes: Array<FormDiaplyMode> = new Array<FormDiaplyMode>();\n  columnNames: Array<string> = new Array<string>();\n  columnConfigs: Array<Column> = new Array<Column>();\n  totalDispalyableWidth: number;\n\n  selection = new SelectionModel<any>(true, []);\n  hideCard: boolean = false;\n  hideHeader: boolean = false;\n  hideFooter: boolean = false;\n\n  pageSizeOptions: Array<number> = [5, 10, 25, 100];\n  rowCount: number = 0;\n  limit: number = 0;\n  expandedRow: any | null;\n  rowColors: Array<CellColor> = new Array<CellColor>();\n  cellColors: Array<Array<CellColor>> = new Array<Array<CellColor>>();\n  hoverRowData: any;\n  hoverRowIndex: number;\n\n  showCard = false;\n  iconPosition: FormTitleIconPosition;\n  selectableAdded: boolean = false;\n\n  breakpointSubscription: Subscription;\n\n  constructor(public ability: Ability, public breakpointObserver: BreakpointObserver) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n  }\n\n  init() {\n    this.getLayout();\n\n    this.setPageSize();\n    if (this._record === undefined) {\n      this._record = { total: 10, pageNo: 1, rows: [] };\n    }\n\n    if (this._record && this._record.rows) {\n      if (this._record.rows.length != this.rowCount || this._record.rows.length == 0) {\n        this._record.rows = [...this._record.rows];\n\n        this.dataSource.data = this._record.rows;\n      }\n    }\n\n    this.resetInlineEditButton('inlineEditButton', 'Edit', 'edit');\n    this.populateAllChilds();\n\n    this.showRowEditable();\n    this.initCommonFormGroup();\n    this.setColors();\n    this.setIconPosition();\n    this.setFilterBar();\n    this.setCustomTemplate();\n\n    ListUtils.setCustomLayouts(this.listConfig);\n  }\n\n  setCustomTemplate() {\n    // let hasCustomColumn: boolean = false;\n    //  check if we have column template\n    // if (!CollectionUtils.isEmpty(this._listConfig?.columns))  {\n    //   this._listConfig?.columns.forEach(column => {\n    //     if (column.template && column.template.layout) {\n    //       hasCustomColumn = true;\n    //     }\n    //   });\n    // }\n\n    if (this._listConfig?.row?.template?.layout && !(this.isMobile && this._listConfig.mobile && this._listConfig.mobile.rowHeight)) {\n      this.isCustomTemplate = true;\n    }\n  }\n\n  sortDirection: 'asc' | 'desc' | '' = 'asc';\n  sticky() {\n    let header1 = document.querySelectorAll(\".mat-toolbar\");\n    let header = document.getElementById(\"mxMobileSearchStrip\");\n    if (header) {\n      let sticky = header.offsetTop;\n      if (window.pageYOffset > sticky) {\n        header.classList.add(\"sticky\");\n\n        header1.forEach((el) => {\n          el.classList.add(\"sticky-header\");\n        });\n      } else {\n        header.classList.remove(\"sticky\");\n        header1.forEach((el) => {\n          el.classList.remove(\"sticky-header\");\n        });\n      }\n    }\n  }\n\n  onScrolled(event) {\n  }\n\n\n  contentFilterColumnSpan: number;\n  columnSelectionColumnSpan: number;\n\n  setFilterBar() {\n    if (!this._listConfig.staticList) {\n      this._listConfig.staticList = {};\n    }\n    if (this._listConfig.staticList.hasOnPageFilter && !this._listConfig.hasColumnSelection) {\n      this.contentFilterColumnSpan = 12;\n    }\n    if (!this._listConfig.staticList.hasOnPageFilter && this._listConfig.hasColumnSelection) {\n      this.columnSelectionColumnSpan = 12;\n    }\n  }\n\n  setPageSize() {\n    if (this._listConfig.pagination == PaginationType.ALL) {\n      this.limit = this._record && this._record.rows ? this._record.rows.length : 10;\n    } else {\n      if (this._listConfig.pageSize) {\n        this.limit = this._listConfig.pageSize;\n      }\n    }\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this._listConfig.header && this._listConfig.header.icon && this._listConfig.header.icon.position) {\n      this.iconPosition = this._listConfig.header.icon.position;\n    }\n  }\n\n  filterField: TextField;\n  getFilterField(): TextField {\n    this.filterField = {\n      key: \"pageFilter\",\n      label: \"Filter\",\n      type: FieldType.TEXT,\n      icon: \"search\",\n      appearance: FieldAppearance.STANDARD,\n      isReadOnly: false,\n      fieldDisplayType: FieldDiaplyType.INLINE,\n      placeholder: \"Type to display filtered list\",\n      value: \"\"\n    };\n\n    return this.filterField;\n  }\n\n  columnSelectorField: DropdownField;\n  getColumnSelectorField(): DropdownField {\n    this.columnSelectorField = ListUtils.getColumnSelectorField(this._listConfig);\n\n    return this.columnSelectorField;\n  }\n\n  updateColumnDisplay(event: any) {\n    console.log(event);\n    for (let column of this._listConfig.columns) {\n      if (event.value.indexOf(ListUtils.getColumnKey(column)) > -1) {\n        column.show = true;\n      } else {\n        column.show = false;\n      }\n    }\n\n    this.setColumnNames();\n    this.setDetailColumnCount();\n  }\n\n  inlinEditButton(identifier: string, label: string, icon: string): Button {\n    let buttonConfig: Button = {\n      identifier: identifier,\n      type: ButtonType.FLAT,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      onlyIcon: false\n    }\n\n    return buttonConfig;\n  }\n\n  getColumnLabel(column: Column): string {\n    return ListUtils.getColumnLabel(column);\n  }\n\n  getColumnKey(column: Column): string {\n    return ListUtils.getColumnKey(column);\n  }\n\n  resetInlineEditButton(identifier: string, label: string, icon: string) {\n    for (let cIndex = 0; cIndex < this.columnConfigs.length; cIndex++) {\n\n      if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n        for (let action of this._listConfig.actions) {\n          if (action.permission == null || (this.ability.can(action.permission['action'], action.permission['subject']))) {\n            this.hasDisplayActions = true;\n            break;\n          }\n        }\n      }\n\n      if (this.hasDisplayActions) {\n        for (let field of this.columnConfigs[cIndex].fields) {\n          if (FieldUtils.readOnlyField().indexOf(field.type) > -1) { } else {\n            this.isInlineEditable = true;\n            break;\n          }\n        }\n      }\n    }\n\n    this.inlineEditButtons = new Array<Button>();\n\n    if (this._record && this._record.rows) {\n      for (let index = 0; index < this._record.rows.length; index++) {\n        this.inlineEditButtons.push(this.inlinEditButton(identifier, label, icon));\n\n        this.displayModes[index] = FormDiaplyMode.VIEW;\n      }\n    }\n    this.formIndex = -1;\n\n    this.setColumnNames();\n  }\n\n  showRowEditable() {\n    if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n      this.inlineButtonSize = this._listConfig.actions[0].size\n    }\n\n    if (this._record && this._record.rows) {\n      for (let index = 0; index < this._record.rows.length; index++) {\n        if (this._record.rows[index]['showRowEditable']) {\n          this.setRowEditablity(index);\n        }\n      }\n    }\n  }\n\n  setRowEditablity(index: number): void {\n    if (this.formIndex != -1 && this.formIndex != index) {\n      this.inlineEditButtons[this.formIndex].identifier = 'inlineEditButton';\n      this.inlineEditButtons[this.formIndex].label = 'Edit';\n      this.inlineEditButtons[this.formIndex].icon = 'edit';\n      this.inlineEditButtons[this.formIndex].size = this.inlineButtonSize;\n      this.formIndex = -1;\n    }\n    if (this.inlineEditButtons[index] && this.inlineEditButtons[index].label == 'Edit') {\n      this.inlineEditButtons[index].identifier = 'cancelInlineStaticList';\n      this.inlineEditButtons[index].label = 'Cancel';\n      this.inlineEditButtons[index].icon = 'close';\n      this.inlineEditButtons[index].size = this.inlineButtonSize;\n\n      if (this._record && this._record.rows) {\n        for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n          this.displayModes[rIndex] = FormDiaplyMode.VIEW;\n\n          if (rIndex != index) {\n            this.inlineEditButtons[rIndex].identifier = 'inlineEditButton';\n            this.inlineEditButtons[rIndex].label = 'Edit';\n            this.inlineEditButtons[rIndex].icon = 'edit';\n            this.inlineEditButtons[rIndex].size = this.inlineButtonSize;\n          }\n        }\n\n        if (this._record.rows[index]['formDisplayMode']) {\n          this.displayModes[index] = this._record.rows[index]['formDisplayMode'];\n        } else {\n          this.displayModes[index] = FormDiaplyMode.EDIT;\n        }\n      }\n\n      this.initFormGroup(index);\n      this.formIndex = index;\n      this._listReset = false;\n    } else {\n      this.inlineEditButtons[index].identifier = 'inlineEditButton';\n      this.inlineEditButtons[index].label = 'Edit';\n      this.inlineEditButtons[index].icon = 'edit';\n      this.inlineEditButtons[index].size = this.inlineButtonSize;\n      this.formIndex = -1;\n    }\n\n    let inlineButtonTemp = this.inlineEditButtons[index];\n    this.inlineEditButtons[index] = undefined;\n    setTimeout(() => this.inlineEditButtons[index] = inlineButtonTemp, 100);\n  }\n\n  populateAllChilds(): void {\n    if (this._record && this._record.rows && this._record.rows.length > 0) {\n      for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n        this.childRows[rIndex] = this.getChildRows(this._record.rows[rIndex]);\n      }\n    }\n  }\n\n  getChildRows(row: any): any {\n    if (this._listConfig && this._listConfig.child && row) {\n      let data: Array<any> | any = this._listConfig.child.recordIdentifier ? row[this._listConfig.child.recordIdentifier] : row;\n\n      if (this._listConfig.child.type == ChildListType.LIST) {\n        if (data) {\n          let childData: any;\n          if (data instanceof Array) {\n            childData = data;\n          } else {\n            childData = new Array<any>();\n            childData.push(data);\n          }\n\n          let record: Record = {\n            pageNo: 1,\n            total: childData.length,\n            rows: childData\n          };\n\n          return record;\n        }\n      } else {\n        return data;\n      }\n    }\n  }\n\n  getValue(colIndex: number, cFieldIndex: number, row: any, value: any): any {\n    try {\n      value = eval(\"row.\" + this.columnConfigs[colIndex].fields[cFieldIndex].key);\n    } catch (e) { }\n\n    return value;\n  }\n\n  updateFilter(field) {\n    const filterValue = field.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n  initFormGroup(cnt: number): void {\n    let fieldControls = {};\n\n    let row = this.getCurrentRecord(cnt);\n\n    KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.LIST, this._listConfig, row);\n\n    for (let column of this.columnConfigs) {\n      for (let field of column.fields) {\n        let formField: FormField = { field: field, addMore: false };\n\n        if (this._listConfig.uniqueKeys && this._listConfig.uniqueKeys.indexOf(formField.field.key) > -1) {\n          formField.field.isUnique = true;\n        }\n        FormUtils.initFieldGroup(fieldControls, formField, null, row, this.displayModes[cnt]);\n      }\n    }\n\n    this.form = new FormGroup(fieldControls);\n    this.formIndex = cnt;\n  }\n\n  initCommonFormGroup(): void {\n    let commonFieldControls = {};\n\n    FormUtils.initFieldGroup(commonFieldControls, { field: this.getFilterField(), addMore: false }, {}, {}, FormDiaplyMode.EDIT);\n    FormUtils.initFieldGroup(commonFieldControls, { field: this.getColumnSelectorField(), addMore: false }, {}, {}, FormDiaplyMode.EDIT);\n\n    this.commonListForm = new FormGroup(commonFieldControls);\n  }\n\n  getCurrentRecord(cnt: number): any {\n    let record: any = {};\n\n    if (this.dataSource && this.dataSource['_renderData'] && this.dataSource['_renderData']['_value'] && this.dataSource['_renderData']['_value'][cnt]) {\n      record = this.dataSource['_renderData']['_value'][cnt];\n    } else if (this._record && this._record['rows'] && this._record['rows'][cnt]) {\n      record = this._record['rows'][cnt];\n    }\n\n    return record;\n  }\n\n  getObjectTree(currentRow: any): ObjectTree {\n    if (this._listConfig && this._listConfig.uniqueKeys && this._listConfig.uniqueKeys.length > 0) {\n      let keys = this._listConfig.uniqueKeys;\n\n      let values: Array<string> = new Array<string>();\n      keys.forEach(key => values.push(currentRow[key]));\n\n      let objectTree: ObjectTree = {\n        parent: {\n          key: values\n        }\n      };\n\n      if (this.parent) {\n        objectTree.hierarchyUp = JSON.parse(JSON.stringify(this.parent));\n      }\n      return objectTree;\n    } else {\n      return null;\n    }\n  }\n\n  /** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource.data.length;\n    return numSelected === numRows;\n  }\n\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    this.isAllSelected() ?\n      this.selection.clear() :\n      this.dataSource.data.forEach(row => this.selection.select(row));\n  }\n\n  /** The label for the checkbox on the passed row */\n  checkboxLabel(row?: any): string {\n    if (!row) {\n      return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\n    }\n    return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;\n  }\n\n  setCardVisibility(): void {\n    this.hideCard = false;\n    if (this._listConfig.hideCard || (this._listConfig.hideHeader && this._listConfig.hideFooter)) {\n      this.hideCard = true;\n    }\n\n    if (this.hideCard == false) {\n      if (this._record && this._record.rows && this._record.rows.length == this._record.total && (StringUtils.isEmpty(this._listConfig.header) && !this._listConfig.description)) {\n        this.hideCard = true;\n      }\n    }\n\n    this.hideHeader = false;\n    if (((this._listConfig.header && StringUtils.isEmpty(this._listConfig.header.title)) && StringUtils.isEmpty(this._listConfig.description)) || this._listConfig.hideHeader) {\n      this.hideHeader = true;\n    }\n\n    this.hideFooter = false;\n    if ((this._record && this._record.rows && this._record.rows.length == this._record.total) || this._listConfig.hideFooter) {\n      this.hideFooter = true;\n    }\n  }\n\n  setColumnNames(): void {\n    this.columnNames = new Array<string>();\n    this.columnConfigs = new Array<Column>();\n\n    this.totalDispalyableWidth = 0;\n\n    if (this._listConfig.selectable) {\n      this.columnNames.push('select');\n\n      if (!this._listConfig.header) {\n        this._listConfig.header = { title: \"\" };\n      }\n\n      if (!this._listConfig.header || CollectionUtils.isEmpty(this._listConfig.header.actions)) {\n        this._listConfig.header.actions = new Array<Button>();\n      }\n\n      let selectableExist = false;\n      // for (let button of this._listConfig.header.actions) { \n      //   if ((<Button>button).identifier == \"listCrudSelectionButton\") {\n      //     selectableExist = true;\n      //   }\n      // }\n\n      // if (!selectableExist) {\n      //   this._listConfig.header.actions.unshift(this.selectableButton(\"listCrudSelectionButton\", this._listConfig.selectable.label, this._listConfig.selectable.icon))\n      // } \n\n      if (!this.selectableAdded) {\n        this._listConfig.header.actions.unshift(...this._listConfig.selectable);\n        this.selectableAdded = true;\n      }\n    }\n\n    if (this._listConfig.columns && this._listConfig.columns.length > 0) {\n      this._listConfig.columns.filter(column => column.show == true).forEach(column => {\n        let hasDisplayableField = false;\n        for (let field of column.fields) {\n          if (field.permission == null || this.ability.can(field.permission['action'], field.permission['subject'])) {\n            hasDisplayableField = true;\n          }\n        }\n\n        if (hasDisplayableField) {\n          this.columnNames.push(ListUtils.getColumnKey(column));\n          this.columnConfigs.push(column);\n\n          this.totalDispalyableWidth += column.width;\n        }\n      });\n    }\n\n    if (this.hasDisplayActions) {\n      this.columnNames.push('action');\n\n      this.totalDispalyableWidth += this._listConfig.actionWidth;\n    }\n  }\n\n  setDetailColumnCount(): void {\n    this.childColumnCount = this.columnConfigs.length + (this._listConfig.actions && this._listConfig.actions.length > 0 ? 1 : 0) + (this._listConfig.selectable ? 1 : 0);\n  }\n\n  setColors(): void {\n    if (this._record && this._record.rows) {\n      for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n        if (CollectionUtils.isEmpty(this.rowColors[rIndex])) {\n          this.rowColors.push({ bgColor: \"\", textColor: \"\" });\n        }\n        let rowColor: CellColor = this.rowColors[rIndex];\n        if (this._listConfig.rowBgColor) {\n          rowColor.bgColor = this._listConfig.rowBgColor(this._record.rows[rIndex]);\n        }\n        if (this._listConfig.rowTextColor) {\n          rowColor.textColor = this._listConfig.rowTextColor(this._record.rows[rIndex]);\n        }\n\n        for (let cIndex = 0; cIndex < this.columnConfigs.length; cIndex++) {\n          if (CollectionUtils.isEmpty(this.cellColors[rIndex])) {\n            this.cellColors.push(new Array<CellColor>());\n          }\n          if (CollectionUtils.isEmpty(this.cellColors[rIndex][cIndex])) {\n            this.cellColors[rIndex][cIndex] = { bgColor: \"\", textColor: \"\" };\n          }\n\n          let cellColor: CellColor = this.cellColors[rIndex][cIndex];\n          if (StringUtils.isEmpty(cellColor.bgColor)) {\n            cellColor.bgColor = rowColor.bgColor;\n          }\n          if (this.columnConfigs[cIndex].bgColor) {\n            cellColor.bgColor = this.columnConfigs[cIndex].bgColor(this._record.rows[rIndex]);\n          }\n\n          if (StringUtils.isEmpty(cellColor.textColor)) {\n            cellColor.textColor = rowColor.textColor;\n          }\n          if (this.columnConfigs[cIndex].textColor) {\n            cellColor.textColor = this.columnConfigs[cIndex].textColor(this._record.rows[rIndex]);\n          }\n        }\n      }\n    }\n  }\n\n  selectableButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.FLAT,\n      onlyIcon: false\n    };\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n\n    this.onFieldChange.emit(fieldChange);\n    this.formChange(this.form);\n\n    //  if a field options are dependent on me, then reload its options \n    fieldChange.fieldKey;\n    this._listConfig.columns.forEach(column => {\n      column.fields.forEach(field => {\n        if ((<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn == fieldChange.fieldKey) {\n          let row = FormUtils.getRawValue(this.form);\n          //let row = this.getCurrentRecord(fieldChange.sourceIndex);\n          KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.LIST, this._listConfig, row);\n        }\n      })\n    })\n  }\n\n  formChange(form: FormGroup) {\n    console.log(form);\n\n    if (form == undefined) {\n      this.onFormChange.emit(this.form);\n    } else {\n      this.onFormChange.emit(form);\n    }\n  }\n\n  buttonClick(action: Action) {\n    console.log(action);\n\n    if (!CollectionUtils.isEmpty(this._listConfig.selectable)) {\n      this._listConfig.selectable.forEach(selectButton => {\n        if (action.action == selectButton.identifier) {\n          action.data = this.selection.selected;\n        }\n      });\n    }\n\n    if (action.action == ReservedButton.ROW_EXPAND || action.action == ReservedButton.ROW_COLLAPSE) {\n    } else {\n      action.event.stopPropagation();\n    }\n\n    this.onButtonClick.emit(action);\n  }\n\n  getLayout(): void {\n    this.breakpointSubscription = this.breakpointObserver.observe([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n      Breakpoints.Medium,\n      Breakpoints.Large,\n      Breakpoints.XLarge\n    ]).subscribe((state: BreakpointState) => {\n      if (state.breakpoints[Breakpoints.XSmall]) {\n        this.isMobile = true;\n        this.cellCount = this.listConfig.mobile && this.listConfig.mobile.cellCount ? this.listConfig.mobile.cellCount : 4;\n        this.hideCard = true;\n        ListUtils.getMobileConfig(this.listConfig);\n\n        console.log('Matches XSmall viewport');\n      }\n      if (state.breakpoints[Breakpoints.Small]) {\n        this.isTablet = true;\n        console.log('Matches Small viewport');\n      }\n      if (state.breakpoints[Breakpoints.Medium]) {\n        this.isDesktop = true;\n        console.log('Matches Medium  viewport');\n      }\n      if (state.breakpoints[Breakpoints.Large]) {\n        this.isDesktop = true;\n        console.log('Matches Large viewport');\n      }\n      if (state.breakpoints[Breakpoints.XLarge]) {\n        this.isDesktop = true;\n        console.log('Matches XLarge viewport');\n      }\n\n      this.setCustomTemplate();\n      this.resetVerticalDisplay();\n    });\n  }\n\n  rowClick(row: any, rowIndex: any, context: any, event: any) {\n    console.log(row);\n    console.log(rowIndex);\n    console.log(context);\n\n    let actionButton: Button = null;\n    if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n      this._listConfig.actions.forEach(action => {\n        if (action.identifier == this._listConfig.rowAction) {\n          actionButton = action;\n        }\n      })\n\n      if (actionButton != null) {\n        let actionObj: Action = ButtonUtils.getAction(\n          this._listConfig.identifier,\n          rowIndex,\n          this.widgetArrayIndex,\n          actionButton.identifier,\n          this.parent,\n          event,\n          row,\n          context,\n          null);\n\n        this.onButtonClick.emit(actionObj);\n      }\n    }\n  }\n\n  resetVerticalDisplay(): void {\n    // if (!this.isCustomTemplate && !(this.isMobile && this._listConfig.mobile && this._listConfig.mobile.rowHeight)) {\n    if (this.isMobile && !(this._listConfig.mobile && this._listConfig.mobile.rowHeight) && !this.isCustomTemplate) {\n      this.displayVertical = true;\n    }\n  }\n\n  getButton(cell: CustomLayoutCell) {\n    let buttons: Array<CellControl> = new Array<CellControl>();\n    if (!CollectionUtils.isEmpty(cell) && !CollectionUtils.isEmpty(cell.controls)) {\n      buttons = cell.controls.filter(control => control.type == CellControllType.BUTTON).map(control => control.control);\n    }\n\n    return buttons;\n  }\n\n  tooltipPosition = { 'top': 0, 'left': 0 };\n  onHover(event, rowIndex, row) {\n    this.hoverRowData = row;\n    this.hoverRowIndex = rowIndex;\n\n    this.tooltipPosition.top = event.y;\n    this.tooltipPosition.left = event.x;\n  }\n\n  ngOnDestroy(): void {\n    if (this.breakpointSubscription) {\n      this.breakpointSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\n\nimport { BreakpointObserver } from '@angular/cdk/layout';\n\nimport { ListComponent } from '../list.component';\nimport { ListType, Pagination } from '../../model';\nimport { Params } from '@angular/router';\nimport { Action } from '../../../button/model';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'mx-static-list', \n  templateUrl: './static-list.component.html',\n  styleUrls: ['./static-list.component.scss'],\n  animations: [\n    trigger('detailExpand', [\n      state('collapsed', style({height: '0px', minHeight: '0'})),\n      state('expanded', style({height: '*'})),\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\n    ]),\n  ], \n  encapsulation: ViewEncapsulation.None\n})\nexport class StaticListComponent extends ListComponent implements OnInit {\n  constructor(public ability: Ability, public breakpointObserver: BreakpointObserver) {\n    super(ability, breakpointObserver);\n    window.onscroll = ()=> {this.sticky()};\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  isList(): boolean {\n    return this.listConfig.listType == ListType.STATIC;\n  }\n\n  onSort(event) {\n    const queryParams: Params = { sorton: event['active'], sortdir: event['direction'] };\n\n    this.expandedRow = null;\n    \n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: queryParams,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: event\n    }\n\n    console.log(action);\n    this.onSortChange.emit(action);\n  }\n\n  onPage(pageInfo: Pagination) {\n    console.log(\"scrolled:-\",pageInfo)\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: pageInfo,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: pageInfo\n    };\n\n    console.log(action);\n    this.onPageChange.emit(action);\n  }\n\n  ngOnDestroy() {\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver } from '@angular/cdk/layout';\n\nimport { ListComponent } from '../list.component';\nimport { ListType, Pagination } from '../../model';\nimport { Params } from '@angular/router';\nimport { Action } from '../../../button/model';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'mx-dynamic-list',\n  templateUrl: '../static-list/static-list.component.html',\n  styleUrls: ['../static-list/static-list.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class DynamicListComponent extends ListComponent implements OnInit {\n\n  constructor(\n    public ability: Ability,\n    public breakpointObserver: BreakpointObserver\n  ) {\n    super(ability, breakpointObserver);\n    window.onscroll = ()=> {this.sticky()};\n  }\n \n  ngOnInit() {\n    this.init();\n  }\n\n  isList(): boolean {\n    return this._listConfig.listType == ListType.DYNAMIC;\n  }\n\n  onSort(event) {\n    const queryParams: Params = { sorton: event['active'], sortdir: event['direction'] };\n\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: queryParams,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: event\n    };\n\n    console.log(action);\n    this.onSortChange.emit(action);\n  }\n\n  onPage(pageInfo: Pagination) {\n    console.log(pageInfo);\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: pageInfo,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: pageInfo\n    };\n\n    console.log(action);\n    this.onPageChange.emit(action);\n  }\n}\n","import { Component, OnInit, Inject, Output, EventEmitter, ViewEncapsulation } from '@angular/core';\nimport { Form } from '../../../form/model';\nimport { List } from '../../../list/model';\nimport { KeyMap, FieldChange } from '../../../field/model';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport interface DialogData {\n  type: string,\n  widgetConfig: Form | List,\n  sourceIndex: number,\n  context: any,\n  originalData: any,\n  keyMap: Array<KeyMap>,\n  reset: boolean,\n  currentInstance: any\n}\n\n@Component({\n  selector: 'mx-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ModalComponent implements OnInit {\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  constructor(public dialogRef: MatDialogRef<ModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData,\n    private ability: Ability) { \n      AbilityUtils.setAbility(this.ability);\n    }\n\n  ngOnInit(): void {\n  }\n\n  click(event: any) {\n    this.dialogRef.close(event);\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.scss']\n})\nexport class AdminLayoutComponent implements OnInit {\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Button, ButtonColor, ButtonType, Badge, BadgeColor, ButtonGroup, HoverButton, ButtonSize } from '../../../button/model';\nimport { CollectionUtils } from '../../../utility';\nimport { CrudDescription, CrudHeaderIcon, CrudStyle } from '../../model';\nimport { FormDiaplyMode, FormTitleIconPosition } from '../../../form/model';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'mx-crud-header',\n  templateUrl: './crud-header.component.html',\n  styleUrls: ['./crud-header.component.scss']\n})\nexport class CrudHeaderComponent implements OnInit {\n  @Input() identifier: string;\n  @Input() title: string; \n  @Input() subtitle: string; \n  @Input() description: CrudDescription;\n  @Input() badges: Array<Badge>;\n  @Input() icon: CrudHeaderIcon;\n  @Input() style: CrudStyle;\n\n  @Input() _pageBackRoute: Array<string>;\n  get pageBackRoute(): Array<string> {\n    return this._pageBackRoute;\n  }\n  @Input()\n  set pageBackRoute(_pageBackRoute: Array<string>) {\n    this._pageBackRoute = _pageBackRoute;\n    this.addBackButton();\n  } \n\n  @Input() formDisplayMode: FormDiaplyMode;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() showHeader: boolean;\n  @Input() originalData: any;\n  @Input() context: any;\n  @Output() onButtonClick = new EventEmitter();\n\n  iconPosition: FormTitleIconPosition;\n  badgeButtons: Array<ButtonGroup> = new Array<ButtonGroup>();\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.setIconPosition();\n    this.addBackButton();\n    this.transformBadgeButtons();\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this.icon && this.icon.position)  {\n      this.iconPosition = this.icon.position;\n    }\n  }\n\n  transformBadgeButtons(): void {\n    if (this.badges && this.badges.length > 0) {\n      let index: number = 0;\n      for (let badge of this.badges) {\n        this.badgeButtons.push({\n          identifier: 'crudHeaderBadge-' + index,\n          type: ButtonType.CHIP,\n          label: badge.content,\n          color: this.badgeColorToButtonColor(badge.color),\n          size: ButtonSize.MICRO,\n          groupIdentifier: \"crudHeaderGroup\",\n        });\n      }\n    }\n  }\n\n  badgeColorToButtonColor(color: BadgeColor): ButtonColor {\n    let buttonColor: ButtonColor;\n    if (color == BadgeColor.ASCENT) {\n      buttonColor = ButtonColor.ASCENT;\n    } else if (color == BadgeColor.PRIMARY) {\n      buttonColor = ButtonColor.PRIMARY;\n    } else if (color == BadgeColor.WARN) {\n      buttonColor = ButtonColor.WARN;\n    }\n\n    return buttonColor;\n  }\n\n  addBackButton(): void {\n    if (!this._pageBackRoute || CollectionUtils.isEmpty(this._pageBackRoute)) {\n      return;\n    }\n\n    let backButton: Button;\n\n    if (CollectionUtils.isEmpty(this.actions)) {\n      this.actions = new Array<Button | HoverButton | ButtonGroup>();\n    }\n\n    backButton = {\n      identifier: \"crudBackButton\",\n      label: \"Back\",\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: \"keyboard_return\",\n      type: ButtonType.GHOST,\n      onlyIcon: false,\n      routerLink: this._pageBackRoute,\n      displayInFormModes: [\n        FormDiaplyMode.CRUD_FORM\n      ]\n    };\n\n    let backAlreadyAdded = false;\n    for (let action of this.actions) {\n      if (action.identifier == \"crudBackButton\") {\n        backAlreadyAdded = true;\n      }\n    }\n\n    if (!backAlreadyAdded) {\n      this.actions.unshift(backButton);\n\n      this.actions = JSON.parse(JSON.stringify(this.actions));\n    }\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter } from '@angular/core';\nimport { FormDiaplyMode, FormHeader, FormField, FormDescription, FormTitleIconPosition, FormHelp } from '../../model';\nimport { Field, TextField, InputField, DropdownField, ImageField, CalendarField, AutocompleteField, CheckboxField, FileField, RadioField, SliderField, ToggleField, FieldChange, HtmlEditorField, LabelField } from '../../../field/model';\nimport { Button } from '../../../button/model';\nimport { FormGroup } from '@angular/forms';\nimport { CollectionUtils, ButtonUtils, FormUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'mx-form-header',\n  templateUrl: './form-header.component.html',\n  styleUrls: ['./form-header.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FormHeaderComponent implements OnInit {\n  @Input() form: FormGroup;\n  @Input() formHeaderConfig: FormHeader;\n  @Input() description: FormDescription;\n  @Input() help: FormHelp;\n  @Input() _formDisplayMode: FormDiaplyMode;\n  get formDisplayMode(): any {\n    return this._formDisplayMode;\n  }\n  @Input()\n  set formDisplayMode(_formDisplayMode: any) {\n    while (1) {\n      if (this.formInitialized) {\n        if (_formDisplayMode != this._formDisplayMode) {\n          this._formDisplayMode = _formDisplayMode;\n          this.init();\n        }\n        break;\n      }\n    }\n  }\n\n  @Input() formIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() context: any;\n  @Input() formActions: Array<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField | Button>;\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  title: string;\n  subtitle: string;\n  iconPosition: FormTitleIconPosition;\n  fields: Array<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField> = new Array<Field | TextField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField>();\n  buttons: Array<Button> = new Array<Button>();\n\n  formInitialized: boolean = true;\n\n  constructor(private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.formInitialized = true;\n  }\n\n  init() {\n    this.getFormHeader();\n    this.setIconPosition();\n    this.saperateFormActions();\n  }\n\n  getFormHeader(): void {\n    let title: string = this.formHeaderConfig.title;\n    this.subtitle = this.formHeaderConfig.subtitle;\n\n    switch (this._formDisplayMode) {\n      case FormDiaplyMode.SEARCH: {\n        title = this.formHeaderConfig.searchModeTitle ? this.formHeaderConfig.searchModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.ADD: {\n        title = this.formHeaderConfig.addModeTitle ? this.formHeaderConfig.addModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.EDIT: {\n        title = this.formHeaderConfig.editModeTitle ? this.formHeaderConfig.editModeTitle : title;\n        break;\n      }\n      case FormDiaplyMode.VIEW: {\n        title = this.formHeaderConfig.viewModeTitle ? this.formHeaderConfig.viewModeTitle : title;\n        break;\n      }\n      default: {\n        title = this.formHeaderConfig.title;\n      }\n    }\n\n    if (this.widgetArrayIndex != null) {\n      title += \" - \" + (this.widgetArrayIndex + 1);\n    }\n\n    this.title = title;\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this.formHeaderConfig.icon && this.formHeaderConfig.icon.position) {\n      this.iconPosition = this.formHeaderConfig.icon.position;\n    }\n  }\n\n  saperateFormActions() {\n    console.log(\"1\");\n    if (!CollectionUtils.isEmpty(this.formActions)) {\n      this.buttons = [];\n      this.fields = [];\n      \n      this.formActions.forEach(formAction => {\n        if (ButtonUtils.instanceOfAnyButtonType(formAction)) {\n          this.buttons.push(<Button>formAction);\n        } else {\n          this.fields.push(<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField>formAction);\n        }\n      })\n\n      this.initFormGroup();\n    }\n  }\n\n  initFormGroup(): void {\n    if (this.fields && this.fields.length > 0) {\n      let formFields: Array<FormField> = new Array<FormField>();\n      this.fields.map(field => {\n        field.alwaysEnable = true;\n        formFields.push({ 'field': field, 'addMore': false })\n      });\n\n      this.form = FormUtils.initFormGroup(formFields, {}, {}, FormDiaplyMode.ADD);\n    }\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    //    console.log(fieldChange);\n\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit, OnDestroy, Input, EventEmitter, Output, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\n\nimport { Form, FormDiaplyMode, FormField, FormLayout, FormLayoutRow, FormSectionExpand, FormButton, FormButtonLayout } from '../../model';\nimport { Field, FieldChange, KeyMap, KeyMapOptionType } from '../../../field/model';\nimport { FormGroup } from '@angular/forms';\nimport { Action } from '../../../button/model';\nimport { FormUtils, ObjectUtils, KeyMapUtils, ButtonUtils, CollectionUtils, FormCustomUtils, DependentUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'mx-form', \n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FormComponent implements OnInit, OnDestroy {\n  @Input() _formConfig: Form;\n  get formConfig(): any {\n    return this._formConfig;\n  }\n  @Input()\n  set formConfig(_formConfig: any) {\n    this._formConfig = _formConfig;\n    // this.headerReload = false;\n\n    while(1)  {\n      if (this.formInitialized) {\n        // setTimeout(() => {this.headerReload = true;}, 20);\n        console.log(\"1\");\n        this.init();\n        break;\n      }\n    }\n  }\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() keyMap: Array<KeyMap>; \n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  formFields: Array<FormField> = new Array<FormField>();\n  dependencies: any;\n\n  cellCount: number = 12;\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  showButtons: boolean = true;\n\n  private _supportingRecord: any;\n  get supportingRecord(): any {\n    return this._supportingRecord;\n  }\n  @Input()\n  set supportingRecord(_supportingRecord: any) {\n    this._supportingRecord = _supportingRecord;\n\n    this.initFormGroup();\n  }\n\n  private _record: any;\n  get record(): any {\n    return this._record;\n  }\n  @Input()\n  set record(_record: any) {\n    this._record = _record;\n\n    if (this.originalData) { } else  {\n      this.originalData = this._record;\n    }\n    this.initFormGroup();\n  }\n\n  private _reset: boolean;\n  get reset(): boolean {\n    return this._reset;\n  }\n  @Input()\n  set reset(_reset: boolean) {\n    this._reset = _reset;\n\n    if (this._reset == true) {\n      FormUtils.reset(this.form, this.formConfig);\n    }\n  }\n\n  @Input()\n  form: FormGroup;\n  formLayouts: Array<FormLayout> = new Array<FormLayout>();\n\n  formButton: FormButton;\n  formButtonLayout: FormButtonLayout;\n  breakpointSubscription: Subscription;\n\n  formInitialized: boolean = true;\n  // headerReload: boolean = false;\n\n  //  unflatten = require('flat').unflatten;\n\n  constructor(private ability: Ability, private breakpointObserver: BreakpointObserver) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.formInitialized = true;\n  }\n\n  init()  {\n    this.getLayout();\n    this.getActions();\n    //    this.fieldDefaultSetting();\n    this.dependencies = { ...DependentUtils.getDependencyTree(this.formConfig.formFields), ...DependentUtils.getDependencyTreeForButton(this.formConfig.action) };\n\n    this.getCustomLayout();\n  }\n\n  getCustomLayout(): void {\n    if (this.formConfig.showCustomLayout) {\n      FormCustomUtils.setCustomLayout(this.formConfig, this.formConfig.layout);  \n    } else  {\n      this.formConfig.showCustomLayout = false;\n    }\n  }\n\n  getActions(): void {\n    if (this.formConfig && this.formConfig.action && (<FormButton>this.formConfig.action).align && (<FormButton>this.formConfig.action).buttons && (<FormButton>this.formConfig.action).buttons.length > 0) {\n      this.formButton = (<FormButton>this.formConfig.action);\n    }\n\n    if (this.formConfig && this.formConfig.action && (<FormButtonLayout>this.formConfig.action).cells && (<FormButtonLayout>this.formConfig.action).cells.length > 0) {\n      this.formButtonLayout = (<FormButtonLayout>this.formConfig.action);\n    }\n  }\n\n  dependentFieldChange(action: Action) {\n    if (this.formConfig.identifier == action.sourceIdentifier) {\n      let newRecord = ObjectUtils.unflatten(this.form.getRawValue());\n      this.record = { ...this.record, ...newRecord };\n      console.log(this.record);\n      this.initFormGroup();\n\n      this.showButtons = false;\n      setTimeout(() => {\n        this.showButtons = true;\n      }, 50);\n    }\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    this.onFieldChange.emit(fieldChange);\n    this.onFormChange.emit(this.form);\n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n\n  fieldDefaultSetting(): void {\n    if (this.formConfig) {\n      for (let formField of this.formConfig.formFields) {\n        if (!(<Field>formField.field).fieldDisplayType) {\n          (<Field>formField.field).fieldDisplayType = this.formConfig.displayType;\n        }\n      }\n\n      if (!this.formConfig.displayInColumns) {\n        this.formConfig.displayInColumns = 1;\n      }\n    }\n\n    this.setTitle();\n  }\n\n  setTitle() {\n    if (this.formConfig.header) {\n      let title = this.formConfig.header.title;\n      switch (this.formConfig.displayMode) {\n        case FormDiaplyMode.ADD:\n          if (this.formConfig.header.addModeTitle) {\n            title = this.formConfig.header.addModeTitle;\n          }\n          break;\n        case FormDiaplyMode.EDIT:\n          if (this.formConfig.header.editModeTitle) {\n            title = this.formConfig.header.editModeTitle;\n          }\n          break;\n        case FormDiaplyMode.VIEW:\n          if (this.formConfig.header.viewModeTitle) {\n            title = this.formConfig.header.viewModeTitle;\n          }\n          break;\n        case FormDiaplyMode.BLOCKED:\n          if (this.formConfig.header.viewModeTitle) {\n            title = this.formConfig.header.viewModeTitle;\n          }\n          break;\n      }\n      this.formConfig.header.title = title;\n    }\n  }\n\n  initFormGroup(): void {\n    KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.FORM, this.formConfig, this._record);\n\n    this.form = FormUtils.initFormGroup(this.formConfig.formFields, this._supportingRecord, this._record, this.formConfig.displayMode);\n\n    this.onFormChange.emit(this.form);\n\n    if (this.isMobile || this.isTablet || this.isDesktop) {\n      this.resetDisplayInColumn();\n    }\n  }\n\n  // isValidButton(button: Button): boolean {\n  //   let isValid: boolean = false;\n\n  //   if (button.displayInFormModes.indexOf(this.formConfig.displayMode) > -1) {\n  //     isValid = true;\n  //   }\n  //   return isValid;\n  // }\n\n  // isNewRow(index: number): string {\n  //   let displayRow: string = \"\";\n  //   if (index % this.formConfig.displayInColumns == 0) {\n  //     displayRow = \"row\";\n  //   }\n\n  //   return displayRow;\n  // }\n\n  getFormValue(): any {\n    return FormUtils.getRawValue(this.form);\n  }\n\n  transformRows(): void {\n    let sectionLabel: string = \"\";\n    let formLayouts: Array<FormLayout> = new Array<FormLayout>();\n    let index: number = -1;\n\n    let displayInColumns = this.formConfig.displayInColumns;\n\n    if (this.formConfig.formFields && this.form) {\n      for (let formField of this.formConfig.formFields) { \n        if (this.form.controls[formField.field.key] && DependentUtils.displayDependencyField(formField.field.dependentOnFields, this._supportingRecord, this._record)) {\n          if (formField.separator || sectionLabel == \"\") {\n            formLayouts.push({\n              sectionLabel: formField && formField.separator && formField.separator.label ? formField.separator.label : \"\",\n              sectionIcon: formField && formField.separator && formField.separator.icon ? formField.separator.icon : \"\",\n              sectionExpandable: formField && formField.separator && formField.separator.expandable ? formField.separator.expandable : null,\n              rows: new Array<FormLayoutRow>()\n            });\n            sectionLabel = \"-\";\n            index++;\n          }\n\n          if (formLayouts[index]) {\n            let rLength = formLayouts[index].rows.length;\n\n            if (formLayouts[index].rows.length == 0) {\n              formLayouts[index].rows.push({ columns: new Array<FormField>() });\n              formLayouts[index].rows[0].columns = new Array<FormField>();\n            }\n\n            let cLength = this.formFieldRowColumnCount(formLayouts, index);\n\n            if (cLength >= displayInColumns) {\n              formLayouts[index].rows[rLength] = { columns: new Array<FormField>() };\n            }\n\n            formLayouts[index].rows[formLayouts[index].rows.length - 1].columns.push(formField);\n          }\n        }\n      }\n    }\n\n    this.formLayouts = formLayouts;\n  }\n\n  private formFieldRowColumnCount(formLayouts: Array<FormLayout>, index: number): number {\n    let colCount = 0;\n\n    for (let cCnt = 0; cCnt < formLayouts[index].rows[formLayouts[index].rows.length - 1].columns.length; cCnt++) {\n      if (formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns) {\n        colCount += formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns;\n      } else {\n        colCount += 1;\n        formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns = 1;\n      }\n    }\n\n    return colCount;\n  }\n\n  toggleList(formLayout: FormLayout): void {\n    if (formLayout.sectionExpandable && formLayout.sectionExpandable.allowed) {\n      if (formLayout.sectionExpandable.default == FormSectionExpand.EXPAND) {\n        formLayout.sectionExpandable.default = FormSectionExpand.COLLAPSE;\n      } else {\n        formLayout.sectionExpandable.default = FormSectionExpand.EXPAND;\n      }\n    }\n  }\n\n  getLayout(): void {\n    this.breakpointSubscription = this.breakpointObserver.observe([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n      Breakpoints.Medium,\n      Breakpoints.Large,\n      Breakpoints.XLarge\n    ]).subscribe((state: BreakpointState) => {\n      if (state.breakpoints[Breakpoints.XSmall]) {\n        this.isMobile = true;\n        console.log('Matches XSmall viewport');\n      }\n      if (state.breakpoints[Breakpoints.Small]) {\n        this.isTablet = true;\n        console.log('Matches Small viewport');\n      }\n      if (state.breakpoints[Breakpoints.Medium]) {\n        this.isDesktop = true;\n        console.log('Matches Medium  viewport');\n      }\n      if (state.breakpoints[Breakpoints.Large]) {\n        this.isDesktop = true;\n        console.log('Matches Large viewport');\n      }\n      if (state.breakpoints[Breakpoints.XLarge]) {\n        this.isDesktop = true;\n        console.log('Matches XLarge viewport');\n      }\n\n      this.resetButtonDisplay();\n      this.resetDisplayInColumn();\n    });\n  }\n\n  resetButtonDisplay(): void {\n    if (this.formConfig && this.formConfig.action && !CollectionUtils.isEmpty((<FormButton>this.formConfig.action).buttons)) {\n      if ((this.isMobile || this.isTablet) && !ButtonUtils.hasWidth((<FormButton>this.formConfig.action).buttons)) {\n        ButtonUtils.setEqualWidth((<FormButton>this.formConfig.action).buttons);\n      }\n    } \n  }\n\n  resetDisplayInColumn(): void {\n    if (this.formConfig && this.formConfig.displayInColumns) {\n      if (this.isMobile) {\n        this.cellCount = 4;\n        this.formConfig.displayInColumns = this.getNewDisplayInColumn(\"mobile\", this.formConfig.displayInColumns);\n      }\n      if (this.isTablet) {\n        this.cellCount = 8;\n        this.formConfig.displayInColumns = this.getNewDisplayInColumn(\"tablet\", this.formConfig.displayInColumns);\n      }\n    }\n\n    if (this.formConfig && !CollectionUtils.isEmpty(this.formConfig.formFields)) {\n      this.formConfig.formFields.forEach(formField => {\n        if (formField.displayInColumns) {\n          if (this.isMobile) {\n            this.cellCount = 4;\n            formField.displayInColumns = this.getNewDisplayInColumn(\"mobile\", formField.displayInColumns);\n          }\n          if (this.isTablet) {\n            this.cellCount = 8;\n            formField.displayInColumns = this.getNewDisplayInColumn(\"tablet\", formField.displayInColumns);\n          }\n        } else  { \n          formField.displayInColumns = 1;\n        }\n      })\n    }\n\n    this.fieldDefaultSetting();\n    this.transformRows();\n  }\n\n  getNewDisplayInColumn(device: string, displayInColumn: number): number {\n    let displayInColumnMap: Map<string, Map<number, number>> = new Map<string, Map<number, number>>();\n\n    let mobileMap: Map<number, number> = new Map<number, number>();\n    mobileMap.set(12, 1);\n    mobileMap.set(11, 1);\n    mobileMap.set(10, 1);\n    mobileMap.set(9, 1);\n    mobileMap.set(8, 1);\n    mobileMap.set(7, 1);\n    mobileMap.set(6, 1);\n    mobileMap.set(5, 1);\n    mobileMap.set(4, 1);\n    mobileMap.set(3, 1);\n    mobileMap.set(2, 1);\n    mobileMap.set(1, 1);\n    displayInColumnMap.set(\"mobile\", mobileMap);\n\n    let tabletMap: Map<number, number> = new Map<number, number>();\n    tabletMap.set(12, 2);\n    tabletMap.set(11, 2);\n    tabletMap.set(10, 2);\n    tabletMap.set(9, 2);\n    tabletMap.set(8, 2);\n    tabletMap.set(7, 2);\n    tabletMap.set(6, 2);\n    tabletMap.set(5, 2);\n    tabletMap.set(4, 2);\n    tabletMap.set(3, 2);\n    tabletMap.set(2, 2);\n    tabletMap.set(1, 1);\n    displayInColumnMap.set(\"tablet\", tabletMap);\n\n    return displayInColumnMap.get(device).get(displayInColumn);\n  }\n\n  ngOnDestroy(): void {\n    if (this.breakpointSubscription) {\n      this.breakpointSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { CrudHeader, ActionPage, CrudList, CrudListData, Crud, CrudSearch, CrudTab } from '../../model';\nimport { Button, Badge, Action } from '../../../button/model';\nimport { KeyMap } from '../../../field/model';\nimport { List } from '../../../list/model';\nimport { CollectionUtils, SecurityUtils, CrudUtils } from '../../../utility';\nimport { FormDiaplyMode } from '../../../form/model';\n\n//extends ModalInterfaceComponent\n@Component({\n  selector: 'mx-crud-list-interface',\n  templateUrl: './crud-list.component.html',\n  styleUrls: ['./crud-list.component.scss']\n})\nexport class CrudListComponentInterface  implements OnInit {\n  //  Common Config \n  identifier: string;\n  header: CrudHeader;\n  actions: Array<Button>;\n  actionPages: Array<ActionPage>;\n  formReset: boolean;\n  listReset: boolean;\n  keyMap: Array<KeyMap> = new Array<KeyMap>();\n\n  //  List Config\n  quickLinks: Array<Button>;\n  searchConfig: CrudSearch;\n  searchData: any;\n  listConfig: CrudList;\n  listPageBackRoute: Array<string>;\n\n  expandRowIndex: number;\n  \n  configListData: CrudListData; \n  originalData: any;\n\n  constructor() { \n    // super();\n  }\n\n  ngOnInit(): void {\n    this.setCommonConfig();\n    this.setListConfig();\n  }\n\n  setCommonConfig(): void {\n\n  }\n  setListConfig(): void{\n\n  }\n  setBadges(): Array<Badge>{\n    return null;\n  }\n\n  setCommonConfigUsingCrud(crud: Crud): void {\n    //  Config\n    this.identifier = crud.identifier\n    this.header = crud.header;\n    \n    //  Tab wise data/setting\n    //this.keyMap = {};\n    this.listReset = true;\n  }\n\n  setListConfigUsingCrud(crud: Crud): void {\n    //  Config\n    this.quickLinks = crud.quickLinks;\n    this.searchConfig = crud.search;\n    this.listConfig = crud.list;\n    this.actions = crud.actions;\n\n    this.setConfigListData([], []);\n  }\n \n  loadFilterParams(filterStr: string) {\n    if (filterStr != null) {\n      const filter = SecurityUtils.decrypt(filterStr);\n\n      this.configListData.searchData = filter;\n    } else {\n    }\n    this.configListData.pageNo = 1;\n  }\n  \n  setConfigListData(records: Array<any>, badges: Array<Badge>, route?: Array<string>): void {\n    let configListDataNew = {\n      pageBackRoute: route, \n      badges: badges,\n      records: records,\n      originalData: this.originalData\n    }\n\n    this.configListData = { ...this.configListData, ...configListDataNew };    \n  }\n\n  getRowKey(lIndex: number): Array<string> {\n    let keys: Array<string>;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex]) {\n      keys = this.listConfig.lists[lIndex].uniqueKeys;\n    } else {\n      keys = new Array<string>();\n    }\n\n    return keys;\n  }\n\n  getChildRowKey(lIndex: number): Array<string> {\n    let keys: Array<string>;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex] && this.listConfig.lists[lIndex].child && this.listConfig.lists[lIndex].child.record && (<List>this.listConfig.lists[lIndex].child.record).uniqueKeys) {\n      keys = (<List>this.listConfig.lists[lIndex].child.record).uniqueKeys;\n    } else {\n      keys = new Array<string>();\n    }\n\n    return keys;\n  }\n\n  getChildRecordIdentifier(lIndex: number): string {\n    let childRecordIdentifier: string;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex] && this.listConfig.lists[lIndex].child) {\n      childRecordIdentifier = this.listConfig.lists[lIndex].child.recordIdentifier;\n    } else {\n      childRecordIdentifier = \"\";\n    }\n\n    return childRecordIdentifier;\n  }\n\n  beforeChangeMerge(action: Action, sourceIdentifier: string): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if (this.configListData.records[lIndex].rows[rIndex][key] != action.originalData[key]) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              this.configListData.records[lIndex].rows[rIndex] = { ...action.originalData, ...action.data };\n\n              rows = this.configListData.records[lIndex].rows;\n              rowIndex = rIndex;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  addRow(action: Action, sourceIdentifier: string, data?: any): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1; \n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          if (CollectionUtils.isEmpty(data))  {\n            this.configListData.records[lIndex].rows.push({});\n          } else  {\n            this.configListData.records[lIndex].rows.push(data);\n          }\n\n          rows = this.configListData.records[lIndex].rows;\n          rowIndex = this.configListData.records[lIndex].rows.length - 1;\n          break;\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  afterChangeMerge() {\n    this.configListData = JSON.parse(JSON.stringify(this.configListData));\n    this.listReset = true;\n  }\n\n\n  beforeChildChangeMerge(action: Action, sourceIdentifier: string): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if ((<Array<string>>action.parentHierarchy.parent['key']).indexOf(this.configListData.records[lIndex].rows[rIndex][key]) < -1) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              let childRecordIdentifier = this.getChildRecordIdentifier(lIndex);\n\n              for (let cIndex = 0; cIndex < this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].length; cIndex++) {\n                let keys = this.getChildRowKey(lIndex);\n\n                let isChildMatchingRow = true;\n                for (let key of keys) {\n                  if (this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier][cIndex][key] != action.originalData[key]) {\n                    isChildMatchingRow = false;\n                  }\n                }\n\n                if (isChildMatchingRow) {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier][cIndex] = { ...action.originalData, ...action.data };\n\n                  rows = this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier];\n                  rowIndex = cIndex;\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  addChildRow(action: Action, sourceIdentifier: string, data?: any): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == action.sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if ((<Array<string>>action.originalData[key]).indexOf(this.configListData.records[lIndex].rows[rIndex][key]) < -1) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              let childRecordIdentifier = this.getChildRecordIdentifier(lIndex);\n\n              for (let cIndex = 0; cIndex < this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].length; cIndex++) {\n                if (CollectionUtils.isEmpty(data))  {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].push({});\n                } else  {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].push(data);\n                }\n\n                rows = this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier];\n                rowIndex = cIndex;\n                break;\n              }\n            }\n          } \n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  setTabDisplayMode(crudTabs: Array<CrudTab>, formDisplayMode: FormDiaplyMode) {\n    CrudUtils.setDisplayType(crudTabs, formDisplayMode);\n  }\n\n  afterChildChangeMerge() {\n    this.afterChangeMerge();\n  }\n\n  setHeaderTitle(title: string)  {\n    this.header.title = title;\n  }\n\n  setHeaderDescription(description: string)  {\n    this.header.description.text = description;\n  }\n}\n","import { ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { FormControl, NgControl } from '@angular/forms';\nimport { MatAutocomplete, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { ChipField, Chip, ChipItemChangedEvent, ChipOrientation, RemoveFunc } from '../../model/chips.model';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { DropdownOption } from '../../model';\nimport { FieldComponent } from '../field/field.component';\nimport { Ability } from '@casl/ability';\nimport { Router } from '@angular/router';\nimport { CollectionUtils, FieldUtils } from '../../../utility';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'mx-chips',\n    templateUrl: './chips.component.html',\n    styleUrls: ['./chips.component.scss'],\n    // providers: [\n    //     { provide: MatFormFieldControl, useExisting: ChipsComponent }\n    // ]\n})\nexport class ChipsComponent extends FieldComponent implements OnInit {\n    @Input() field: ChipField = null;\n    @Input() disabled: boolean;\n    @Input() formControl: FormControl;\n\n    @Input() errorMatcher: ErrorStateMatcher;\n\n    @ViewChild('input') input: ElementRef<HTMLInputElement>;\n    @ViewChild('auto') matAutocomplete: MatAutocomplete;\n\n    @Output() onListChange: EventEmitter<ChipItemChangedEvent> = new EventEmitter();;\n\n    placeholder: string = '';\n    separatorKeysCodes: number[] = [ENTER];//SPACE\n    enableDragAndDrop: boolean;\n    orientation: ChipOrientation;\n    chips: Chip[] = [];\n    options: Array<DropdownOption>;\n    addOnBlur: boolean = true;\n    removable: boolean;\n\n    constructor(public router: Router, public ability: Ability) {\n        super(router, ability);\n    }\n    stateChanges: Observable<void>;\n    id: string;\n    ngControl: NgControl;\n    focused: boolean;\n    empty: boolean;\n    shouldLabelFloat: boolean;\n    errorState: boolean;\n    controlType?: string;\n    autofilled?: boolean;\n    userAriaDescribedBy?: string;\n    setDescribedByIds(ids: string[]): void {\n        throw new Error('Method not implemented.');\n    }\n    onContainerClick(event: MouseEvent): void {\n        throw new Error('Method not implemented.');\n    }\n\n    ngOnInit() {\n        this.placeholder = this.field.placeholder || '';\n        this.orientation = this.field.orientation || ChipOrientation.HORIZONTAL;\n        this.options = this.field.options || [];\n\n        this.setChips();\n    }\n\n    setChips() {\n        let values: Array<string> = this.formControl.value;\n        let isReadOnly: boolean = FieldUtils.isFieldDisabled(this.field, this.displayMode, values);\n\n        if (!CollectionUtils.isEmpty(values)) {\n            values.forEach(value => {\n                if (!CollectionUtils.isEmpty(this.field.options)) {\n                    let optionMatch: DropdownOption = null;\n                    this.field.options.forEach(option => {\n                        if (option.key == value) {\n                            optionMatch = option;\n                        }\n                    });\n\n                    if (optionMatch != null) {\n                        this.chips.push({\n                            key: optionMatch.key,\n                            value: optionMatch.value,\n                            disabled: isReadOnly,\n                            removable: true\n                        });\n                    } else {\n                        this.chips.push({\n                            key: value,\n                            value: value,\n                            disabled: isReadOnly,\n                            removable: true\n                        });\n                    }\n                } else {\n                    this.chips.push({\n                        key: value,\n                        value: value,\n                        disabled: isReadOnly,\n                        removable: true\n                    });\n                }\n            });\n        } else {\n            this.chips = [];\n        }\n    }\n\n    addItem = ($event: MatChipInputEvent): void => {\n        const input = $event.input;\n        const value = $event.value;\n\n        let keyExists = this.keyExists(value.trim());\n\n        // Add our item\n        if ((value || '').trim() && !keyExists) {\n            this.chips.push({\n                key: value.trim(),\n                value: value.trim(),\n                disabled: false,\n                removable: this.removable || true\n            });\n        }\n\n        // Reset the input value\n        if (input) {\n            input.value = '';\n        }\n        this.triggerChangedEvent($event as any);\n    }\n\n    keyExists(value: string): boolean {\n        let keyExists = false;\n        this.chips.forEach(chip => {\n            if (chip.key == value) {\n                keyExists = true;\n            }\n        });\n\n        return keyExists;\n    }\n\n    removeItem = ($event: Event, item: Chip, index: number) => {\n        this.chips.splice(index, 1);\n        // if (this.isFunctionDefined(this.field.onRemoveItem)) {\n        //     this.field.onRemoveItem(item.value).subscribe(result => {\n        //         if (result) {\n        //             this.chips.splice(index, 1);\n        //             this.triggerChangedEvent($event);\n        //         }\n        //     });\n        // }\n    }\n\n    drop = ($event: CdkDragDrop<Chip[]>) => {\n        moveItemInArray(this.chips, $event.previousIndex, $event.currentIndex);\n        this.triggerChangedEvent($event as any);\n    }\n\n    triggerChangedEvent = ($event: Event | MatAutocompleteSelectedEvent) => {\n        let values: Array<string> = this.chips.map(x => x.key);\n        this.formControl.setValue(values);\n        this.onListChange.emit(<ChipItemChangedEvent>{\n            values: values,\n            event: $event\n        });\n    }\n\n    onSelected = (event: MatAutocompleteSelectedEvent): void => {\n        let keyExists = this.keyExists(event.option.value['key']);\n\n        if (!keyExists) {\n            this.chips.push({\n                key: event.option.value['key'],\n                value: event.option.value['value'],\n                removable: true,\n                disabled: false\n            });\n            this.input.nativeElement.value = '';\n            this.triggerChangedEvent(event);\n        }\n    }\n\n    isFunctionDefined = (func: RemoveFunc) => {\n        return typeof func == 'function';\n    }\n\n    errors(): Array<{ error: string, message: string }> {\n        let errors: Array<{ error: string, message: string }> = [];\n        if (this.formControl != undefined) {\n            if (this.formControl && this.formControl.errors) {\n\n                Object.keys(this.formControl.errors).forEach(keyError => {\n                    if (this.field.validations) {\n                        for (let validation of this.field.validations) {\n                            if (keyError === validation.message.key) {\n                                errors[errors.length] = { error: keyError, message: validation.message.message };\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        return errors;\n    }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ToolbarField, MenuItem } from '../../model/toolbar.model';\n\n@Component({\n    selector: 'mx-toolbar',\n    templateUrl: './toolbar.component.html',\n    styleUrls: ['./toolbar.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ToolbarComponent implements OnInit {\n    @Input() field: ToolbarField = null;\n    title: string;\n    menuItems: MenuItem[];\n\n    constructor() { }\n\n    ngOnInit() {\n         this.title = this.field.title;\n         this.menuItems = this.field.menuItems;\n    }\n\n    onMenuClick = (item: MenuItem)=> {\n        item.onClick(item);\n    }\n    \n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MultiImage, MultiImageField } from '../../model/multi-image-field.model';\n\n@Component({\n    selector: 'mx-multi-image',\n    templateUrl: './multi-image.component.html',\n    styleUrls: ['./multi-image.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class MultiImageComponent implements OnInit {\n    @Input() field: MultiImageField = null;\n    @Input() control: FormControl;\n    @Input() disabled: boolean;\n\n    radius: number;\n    count: number;\n    showCount: boolean;\n    showAll: boolean;\n    images: MultiImage[] | string[];\n    lastItemLabel: string;\n    showLastItem: boolean;\n    hideTooltip: boolean;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.radius = (this.field.radius || 5) * 10;\n\n        this.showCount = this.field.showCount || false;\n        this.showAll = this.field.showAll || false;\n        this.images = this.field.images;\n        this.images = this.images ? this.images : <Array<string> | Array<MultiImage>>this.field.value;\n        this.count = this.field.count || (this.images ? this.images.length : 0);\n        \n        if (this.showCount && (this.showAll || !this.showAll)) {\n            this.lastItemLabel = '+' + (this.images.length - this.count);\n        } else if (this.showAll && !this.showCount) {\n            this.lastItemLabel = '>';\n        }\n\n        this.hideTooltip = this.images && this.images.length > 0 && (typeof this.images[0] == 'string');\n    }\n\n    onShowAllClick = () => {\n        this.count = this.images.length;\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Form, FormDiaplyMode } from '../../../form/model';\nimport { DisplayMode, FieldChange, KeyMap } from '../../model';\nimport { FieldComponent } from '../field/field.component';\nimport { ParagraphField, TokenType } from '../../model/paragraph.model';\nimport { Ability } from '@casl/ability';\nimport { FormUtils, ButtonUtils } from '../../../utility';\n\n@Component({\n    selector: 'mx-paragraph',\n    templateUrl: './paragraph.component.html',\n    styleUrls: ['./paragraph.component.scss'],\n    encapsulation: ViewEncapsulation.None\n}) \nexport class ParagraphComponent extends FieldComponent implements OnInit {\n    tokens: Array<TokenType> = new Array<TokenType>();\n    paragraphField: ParagraphField;\n    @Output() onButtonClick = new EventEmitter();\n\n    constructor(public router: Router, public ability: Ability) {\n        super(router, ability);\n    }\n\n    ngOnInit() {\n        this.paragraphField = (<ParagraphField>this.field);\n        let words = this.paragraphField.template.split(' ');\n\n        if (words && words.length > 0) {\n            words.map(word => {\n                var key = word.slice(1, -1);\n\n                if (word.indexOf('{') == -1) {\n                    this.tokens.push({ type: 'LABEL', value: word });\n                } else if (word.indexOf('{') != -1 && this.paragraphField.fieldContexts[key] != undefined) {\n                    this.tokens.push({ type: 'FIELD', field: this.paragraphField.fieldContexts[key] });\n                    if (this.paragraphField.isReadOnly) {\n                        this.paragraphField.fieldContexts[key]['isReadOnly'] = this.paragraphField.isReadOnly;\n                    }\n                    if (this.paragraphField.displayMode == DisplayMode.LABEL) {\n                        this.paragraphField.fieldContexts[key]['displayMode'] = DisplayMode.LABEL;\n                    }\n                } else if (word.indexOf('{') != -1 && this.paragraphField.buttonContexts[key] != undefined) {\n                    this.tokens.push({ type: 'BUTTON', button: this.paragraphField.buttonContexts[key] });\n                    // if (this.paragraphField.isReadOnly) {\n                    //     this.paragraphField.buttonContexts[key]['displayMode'] = DisplayMode.DISABLED;\n                    // }\n                }\n            })\n        }\n    }\n\n    fieldChange(fieldChange: FieldChange) {\n        this.onFieldChange.emit(fieldChange);\n    }\n\n    isButtonDisable()   {\n        return ButtonUtils.isDisable(this.displayMode) || this.paragraphField.isReadOnly;\n    }\n\n    getFormValue(): any {\n        return FormUtils.getRawValue(this.form);\n    }\n\n    buttonClick(event: any) {\n        console.log(event);\n        this.onButtonClick.emit(event);\n    }\n}\n","\n\nimport { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({ name: 'highlight' })\nexport class HighlightPipe implements PipeTransform {\n  transform(text: string, search): string {\n    const pattern = search\n      .replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\")\n      .split(' ')\n      .filter(t => t.length > 0)\n      .join('|');\n    const regex = new RegExp(pattern, 'gi');\n\n    return search ? text.replace(regex, match => `<b>${match}</b>`) : text;\n  }\n}","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { CollectionUtils, StringUtils } from '../../../utility';\nimport { Field, HelpTextOrientation } from '../../model';\n\n@Component({\n    selector: 'mx-tooltip',\n    templateUrl: './tooltip.component.html',\n    styleUrls: ['./tooltip.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class TooltipComponent implements OnInit {\n    @Input() field: Field = null;\n    @Input() control: FormControl;\n    hasFieldNavigate: boolean;\n    placement: string;\n    constructor() { }\n\n    ngOnInit() {\n        this.hasFieldNavigate = this.fieldNavigate();\n        if(this.field.help && this.field.help.orientation) {\n            this.placement = this.field.help.orientation.toLowerCase();\n        } else {\n            this.placement ='bottom'\n        };\n    }\n\n    fieldNavigate(): boolean {\n        let hasFieldNavigate: boolean = false;\n        if (this.field.navigate && (!StringUtils.isEmpty(this.field.navigate.icon) || !StringUtils.isEmpty(this.field.navigate.text)) && !CollectionUtils.isEmpty(this.field.navigate.routeTo)) {\n            hasFieldNavigate = true;\n        }\n        return hasFieldNavigate;\n    }\n\n}\n","import { Directive, Input, Output,EventEmitter } from '@angular/core';\n\n\n@Directive({\n  selector: '[ngInit]'\n}) \nexport class NgInit {\n  @Output()\n    ngInit: EventEmitter<any> = new EventEmitter();\n\n    ngOnInit() {\n        this.ngInit.emit();\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(protected sanitizer: DomSanitizer) {\n  }\n\n  transform(value: any, args?: any): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n\n}","import {\n  Directive,\n  Input,\n  OnChanges,\n  ComponentRef,\n  ViewContainerRef,\n  Compiler,\n  ModuleWithComponentFactories,\n  Component,\n  NgModule,\n  Type\n} from '@angular/core';\nimport { CommonModule } from '@angular/common'\n//import { MaterialWidgetModule } from '../../ngx-material-widget.module';\n\n@Directive({\n  selector: '[cfTemplate]'\n})\nexport class cfTemplateDirective implements OnChanges {\n  @Input() cfTemplate: string;\n  @Input() cfTemplateContext: any;\n  @Input() currentComponent: any;\n\n  componentRef: ComponentRef<any>;\n\n  constructor(private vcRef: ViewContainerRef, private compiler: Compiler) { }\n\n  ngOnChanges() {\n    if (!this.cfTemplate) {\n      if (this.componentRef) {\n        this.updateProperties();\n        return;\n      }\n      throw Error('You must provide template.');\n    }\n\n    this.vcRef.clear();\n    this.componentRef = null;\n\n    const component = this.createDynamicComponent(this.cfTemplate);\n    const module = this.createDynamicModule(component);\n\n    this.compiler.compileModuleAndAllComponentsAsync(module)\n      .then((moduleWithFactories: ModuleWithComponentFactories<any>) => {\n        let componentFactory = moduleWithFactories.componentFactories.find(x => x.componentType === component);\n\n        this.componentRef = this.vcRef.createComponent(componentFactory);\n        this.updateProperties();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  updateProperties() {\n    for (var prop in this.cfTemplateContext) {\n      this.componentRef.instance[prop] = this.cfTemplateContext[prop];\n    }\n  }\n\n  private createDynamicComponent(template: string) {\n    @Component({\n      selector: 'mx-dynamic-component',\n      template: template\n    })\n    class CustomDynamicComponent { }\n    return CustomDynamicComponent;\n  }\n\n  private createDynamicModule(component: Type<any>) {\n    @NgModule({\n      // Every element you might need must be known for this module\n//      imports: [CommonModule, MaterialWidgetModule],\n      imports: [CommonModule],\n      declarations: [component]\n    })\n    class CfDynamicModule { }\n    return CfDynamicModule;\n  }\n}","import { BreakpointObserver, Breakpoints } from \"@angular/cdk/layout\";\nimport {\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from \"@angular/core\";\nimport { MatSidenav } from \"@angular/material/sidenav\";\nimport { Navigation, NavigationPannel } from \"../../model\";\n\n@Component({\n  selector: \"admin-navigation\",\n  templateUrl: \"./navigation.component.html\",\n  styleUrls: [\"./navigation.component.scss\"],\n})\nexport class NavigationComponent implements OnInit {\n  @ViewChild(\"sidenav\") sidenav: MatSidenav;\n  @Input() isExpanded = true;\n  @Input() navigationPanel: NavigationPannel;\n  @Input() navigation: Array<Navigation>;\n  @Output() logout = new EventEmitter<any>();\n  showSubmenu: Array<boolean> = [false];\n  isShowing = false;\n  showSubSubMenu: Array<any> = [[false, false], false];\n\n  constructor(\n    public breakpointObserver: BreakpointObserver,\n    private ref: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewChecked(): void {\n    //Called after every check of the component's view. Applies to components only.\n    //Add 'implements AfterViewChecked' to the class.\n    this.ref.detectChanges();\n  }\n\n  mouseenter() {\n    if (!this.isExpanded) {\n      this.isShowing = true;\n    }\n  }\n\n  mouseleave() {\n    if (!this.isExpanded) {\n      this.isShowing = false;\n    }\n  }\n\n  logoutEvent() {\n    this.logout.emit();\n  }\n\n  ngOnInit() {}\n\n  ngAfterViewInit(): void {\n    //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\n    //Add 'implements AfterViewInit' to the class.\n    this.navigation = this.navigationPanel.navigations;\n    this.isExpanded = (!this.navigationPanel.defaultCollapse);\n    this.breakpointObserver\n      .observe([Breakpoints.HandsetLandscape, Breakpoints.HandsetPortrait])\n      .subscribe((result) => {\n        if (result.matches) {\n          this.isExpanded = false;\n        }\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\n//import { BrowserModule } from '@angular/platform-browser';\n//import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n//import { NoopAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet'\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\n// import { MatNativeDateModule } from '@angular/material/core';\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n//import { MatFileUploadModule } from 'mat-file-upload';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatListModule } from '@angular/material/list';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n//import { FroalaEditorModule, FroalaViewModule } from 'angular-froala-wysiwyg';\n//import { EditorModule } from '@progress/kendo-angular-editor';\n\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AbilityModule } from '@casl/angular';\nimport { Ability, PureAbility } from '@casl/ability';\n\nimport { TooltipModule } from 'ng2-tooltip-directive';\n\n//import { ButtonModule } from './button/button.module';\nimport { ButtonComponent } from './button/component/button/button.component'; \nimport { ButtonGroupComponent } from './button/component/button-group/button-group.component';\nimport { CrudFormComponent } from './crud/component/crud-form/crud-form.component';\nimport { CrudListComponent, BottomSearchSheet } from './crud/component/crud-list/crud-list.component';\nimport { FileUploaderComponent } from './field/component/file-uploader/file-uploader.component';\nimport { FieldComponent } from './field/component';\nimport { StaticListComponent } from './list/component/static-list/static-list.component';\nimport { DynamicListComponent } from './list/component/dynamic-list/dynamic-list.component';\nimport { ModalComponent } from './modal/component/modal/modal.component';\nimport { ButtonDeleteConfirmationComponent } from './button/component/button-delete-confirmation/button-delete-confirmation.component';\nimport { AdminLayoutComponent } from './page/component/admin-layout/admin-layout.component';\nimport { ListComponent } from './list/component/list.component'; \nimport { CrudHeaderComponent } from './crud/component/crud-header/crud-header.component';\nimport { FormComponent, FormHeaderComponent } from './form/component';\nimport { CrudListComponentInterface } from './crud/interface/crud-list/crud-list-interface.component';\nimport { QuillModule } from 'ngx-quill';\nimport { ChipsComponent } from './field/component/chips/chips.component';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { ToolbarComponent } from './field/component/toolbar/toolbar.component';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport { MultiImageComponent } from './field/component/multi-image/multi-image.component';\nimport { ParagraphComponent } from './field/component/paragraph/paragraph.component';\nimport { HighlightPipe } from './field/pipes/highlightPipe';\n//import { DynamicModule } from 'ng-dynamic-component';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { MdePopoverModule } from '@material-extended/mde';\nimport { TooltipComponent } from './field/component/tooltip/tooltip.component';\nimport { NgInit } from './list/directives/ngInit.directive';\nimport { SafeHtmlPipe } from './list/pipes/safeHtml.pipe';\nimport { cfTemplateDirective } from './list/directives/compile.directive';\nimport { NavigationComponent } from './navigation/component/navigation/navigation.component';\n\n@NgModule({\n  declarations: [\n    ButtonComponent,\n    ButtonGroupComponent,\n    ButtonDeleteConfirmationComponent,\n    CrudHeaderComponent,\n    CrudFormComponent,\n    CrudListComponent,\n    CrudListComponentInterface,\n    BottomSearchSheet,\n    FileUploaderComponent,\n    FieldComponent,\n    // FieldHorizontalLayoutComponent,\n    // FieldVerticalLayoutComponent,\n    // FieldInlineLayoutComponent,\n    // FieldLayoutComponent,\n    FormHeaderComponent,\n    FormComponent,\n    AdminLayoutComponent, \n    ListComponent,\n    StaticListComponent,\n    DynamicListComponent,\n    ModalComponent,\n    ChipsComponent,\n    ToolbarComponent,\n    MultiImageComponent,\n    ParagraphComponent,\n    HighlightPipe,\n    TooltipComponent,\n    NgInit,\n    SafeHtmlPipe,\n    cfTemplateDirective,\n    NavigationComponent\n  ], \n  imports: [\n    // ButtonModule,\n    // CrudModule,\n    // FieldModule,\n    // ListModule,\n    // ModalModule,\n    // NavigationModule,\n    // PageModule,\n    // PrivilegeModule, \n    // SettingModule\n    CommonModule,\n//    BrowserModule,\n//    BrowserAnimationsModule,\n//    NoopAnimationsModule,\n    HttpClientModule,\n    RouterModule,\n//    DynamicModule,\n    MdePopoverModule,\n    ReactiveFormsModule,\n    TooltipModule,\n    LayoutModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatChipsModule,\n    MatIconModule,\n    MatBadgeModule,\n    MatDialogModule,\n    MatCardModule,\n    MatTabsModule,\n    MatExpansionModule,\n    MatSidenavModule,\n    MatBottomSheetModule,\n    MatDividerModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatDatepickerModule,\n    MatMomentDateModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatListModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatGridListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    DragDropModule,\n    // FroalaEditorModule.forRoot(), \n    // FroalaViewModule.forRoot(),\n    //    MatFileUploadModule,\n    // ReactiveFormsModule,\n\n    // EditorModule,\n    MatTooltipModule,\n    MatDividerModule,\n    MatSidenavModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatCardModule,\n    MatDividerModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCardModule,\n    MatDividerModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    QuillModule.forRoot(),\n    AbilityModule,\n    FlexLayoutModule,\n    MatToolbarModule,\n    InfiniteScrollModule\n  ],\n  exports: [\n    ButtonComponent,\n    ButtonGroupComponent,\n    CrudListComponentInterface,\n    CrudFormComponent,\n    CrudListComponent,\n    FileUploaderComponent,\n    FieldComponent,\n    // FieldHorizontalLayoutComponent,\n    // FieldVerticalLayoutComponent,\n    // FieldInlineLayoutComponent,\n    // FieldLayoutComponent,\n    FormComponent,\n    FormHeaderComponent,\n    StaticListComponent,\n    DynamicListComponent,\n    ModalComponent,\n//    DynamicModule,\n    MdePopoverModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatChipsModule,\n    MatIconModule,\n    MatBadgeModule,\n    MatDialogModule,\n    MatCardModule,\n    MatTabsModule,\n    MatExpansionModule,\n    MatSidenavModule,\n    MatBottomSheetModule,\n    MatDividerModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatDatepickerModule,\n    MatMomentDateModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatListModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatGridListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n\n    // FroalaEditorModule.forRoot(), \n    // FroalaViewModule.forRoot(),\n    //    MatFileUploadModule,\n    // ReactiveFormsModule,\n\n    // EditorModule,\n    MatTooltipModule,\n    MatDividerModule,\n    MatSidenavModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatCardModule,\n    MatDividerModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCardModule,\n    MatDividerModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    InfiniteScrollModule,\n    // AdminLayoutComponent\n    NgInit,\n    SafeHtmlPipe,\n    cfTemplateDirective,\n    NavigationComponent\n  ],\n  providers: [\n    { provide: Ability, useValue: new Ability() },\n    { provide: PureAbility, useExisting: Ability },\n  ]\n})\nexport class MaterialWidgetModule { }\n","// export const enum ActionType {\n//     DEPENDENT_FIELD_CHANGED = \"DEPENDENT_FIELD_CHANGED\",\n//     OTHER_FIELD_CHANGED = \"OTHER_FIELD_CHANGED\"\n// }\n\nexport interface ObjectTree {\n    parent: any,\n    hierarchyUp?: ObjectTree\n}\n\nexport interface Action {\n    sourceIdentifier: string,\n    sourceIndex: number,\n    widgetArrayIndex: number,\n    fieldIndex?: number,\n    action: string, //  ?????\n    actionData?: any,\n    data: any,\n    parentHierarchy?: ObjectTree,\n    originalData?: any,\n    event: any\n    // type?: ActionType\n} ","import { FormDiaplyMode } from '../../form/model';\nimport { ConfirmationPopup } from './button-confirmation.model';\nimport { Badge } from './badge.model';\nimport { ControlPermission } from '../../privilege/model';\nimport { DependentOnField } from '../../field/model';\n\nexport const enum ButtonColor {\n    DEFAULT = '',\n    PRIMARY = 'primary',\n    ASCENT = 'accent',\n    WARN = 'warn',\n}\n\nexport const enum ButtonType {\n    FLAT = \"FLAT\",\n    GHOST = \"GHOST\",\n    RAISED = \"RAISED\",\n    STROKED = \"STROKED\",\n    FAB = \"FAB\",\n\n    CHIP = \"CHIP\",\n    GROUP = \"GROUP\",\n    DROPDOWN = \"DROPDOWN\"\n}\n\nexport const enum ReservedButton {\n    CLEAR_FILTER_FIELD = \"clearFilterField\",\n    SEARCH = \"search\",\n    CANCEL = \"cancel\",\n    RESET = \"reset\",\n    BACK = \"back\",\n    ADD_FIELD = \"add_field\",\n    REMOVE_FIELD = \"remove_field\",\n    ROW_EXPAND = \"row_expand\",\n    ROW_COLLAPSE = \"row_collapse\",\n}\n\nexport const enum ButtonSize {\n    MICRO = \"micro\", \n    TINY = 'tiny',\n    SMALL = 'small',\n    DEFAULT = 'default'\n}\n\nexport const enum IconPosition {\n    LEFT = 'LEFT',\n    RIGHT = 'RIGHT',\n    TOP = 'TOP',\n    BOTTOM = 'BOTTOM',\n}\n\nexport interface BaseButton {\n    type: string,\n    identifier: string,\n    label: string,\n    color: ButtonColor,\n    size: ButtonSize,\n    icon?: string,\n    iconPosition?: IconPosition,\n    onlyIcon?: boolean,\n    badge?: Badge,\n    alwaysEnable?: boolean,\n    width?: string,\n    showOnMobile?: boolean;\n    showOnTablet?: boolean;\n    showOnDesktop?: boolean;\n\n    dependentOnFields?: Array<DependentOnField>, \n    displayInFormModes?: Array<FormDiaplyMode>,\n    confirmationConfiguration?: ConfirmationPopup,\n\n\n    \n    permission?: ControlPermission\n}\n\nexport interface Button extends BaseButton {\n    routerLink?: Array<string>;\n}\n\nexport interface ButtonGroup extends BaseButton {\n    groupIdentifier: string;\n    fullWidth?: boolean,\n}\n\nexport interface HoverButton extends BaseButton {\n    groupIdentifier: string;\n    groupLabel?: string,\n    groupIcon?: string,\n    badge?: Badge,\n    fullWidth?: boolean,\n}\n\n// export interface ButtonTooltip   {\n//     width: number,\n//     template?: {\n//         component?: any,\n//         layout?: ListCustomLayout,\n//     }\n// }\n","export * from './action-page.model';\nexport * from './crud.model';\n\n// import { ActionPage } from './action-page.model';\n// import { Crud } from './crud.model';\n\n// export {\n//   ActionPage,\n//   Crud \n// };\n","import { Modal } from '../model';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { TemplateRef } from '@angular/core';\nimport { ModalComponent } from '../component/modal/modal.component';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { FieldChange } from '../../field/model';\n\nexport class ModalUitls {\n  //    static dialogRef: MatDialogRef<any, any>;\n\n  static openDialog(modal: Modal, component?: ComponentType<any> | TemplateRef<any>): void {\n    let dialogRef: MatDialogRef<any, any>;\n    dialogRef = modal.dialog.open(component ? component : ModalComponent, {\n      width: modal.widgetConfig.modal && modal.widgetConfig.modal.width ? modal.widgetConfig.modal.width + 'px' : '250px',\n      data: {\n        type: modal.type,\n        widgetConfig: modal.widgetConfig,\n        sourceIndex: modal.sourceIndex,\n        context: modal.context,\n        originalData: modal.originalData,\n        keyMap: modal.keyMap,\n        reset: modal.reset\n      }\n    });\n\n    if (dialogRef.componentInstance.onButtonClick) {\n      dialogRef.componentInstance.onButtonClick.subscribe(event => {\n        console.log(event);\n\n        if (eval(\"this.buttonClick\")) {\n          eval(\"this.buttonClick(event)\");\n        }\n      })\n    }\n\n    if (dialogRef.componentInstance.onFieldChange) {\n      dialogRef.componentInstance.onFieldChange.subscribe((event: FieldChange) => {\n        console.log(event);\n\n        if (eval(\"this.fieldChange\")) {\n          eval(\"this.fieldChange(event)\");\n        }\n      }, this)\n    }\n\n    if (dialogRef.componentInstance.onFormChange) {\n      dialogRef.componentInstance.onFormChange.subscribe(event => {\n        console.log(event);\n\n        if (eval(\"this.formChange\")) {\n          eval(\"this.formChange(event)\");\n        }\n      })\n    }\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n      //          this.invokeAction(result, event);\n    });\n  }\n}","/*\n * Public API Surface of ngx-material-widget\n */\n\nexport * from './lib/ngx-material-widget.module';\n\n// export * from './lib/button/button.module';\nexport * from './lib/button/component/button/button.component';\nexport * from './lib/button/component/button-group/button-group.component';\nexport * from './lib/button/model';\n\n// export * from './lib/crud/crud.module';\nexport * from './lib/crud/component/crud-form/crud-form.component';\nexport * from './lib/crud/component/crud-list/crud-list.component';\nexport * from './lib/crud/interface/crud-list/crud-list-interface.component';\nexport * from './lib/crud/model';\n \n// export * from './lib/field/field.module';\nexport * from './lib/field/component/field/field.component';\n// export * from './lib/field/component/field-layout/field-horizontal-layout/field-horizontal-layout.component';\n// export * from './lib/field/component/field-layout/field-inline-layout/field-inline-layout.component';\n// export * from './lib/field/component/field-layout/field-vertical-layout/field-vertical-layout.component';\n// export * from './lib/field/component/field-layout/field-layout.component';\nexport * from './lib/field/model';\n\nexport * from './lib/form/component/form/form.component';\nexport * from './lib/form/component/form-header/form-header.component';\nexport * from './lib/form/model';\n\n//export * from './lib/layout/layout.module';\n// export * from './lib/list/list.module';\nexport * from './lib/list/component/dynamic-list/dynamic-list.component';\nexport * from './lib/list/component/static-list/static-list.component';\nexport * from './lib/list/model';\n\n// export * from './lib/modal/modal.module';\nexport * from './lib/modal/component/modal/modal.component';\nexport * from './lib/modal/utility';\nexport * from './lib/modal/model';\n\n// export * from './lib/navigation/navigation.module';\nexport * from './lib/navigation/model';\n\n// export * from './lib/page/page.module';\nexport * from './lib/page/component/admin-layout/admin-layout.component';\n\n// export * from './lib/privilege/privilege.module';\nexport * from './lib/privilege/model';\n\n// export * from './lib/setting/setting.module';\nexport * from './lib/setting/model';\n\nexport * from './lib/utility';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {ButtonDeleteConfirmationComponent as ɵa} from './lib/button/component/button-delete-confirmation/button-delete-confirmation.component';\nexport {CrudHeaderComponent as ɵb} from './lib/crud/component/crud-header/crud-header.component';\nexport {FieldComponent as ɵd} from './lib/field/component';\nexport {ChipsComponent as ɵh} from './lib/field/component/chips/chips.component';\nexport {FileUploaderComponent as ɵc} from './lib/field/component/file-uploader/file-uploader.component';\nexport {MultiImageComponent as ɵj} from './lib/field/component/multi-image/multi-image.component';\nexport {ParagraphComponent as ɵk} from './lib/field/component/paragraph/paragraph.component';\nexport {ToolbarComponent as ɵi} from './lib/field/component/toolbar/toolbar.component';\nexport {TooltipComponent as ɵm} from './lib/field/component/tooltip/tooltip.component';\nexport {HighlightPipe as ɵl} from './lib/field/pipes/highlightPipe';\nexport {FormComponent as ɵf,FormHeaderComponent as ɵe} from './lib/form/component';\nexport {ListComponent as ɵg} from './lib/list/component/list.component';\nexport {cfTemplateDirective as ɵp} from './lib/list/directives/compile.directive';\nexport {NgInit as ɵn} from './lib/list/directives/ngInit.directive';\nexport {SafeHtmlPipe as ɵo} from './lib/list/pipes/safeHtml.pipe';\nexport {NavigationComponent as ɵq} from './lib/navigation/component/navigation/navigation.component';"],"names":["CryptoJS.AES","CryptoJS.enc"],"mappings":"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"}