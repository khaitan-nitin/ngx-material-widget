{"version":3,"sources":["../../../projects/ngx-material-widget/src/lib/utility/badge.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/collection.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/button.utility.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-material-widget/src/lib/utility/dependent.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/object.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/string.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/form.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/master-data.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/field.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/form-custom.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/list.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/property.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/security.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/dropdown.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/crud.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/keymap.utility.ts","../../../projects/ngx-material-widget/src/lib/utility/ability.utility.ts","../../../projects/ngx-material-widget/src/lib/button/component/button-delete-confirmation/button-delete-confirmation.component.ts","../../../projects/ngx-material-widget/src/lib/button/component/button/button.component.ts","../../../projects/ngx-material-widget/src/lib/button/component/button-group/button-group.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-form/crud-form.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-list/crud-list.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/file-uploader/file-uploader.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field/html.editor.configuration.ts","../../../projects/ngx-material-widget/src/lib/field/component/field/field.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field-layout/field-layout.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field-layout/field-horizontal-layout/field-horizontal-layout.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field-layout/field-inline-layout/field-inline-layout.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/field-layout/field-vertical-layout/field-vertical-layout.component.ts","../../../projects/ngx-material-widget/src/lib/list/component/list.component.ts","../../../projects/ngx-material-widget/src/lib/list/component/static-list/static-list.component.ts","../../../projects/ngx-material-widget/src/lib/list/component/dynamic-list/dynamic-list.component.ts","../../../projects/ngx-material-widget/src/lib/modal/component/modal/modal.component.ts","../../../projects/ngx-material-widget/src/lib/page/component/admin-layout/admin-layout.component.ts","../../../projects/ngx-material-widget/src/lib/crud/component/crud-header/crud-header.component.ts","../../../projects/ngx-material-widget/src/lib/form/component/form-header/form-header.component.ts","../../../projects/ngx-material-widget/src/lib/form/component/form/form.component.ts","../../../projects/ngx-material-widget/src/lib/crud/interface/crud-list/crud-list-interface.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/chips/chips.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/toolbar/toolbar.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/multi-image/multi-image.component.ts","../../../projects/ngx-material-widget/src/lib/field/component/paragraph/paragraph.component.ts","../../../projects/ngx-material-widget/src/lib/field/pipes/highlightPipe.ts","../../../projects/ngx-material-widget/src/lib/field/component/tooltip/tooltip.component.ts","../../../projects/ngx-material-widget/src/lib/list/directives/ngInit.directive.ts","../../../projects/ngx-material-widget/src/lib/list/pipes/safeHtml.pipe.ts","../../../projects/ngx-material-widget/src/lib/list/directives/compile.directive.ts","../../../projects/ngx-material-widget/src/lib/navigation/component/navigation/navigation.component.ts","../../../projects/ngx-material-widget/src/lib/ngx-material-widget.module.ts","../../../projects/ngx-material-widget/src/lib/modal/utility/modal.util.ts"],"names":["CollectionUtils","isEmpty","value","undefined","length","ButtonUtils","instanceOfButton","object","instanceOfChipButton","instanceOfButtonGroup","instanceOfHoverButton","instanceOfAnyButtonType","isButton","this","hasWidth","buttons","hasButtonWidth","filter","button","width","setEqualWidth","buttonWidth_1","forEach","getAction","sourceIdentifier","sourceIndex","widgetArrayIndex","identifier","parentHierarchy","event","originalData","context","actionDialog","data","Object","assign","action","actionData","isDisable","displayMode","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","t","s","i","n","arguments","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__createBinding","o","m","k","k2","enumerable","get","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__spreadArray","to","from","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","DependentUtils","displayDependencyField","dependentOnFields","supportingRecord","record","displaySupportingDependencyField","dependentField","dependencyValue","eval","condition","hasMatch_1","dependentOnFields_1","dependentOnFields_1_1","hasMatch_2","dependentOnFields_2","dependentOnFields_2_1","getDependencyTree","formFields","dependency","formFields_1","formFields_1_1","formField","field","_c","e_4","_d","getDependencyTreeForButton","buttonLayout","_f","_g","_h","e_6","_j","cells","_k","_l","cell","_m","e_8","_o","_p","e_9","_q","ObjectUtils","obj","keys","text","replace","unflatten","_json","jsonToObj","reduce","acc","current","index","inlineKeys","split","firstProp","parsedKey","parseInt","isNextKeyNumber","isNaN","_nextData","_index","isValueInArray","currentValueObj","join","StringUtils","FormUtils","isFormDisable","disableField","form","disable","disableFieldControl","fieldControl","checkUniqueIdentifier","forms","getRawValue","formValue","initFormGroup","fieldControls","initFieldGroup","FormGroup","getFieldValidation","validations","_b","val","type","addMore","fieldValue","getValueViaEval","options","FormArray","vCnt","opts","getCheckboxOption","setFormGroup","option","dateRange","controls","FormControl","fieldContexts","values","getFormFieldValue","setFormControl","getParagraphFields","dateRangeValidation","mismatch","opt","checked","optionSelected","FieldUtils","isFieldDisabled","fieldValues","Map","fieldContextKey","formGroup","isReadOnly","formControl","enable","elements","isArray","cnt","getFieldValue","recordValue","JSON","stringify","reset","formConfig","setOptionsUsingKey","fieldKey","masterDataKey","setOptionsUsingValues","keyMap","relaodAll","isMatchingDependendKeyMap","optionDependsOn","optionDependsOnValue","changeButtonLabelIcon","buttonIdentifier","icon","MasterDataUtils","getMasterDataFromLocalStore","parse","localStorage","getItem","getMasterDataAsOptions","masterData","items","currentDisplayMode","isDisabled","isUnique","displayEllipsis","charLimit","showEllipsis","strValue","readOnlyField","isEllipsisField","hasEllipsis","ellipsis","FormCustomUtils","setCustomLayout","layout","_this","control","resolvedControl","getControl","console","log","cellControl","getButtonControl","getFieldControl","controlKey","ListUtils","addColoumn","hideColoumn","list","columns","column","fields","getColumnKey","getColumnLabel","getColumnSelectorField","listConfig","disabled","selected","show","appearance","fieldDisplayType","placeholder","multiselect","getMobileConfig","mobile","setCustomLayouts","hasRowHover","row","hover","template","hasCustomCellLayout","hasCustomRowLayout","hasHoverConfig","colIndex","cControlIndex","actions","getColumnControl","cControlIndex_1","PropertyUtils","getPropertyFromLocalStore","SecurityUtils","encrypt","CryptoJS.AES","toString","Error","decrypt","bytes","CryptoJS.enc","Utf8","DropdownUtils","getValue","CrudUtils","crud","tabs","tab","widgets","widget","widgetType","lists","search","setDisplayType","crudTabs","formDisplayMode","KeyMapUtils","keyMaps","associations","optionType","optionComponent","generateKeyMap","setOptionssUsingValues","optionsDD","association","valueAsKey","AbilityUtils","setAbility","ability","user","rules","update","ButtonDeleteConfirmationComponent","dialogRef","ngOnInit","title","confirmationConfig","message","displayOnlyIcon","displayIcon","click","close","Component","args","selector","MatDialogRef","Inject","MAT_DIALOG_DATA","Ability","ButtonComponent","dialog","router","route","onClick","EventEmitter","onIconClick","routerLink","displayButton","isButtonDisabled","isDisplayOnlyIcon","hasIconDisplay","isFlatButton","isGhostButton","isRaisedButton","isStrokedButton","isFabButton","isChip","isLink","isGroupButton","isMenuButton","buttonWithoutPadding","state","_button","document","documentElement","style","setProperty","iconPosition","setLabel","setButtonEnable","formSubscription","valueChanges","subscribe","setButtonDisplay","setOnlyIconDisplay","setIconDisplay","setLink","setGroupButton","setFlatButton","setGhostButton","setRaisedButton","setStrokedButton","setFabButton","setChip","setButtonWithoutPadding","setMenuButton","displayInFormModes","confirmationConfiguration","invokeAction","openDialog","open","buttonRoute","afterClosed","navigate","skipLocationChange","replaceUrl","addSearchParamsInUrl","emit","iconClick","filterData","queryParams","relativeTo","queryParamsHandling","valid","alwaysEnable","onlyIcon","groupIdentifier","ngOnDestroy","unsubscribe","MatDialog","Router","ActivatedRoute","Input","Output","ButtonGroupComponent","buttonLists","buttonListsType","displayDesktopDD","displayTabletDD","displayMobileDD","hoverButtonLists","_buttons","btns","getButtonList","getButtonType","hasMobileButton","changeButtonTypeToGhost","displayIn","hasButtonsForDropdown","buttonArray","buttonArrayIndex","getGroupButton","hoverButton","getHoverButtons","hoverButtons","isGroupAdded","groupAdded","buttonList","bgAdded","gButtons","map","gButton","fullWidth","buttonWidth","groupButtons","groupLabel","groupIcon","badge","buttonType","isButtonGroup","isChipGroup","isButtonHover","isButtonArray","encapsulation","ViewEncapsulation","None","CrudFormComponent","onFormChange","onFieldChange","onButtonClick","onSortClick","onPageClick","formsConfigToDisplay","rowsInTab","filterForms","drawTabs","setConfigAsPerTab","addWidget","addWidgetButton","tabIdentifier","configData","badges","pageBackRoute","configPerTabs","tabIndex_1","tabConfigData","tabKey","getTabIdentifier","tabTitle","tIndex","permission","can","drawTab","tabIndex","rows","rIndex","this_1","colCount_1","colSpan","e_2","displayWidget","formIdentifiers","actionPages","_e","actionPage","associatedFormIdentifiers","color","size","fieldChange","formChange","buttonClick","onTabChange","textLabel","onAccordianChange","onSort","onPage","CrudListComponent","_bottomSheet","_expanded","onButtonIconClick","onTabClick","showSearchForm","listHeaders","searchOnFieldsCount","searchOnFieldsButtons","_configData","searchButton","setSearchButton","searchModalButton","displaySearchForm","setListHeaders","setCrudHeader","searchConfig","displayType","displayInColumns","records","searchData","filterButton","setSelectedFilterButton","header","listType","sidenav","buttonIconClick","openBottomSheet","BottomSearchSheet","formReset","buttonSubscriber","instance","fieldSubscriber","formSubscriber","dialogRefSubscriber","afterDismissed","bottomUnsubscribe","MatBottomSheet","ViewChild","_bottomSheetRef","openLink","dismiss","preventDefault","MatBottomSheetRef","MAT_BOTTOM_SHEET_DATA","FileUploaderComponent","_http","param","fileList","multiple","fileType","fileIcon","hideDownloadButton","hideDeleteFileButton","hideUploadButton","hideFileIconButton","hideDeleteAllButton","hideActionStrip","isUploaded","isUploadingInProgress","isFileImageType","setFileTypeAndIcon","getImageFileType","onUploadClick","fileInput","nativeElement","onchange","files","file","name","onDeleteAllClick","isFunctionDefined","onDeleteFileClick","delFile","onShowAllItems","showLess","func","subFileType","x","toLowerCase","defaultUploadBtnText","uploadButtonText","setFieldDisabled","setHideDeleteAllButton","setHideActionStrip","HttpClient","static","quillConfiguration","formula","toolbar","font","align","indent","background","script","FieldErrorStateMatcher","isErrorState","invalid","dirty","touched","FieldComponent","onDependentFieldChange","ellipsisRequired","editorOptions","onListSelectionFuc","listOptions","minLengthForTrigger","highlightAutoCompleteText","onShowAllOptions","autoCompleteInputHasValue","onListImageLoadError","$event","src","defaultImageUrl","_displayMode","fieldDisabled","isEditorErrorState","matcher","isRequired","required","hasFieldNavigate","fieldNavigate","hasHintIcon","displayHintIcon","setMaxLength","setNumberMinMax","setAppearance","setOptionInDisplay","getImagePath","setRows","setHeight","setClear","setAsBubble","setTextAlign","setAddMoreDisplayInColumn","setMinLengthForTrigger","setDisplayTemplate","setCalendar","setShowLess","textClearButton","setTextClearButton","routeToButton","routeTo","helpModalButton","setHelpButton","plusButton","addRemoveButton","minusButton","displayTemplate","isAddMore","device","addMoreFieldDisplayInColumns","addMoreButtonDisplayInColumns","height","asBubble","bubbleColor","textAlign","maxLength","min","max","help","resolvedValue","txt","initialLength","finalLength","objs","hasAssociation","element","componentIdentifier","substr","displayFullText","resolvedValueStr","displayShortText","invokeOnChangeOnField","input","invokeOnChange","autocompleteDisplayFn","_filter","filterValue","includes","autoCompleteResultCount","hasClear","cleanValue","setValue","getResolveTextWithKey","getDropdownValue","isSelected","imagePath","onAutocompleteChange","autocomplate","onChangeEvent","onToggleChange","toggle","onSliderChange","slider","onRadioChange","radio","onCheckboxChange","checkbox","onOptionChange","listView","selectedOptions","source","_value","currentOptions","onHtmlEditorChange","html","onChipsListChange","onInputChange","onDateChange","date","onChange","dropdown","onFileChange","reader","FileReader","readAsDataURL","onload","_event","imgURL","onParagraphChange","setTimeout","dependencies","fieldIndex","errors","keyError","validation","addField","removeField","splice","onFileComplete","FieldLayoutComponent","initField","isValidDisplayType","fieldDiaplyType","FieldHorizontalLayoutComponent","_super","displayHorizonalForm","FieldInlineLayoutComponent","displayInlineForm","FieldVerticalLayoutComponent","displayVerticalForm","ListComponent","breakpointObserver","onPageChange","onSortChange","dataSource","MatTableDataSource","cellCount","displayVertical","formIndex","inlineEditButtons","hasDisplayActions","isInlineEditable","inlineButtonSize","childRows","displayModes","columnNames","columnConfigs","selection","SelectionModel","hideCard","hideHeader","hideFooter","pageSizeOptions","rowCount","limit","rowColors","cellColors","showCard","sortDirection","tooltipPosition","top","left","_listConfig","setColumnNames","setDetailColumnCount","setCardVisibility","_record","parent","init","_listReset","resetInlineEditButton","pagination","paginator","sort","getLayout","setPageSize","total","pageNo","populateAllChilds","showRowEditable","initCommonFormGroup","setColors","setIconPosition","setFilterBar","sticky","header1","querySelectorAll","getElementById","offsetTop","window","pageYOffset","classList","add","el","remove","onScrolled","staticList","hasOnPageFilter","hasColumnSelection","contentFilterColumnSpan","columnSelectionColumnSpan","pageSize","position","getFilterField","filterField","columnSelectorField","updateColumnDisplay","inlinEditButton","cIndex","e_3","setRowEditablity","inlineButtonTemp","getChildRows","child","recordIdentifier","childData","cFieldIndex","updateFilter","trim","firstPage","getCurrentRecord","e_5","uniqueKeys","commonFieldControls","commonListForm","getObjectTree","currentRow","values_1","objectTree","hierarchyUp","isAllSelected","masterToggle","clear","select","checkboxLabel","description","totalDispalyableWidth","selectable","selectableExist","unshift","selectableButton","hasDisplayableField","actionWidth","childColumnCount","bgColor","textColor","rowColor","rowBgColor","rowTextColor","cellColor","stopPropagation","breakpointSubscription","observe","Breakpoints","XSmall","Small","Medium","Large","XLarge","breakpoints","isMobile","isTablet","isDesktop","resetVerticalDisplay","rowClick","rowIndex","actionButton","rowAction","actionObj","getButton","onHover","hoverRowData","hoverRowIndex","animations","trigger","minHeight","transition","animate","BreakpointObserver","MatPaginator","MatSort","StaticListComponent","onscroll","isList","sorton","sortdir","expandedRow","pageInfo","DynamicListComponent","ModalComponent","AdminLayoutComponent","CrudHeaderComponent","badgeButtons","_pageBackRoute","addBackButton","transformBadgeButtons","content","badgeColorToButtonColor","buttonColor","backButton","backAlreadyAdded","FormHeaderComponent","getFormHeader","saperateFormActions","formHeaderConfig","subtitle","searchModeTitle","addModeTitle","editModeTitle","viewModeTitle","formActions","formAction","FormComponent","showButtons","formLayouts","_supportingRecord","_reset","getActions","getCustomLayout","showCustomLayout","formButton","formButtonLayout","dependentFieldChange","newRecord","fieldDefaultSetting","setTitle","resetDisplayInColumn","getFormValue","transformRows","sectionLabel","separator","sectionIcon","sectionExpandable","expandable","rLength","formFieldRowColumnCount","colCount","cCnt","toggleList","formLayout","allowed","resetButtonDisplay","getNewDisplayInColumn","displayInColumn","displayInColumnMap","mobileMap","tabletMap","CrudListComponentInterface","setCommonConfig","setListConfig","setBadges","setCommonConfigUsingCrud","listReset","setListConfigUsingCrud","quickLinks","setConfigListData","loadFilterParams","filterStr","configListData","configListDataNew","getRowKey","lIndex","getChildRowKey","getChildRecordIdentifier","beforeChangeMerge","isMatchingRow","keys_1","e_1","keys_1_1","addRow","afterChangeMerge","beforeChildChangeMerge","keys_2","keys_2_1","childRecordIdentifier","keys_4","isChildMatchingRow","keys_3","keys_3_1","addChildRow","keys_5","keys_5_1","setTabDisplayMode","afterChildChangeMerge","setHeaderTitle","setHeaderDescription","ChipsComponent","onListChange","separatorKeysCodes","ENTER","chips","addOnBlur","addItem","keyExists","removable","triggerChangedEvent","removeItem","item","drop","moveItemInArray","previousIndex","currentIndex","onSelected","setDescribedByIds","ids","onContainerClick","orientation","setChips","optionMatch_1","chip","ToolbarComponent","onMenuClick","menuItems","MultiImageComponent","onShowAllClick","count","images","radius","showCount","showAll","lastItemLabel","hideTooltip","ParagraphComponent","tokens","paragraphField","words","word","slice","buttonContexts","isButtonDisable","HighlightPipe","transform","pattern","regex","RegExp","match","Pipe","TooltipComponent","placement","NgInit","ngInit","Directive","SafeHtmlPipe","sanitizer","bypassSecurityTrustHtml","DomSanitizer","cfTemplateDirective","vcRef","compiler","ngOnChanges","cfTemplate","componentRef","updateProperties","component","createDynamicComponent","module","createDynamicModule","compileModuleAndAllComponentsAsync","moduleWithFactories","componentFactory","componentFactories","find","componentType","createComponent","catch","prop","cfTemplateContext","CustomDynamicComponent","CfDynamicModule","NgModule","imports","CommonModule","AdminBuilderModule","declarations","ViewContainerRef","Compiler","NavigationComponent","isExpanded","logout","showSubmenu","isShowing","showSubSubMenu","mouseenter","mouseleave","logoutEvent","navigation","navigationPanel","navigations","HttpClientModule","RouterModule","MdePopoverModule","ReactiveFormsModule","TooltipModule","LayoutModule","MatButtonModule","MatButtonToggleModule","MatMenuModule","MatChipsModule","MatIconModule","MatBadgeModule","MatDialogModule","MatCardModule","MatTabsModule","MatExpansionModule","MatSidenavModule","MatBottomSheetModule","MatDividerModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatAutocompleteModule","MatCheckboxModule","MatRadioModule","MatDatepickerModule","MatMomentDateModule","MatSliderModule","MatSlideToggleModule","MatListModule","MatTableModule","MatSortModule","MatPaginatorModule","MatGridListModule","MatProgressBarModule","MatProgressSpinnerModule","DragDropModule","MatTooltipModule","QuillModule","forRoot","AbilityModule","FlexLayoutModule","MatToolbarModule","InfiniteScrollModule","exports","providers","provide","useValue","Éµ0","PureAbility","useExisting","ModalUitls","modal","widgetConfig","componentInstance"],"mappings":"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","sourcesContent":["export class BadgeUitls {\n}","export class CollectionUtils {\n\n  static isEmpty(value) {\n    if (value == null || value == undefined || value == \"\" || value.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","import { Button, ButtonGroup, ButtonType, HoverButton, Action, ObjectTree } from '../button/model';\nimport { FormDiaplyMode } from '../form/model';\nimport { CollectionUtils } from './collection.utility';\n\nexport class ButtonUtils {\n    static instanceOfButton(object: any): object is Button {\n        return 'type' in object &&\n//            !('groupIdentifier' in object) &&\n            (object['type'] != ButtonType.CHIP && object['type'] != ButtonType.GROUP && object['type'] != ButtonType.DROPDOWN) &&\n            (object['type'] == ButtonType.FLAT || object['type'] == ButtonType.GHOST || object['type'] == ButtonType.RAISED || object['type'] == ButtonType.FAB || object['type'] == ButtonType.STROKED)\n    }\n\n    static instanceOfChipButton(object: any): object is ButtonGroup {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.CHIP;\n    }\n\n    static instanceOfButtonGroup(object: any): object is ButtonGroup {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.GROUP;\n    }\n\n    static instanceOfHoverButton(object: any): object is HoverButton {\n        return 'type' in object && 'groupIdentifier' in object && object['type'] == ButtonType.DROPDOWN;\n    }\n\n    static instanceOfAnyButtonType(object: any): boolean {\n        let isButton: boolean = false;\n        if (this.instanceOfButton(object) || this.instanceOfChipButton(object) || this.instanceOfButtonGroup(object) || this.instanceOfHoverButton(object)) {\n            isButton = true;\n        }\n\n        return isButton;\n    }\n\n    static hasWidth(buttons: Array<Button>): boolean {\n        let hasButtonWidth: boolean = false;\n\n        if (!CollectionUtils.isEmpty(buttons) && buttons.filter(button => button.width != null && button.width != \"\").length > 0) {\n            hasButtonWidth = true;\n        }\n\n        return hasButtonWidth;\n    }\n\n    static setEqualWidth(buttons: Array<Button>): void {\n        if (!CollectionUtils.isEmpty(buttons)) {\n            let buttonCount = buttons.length;\n            let buttonWidth = 100 / buttonCount;\n\n            buttons.forEach(button => {\n                button.width = \"\" + buttonWidth;\n            });\n        }\n    }\n\n    static getAction(sourceIdentifier: string, sourceIndex: number, widgetArrayIndex: number, identifier: string, parentHierarchy: ObjectTree, event: any, originalData: any, context: any, actionDialog: any): Action {\n        let data = null;\n        if (originalData) {\n            data = { ...originalData, ...context };\n        } else {\n            data = context;\n            originalData = context;\n        }\n        let action: Action = {\n            sourceIdentifier: sourceIdentifier,\n            sourceIndex: sourceIndex,\n            widgetArrayIndex: widgetArrayIndex,\n            action: identifier,\n            actionData: actionDialog,\n            data: data,\n            originalData: originalData,\n            parentHierarchy: parentHierarchy,\n            event: event\n        };\n\n        return action;\n    }\n    \n    static isDisable(displayMode: FormDiaplyMode): boolean {\n        if (displayMode == FormDiaplyMode.BLOCKED || displayMode == FormDiaplyMode.VIEW) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { DependentOnField } from \"../field/model\";\nimport { FormButton, FormButtonLayout, FormField } from \"../form/model\";\nimport { CollectionUtils } from \"./collection.utility\";\n\nexport class DependentUtils {\n  static displayDependencyField(dependentOnFields: Array<DependentOnField>, supportingRecord: any, record: any): boolean {\n    let displayDependencyField: boolean = true;\n    let displaySupportingDependencyField: boolean = true;\n\n    if (dependentOnFields && dependentOnFields.length > 0 && record) {\n      for (let dependentField of dependentOnFields) {\n        let dependencyValue: any = \"\";\n        try {\n          dependencyValue = eval(\"record.\" + dependentField.key);\n        } catch (e) {\n\n        }\n\n        if (dependencyValue != undefined) {\n          if (dependentField.condition instanceof Array) {\n            if (dependencyValue instanceof Array) {\n              let hasMatch: boolean = false;\n              (<Array<any>>dependencyValue).forEach(value => {\n                if ((<Array<string>>dependentField.condition).indexOf(value) > -1) {\n                  hasMatch = true;\n                }\n              });\n              if (hasMatch) {\n                displayDependencyField = false;\n              }\n            } else {\n              if ((<Array<string>>dependentField.condition).indexOf(dependencyValue) <= -1) {\n                displayDependencyField = false;\n              }\n            }\n          } else {\n            if (dependencyValue instanceof Array) {\n              if (dependencyValue.indexOf(dependentField.condition) <= -1) {\n                displayDependencyField = false;\n              }\n            } else {\n              if (dependencyValue != dependentField.condition) {\n                displayDependencyField = false;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (dependentOnFields && dependentOnFields.length > 0 && supportingRecord) {\n      for (let dependentField of dependentOnFields) {\n        let dependencyValue: any = \"\";\n        try {\n          dependencyValue = eval(\"supportingRecord.\" + dependentField.key);\n        } catch (e) {\n\n        }\n\n        if (dependencyValue != undefined) {\n          if (dependentField.condition instanceof Array) {\n            if (dependencyValue instanceof Array) {\n              let hasMatch = false;\n              (<Array<any>>dependencyValue).forEach(value => {\n                if ((<Array<string>>dependentField.condition).indexOf(value) > -1) {\n                  hasMatch = true;\n                }\n              });\n              if (!hasMatch) {\n                displaySupportingDependencyField = false;\n              }\n            } else {\n              if ((<Array<string>>dependentField.condition).indexOf(dependencyValue) <= -1) {\n                displaySupportingDependencyField = false;\n              }\n            }\n          } else {\n            if (dependencyValue instanceof Array) {\n              if (dependencyValue.indexOf(dependentField.condition) <= -1) {\n                displaySupportingDependencyField = false;\n              }\n            } else {\n              if (dependencyValue != dependentField.condition) {\n                displaySupportingDependencyField = false;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return displayDependencyField && displaySupportingDependencyField;\n  }\n\n  static getDependencyTree(formFields: Array<FormField>): any {\n    let dependency: any = {};\n\n    for (let formField of formFields) {\n      if (formField.field.dependentOnFields && formField.field.dependentOnFields.length > 0) {\n        for (let dependentField of formField.field.dependentOnFields) {\n          if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n            dependency[dependentField.key] = new Array<string>();\n          }\n          dependency[dependentField.key].push(formField.field.key);\n        }\n      }\n    }\n\n    return dependency;\n  }\n\n  static getDependencyTreeForButton(buttonLayout: FormButton | FormButtonLayout): any {\n    let dependency: any = {};\n\n    if (!CollectionUtils.isEmpty((<FormButton>buttonLayout).buttons)) {\n      for (let button of (<FormButton>buttonLayout).buttons) {\n        if (button.dependentOnFields && button.dependentOnFields.length > 0) {\n          for (let dependentField of button.dependentOnFields) {\n            if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n              dependency[dependentField.key] = new Array<string>();\n            }\n            dependency[dependentField.key].push(button.identifier);\n          }\n        }\n      }\n    }\n\n    if (!CollectionUtils.isEmpty((<FormButtonLayout>buttonLayout).cells)) {\n      for (let cell of (<FormButtonLayout>buttonLayout).cells) {\n        for (let button of (<FormButton>cell.buttons).buttons) {\n          if (button.dependentOnFields && button.dependentOnFields.length > 0) {\n            for (let dependentField of button.dependentOnFields) {\n              if (dependency[dependentField.key] == undefined || dependency[dependentField.key] == null) {\n                dependency[dependentField.key] = new Array<string>();\n              }\n              dependency[dependentField.key].push(button.identifier);\n            }\n          }\n        }\n      }\n    }\n\n    return dependency;\n  }\n}","export class ObjectUtils {\n    static isEmpty(obj: any) {\n        return obj == undefined || Object.keys(obj).length === 0;\n    }\n\n    static resolve(text: string, obj: any): string {\n        if (!this.isEmpty(obj)) {\n            for (var key in obj) {\n                text = text.replace('{' + key + '}', obj[key]);\n            }\n        }\n\n        return text;\n    }\n\n    static unflatten(_json: any) {\n        function jsonToObj(data: any, result) {\n            return Object.keys(data).reduce((acc, current, index) => {\n                const inlineKeys = current.split('.');\n                let firstProp = inlineKeys.shift();\n                const hasProps = inlineKeys.length >= 1;\n                if (hasProps) {\n                    const parsedKey = parseInt(inlineKeys[0], 10);\n                    const isNextKeyNumber = !isNaN(parsedKey);\n                    let _nextData = {};\n                    if (!acc[firstProp]) {\n                        acc[firstProp] = isNextKeyNumber ? [] : {};\n                    }\n                    if (isNextKeyNumber) {\n                        const _index = parseInt(inlineKeys.shift(), 10);\n                        const isValueInArray = acc[firstProp].length - 1 >= _index;\n                        const currentValueObj = acc[firstProp][_index];\n                        _nextData[inlineKeys.join('.')] = data[current];\n                        acc[firstProp][_index] = isValueInArray\n                            ? Object.assign(currentValueObj, jsonToObj(_nextData, currentValueObj))\n                            : jsonToObj(_nextData, {});\n                    } else {\n                        _nextData[inlineKeys.join('.')] = data[current];\n                        Object.assign(acc[firstProp], jsonToObj(_nextData, acc[firstProp]));\n                    }\n                } else {\n                    acc[firstProp] = data[current];\n                }\n                return acc;\n            }, result);\n        }\n        return jsonToObj(_json, {});\n    };\n}\n","export class StringUtils {\n  static isEmpty(value) {\n    if (value == null || value == undefined || value == \"\" || value.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","import { FormDiaplyMode, Form, FormField, FormButton } from '../form/model';\nimport { Field, FieldType, AutocompleteField, RadioField, CheckboxField, DropdownField, KeyMap, DependentOnField, CalendarField, ParagraphField } from '../field/model';\nimport { FormGroup, FormControl, ValidatorFn, FormArray } from '@angular/forms';\nimport { isArray } from 'util';\nimport { ObjectUtils } from './object.utility';\nimport { CollectionUtils } from './collection.utility';\nimport { StringUtils } from './string.utility';\nimport { FieldUtils } from './field.utility';\nimport { DependentUtils } from '.';\n\nexport class FormUtils {\n  static isFormDisable(displayMode: FormDiaplyMode): boolean {\n    if (displayMode == FormDiaplyMode.BLOCKED || displayMode == FormDiaplyMode.VIEW) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  static disableField(form: FormGroup, field: Field): void {\n    if (form && form.get(field.key)) {\n      form.get(field.key).disable();\n    }\n  }\n\n  static disableFieldControl(fieldControl: FormControl): void {\n    if (fieldControl) {\n      fieldControl.disable();\n    }\n  }\n\n  static checkUniqueIdentifier(forms: Array<Form>) {\n    //  TODO: \n  }\n\n  static getRawValue(form: FormGroup) {\n    let formValue: any = {};\n\n    if (form) {\n      formValue = form.getRawValue();\n    }\n\n    return formValue;\n  }\n\n  static initFormGroup(formFields: Array<FormField>, supportingRecord: any, record: any, displayMode: FormDiaplyMode): FormGroup {\n    let fieldControls = {};\n\n    let isFormDisabled = this.isFormDisable(displayMode);\n\n    for (let formField of formFields) {\n      // if (!CollectionUtils.isEmpty(record)) {\n      FormUtils.initFieldGroup(fieldControls, formField, supportingRecord, record, displayMode);\n      // }\n    }\n\n    return new FormGroup(fieldControls);\n  }\n\n  static getFieldValidation(field: Field): Array<ValidatorFn> {\n    let validations: Array<ValidatorFn> = new Array<ValidatorFn>();\n    if (field.validations && field.validations.length > 0) {\n      for (let val of field.validations) {\n        validations.push(val.type);\n      }\n    }\n\n    return validations;\n  }\n\n  static initFieldGroup(fieldControls: any, formField: FormField, supportingRecord: any, record: any, displayMode: FormDiaplyMode): any {\n    //        field.hide = false;\n    if (!DependentUtils.displayDependencyField(formField.field.dependentOnFields, supportingRecord, record)) {\n      if (record == null) {\n        record = {};\n      }\n      if (formField.addMore) {\n        record[formField.field.key] = [];\n      } else {\n        record[formField.field.key] = null;\n      }\n      //          field.hide = true;\n      return;\n    }\n\n    let validations: Array<ValidatorFn> = this.getFieldValidation(formField.field);\n\n    if (formField.field.type == FieldType.CHECKBOX) {\n      let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n      if (formField.addMore) {\n        let options: Array<any> = record && fieldValue ? fieldValue : new Array<any>();\n\n        fieldControls[formField.field.key] = new FormArray([]);\n        for (let vCnt = 0; vCnt < options.length; vCnt++) {\n          let opts = this.getCheckboxOption(displayMode, formField.field, options[vCnt]);\n          fieldControls[formField.field.key].push(this.setFormGroup(displayMode, formField.field, opts, validations));\n        }\n      } else {\n        let option = record && fieldValue ? fieldValue : null;\n\n        let opts = this.getCheckboxOption(displayMode, formField.field, option);\n        fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, opts, validations);\n      }\n    } else if (formField.field.type == FieldType.CALENDAR && (<CalendarField>formField.field).dateRange) {\n      let controls = {};\n      if (validations && validations.length > 0) {\n        controls['startDate'] = new FormControl('',validations);\n        controls['endDate'] = new FormControl('', validations);\n      } else {\n        controls['startDate'] = new FormControl('');\n        controls['endDate'] = new FormControl('');\n      }\n      fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, controls, validations);\n    } else if (formField.field.type == FieldType.PARAGRAPH && !CollectionUtils.isEmpty((<ParagraphField>formField.field).fieldContexts)) {\n      let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n      let controls = this.getParagraphFields(displayMode, formField.field, fieldValue);\n\n      fieldControls[formField.field.key] = this.setFormGroup(displayMode, formField.field, controls, validations);\n    } else {\n      if (formField.addMore) {\n        let values: Array<any> = this.getFormFieldValue(record, formField);\n\n        fieldControls[formField.field.key] = new FormArray([]);\n        if (CollectionUtils.isEmpty(values)) {\n          fieldControls[formField.field.key].push(this.setFormControl(displayMode, formField.field, \"\", validations));\n        } else {\n          for (let vCnt = 0; vCnt < values.length; vCnt++) {\n            fieldControls[formField.field.key].push(this.setFormControl(displayMode, formField.field, values[vCnt], validations));\n          }\n        }\n      } else {\n        let value: any = this.getFormFieldValue(record, formField)\n\n        fieldControls[formField.field.key] = this.setFormControl(displayMode, formField.field, value, validations);\n      }\n    }\n\n    return fieldControls;\n  }\n\n  static dateRangeValidation(g: FormGroup) : any{\n    return g.get('startDate').value || g.get('endDate').value\n    ? null : {'mismatch': true};\n  }\n  static getCheckboxOption(displayMode: FormDiaplyMode, field: Field, options: Array<string>): any {\n    let opts = {};\n\n    if (field['options'] && field['options'].length > 0) {\n      for (let opt of field['options']) {\n        if (ObjectUtils.isEmpty(options)) {\n          if (opt['selected'])  {\n            opt.checked = true;\n          } else  {\n            opt.checked = false;\n          }\n        } else {\n          let optionSelected: boolean = options.indexOf(opt.key) > -1;\n          if (options && optionSelected) {\n            opt.checked = true;\n          } else {\n            opt.checked = false;\n          }\n        }\n        opts[opt.key] = new FormControl(opt.checked);\n\n        if (FieldUtils.isFieldDisabled(field, displayMode, \"\")) {\n          opts[opt.key].disable();\n        }\n\n      }\n    }\n\n    return opts;\n  }\n\n  static getParagraphFields(displayMode: FormDiaplyMode, field: Field, fieldValues: Map<string, any>): any {\n    let fieldContexts = {};\n\n    if (CollectionUtils.isEmpty(fieldValues)) {\n      fieldValues = new Map<string, any>();\n    }\n\n    if ((<ParagraphField> field).fieldContexts && Object.keys((<ParagraphField> field).fieldContexts).length > 0) {\n      for (let key of Object.keys((<ParagraphField> field).fieldContexts)) {\n        let fieldContextKey = (<ParagraphField> field).fieldContexts[key];\n\n        let validations: Array<ValidatorFn> = this.getFieldValidation(fieldContextKey);\n        fieldContexts[fieldContextKey.key] = new FormControl(fieldValues[fieldContextKey.key], validations);\n\n        if (FieldUtils.isFieldDisabled(field, displayMode, \"\")) {\n          fieldContexts[fieldContextKey.key].disable();\n        }\n      }\n    }\n\n    return fieldContexts;\n  }\n\n  static setFormGroup(displayMode: FormDiaplyMode, field: Field, value: any, validations: Array<ValidatorFn>): FormGroup {\n    let formGroup: FormGroup;\n\n    if (field.validations && field.validations.length > 0) {\n      formGroup = new FormGroup(value, validations);\n    } else {\n      formGroup = new FormGroup(value);\n    }\n\n    if ((FieldUtils.isFieldDisabled(field, displayMode, value) || field.isReadOnly || field.type == FieldType.HIDDEN) && !StringUtils.isEmpty(value)) {\n      formGroup.disable();\n    }\n\n    return formGroup;\n  }\n\n  static setFormControl(displayMode: FormDiaplyMode, field: Field, value: any, validations: Array<ValidatorFn>): FormControl {\n    let formControl: FormControl;\n\n    if (field.validations && field.validations.length > 0) {\n      formControl = new FormControl(value, validations);\n    } else {\n      formControl = new FormControl(value);\n    }\n\n    if (FieldUtils.isFieldDisabled(field, displayMode, value)) {\n      formControl.disable();\n    } else {\n      formControl.enable();\n    }\n\n    return formControl;\n  }\n\n  static getFormFieldValue(record: any, formField: FormField): any {\n    let value: any;\n    let fieldValue = FormUtils.getValueViaEval(record, formField.field.key);\n\n    if (formField.addMore) {\n      let elements: Array<any> = new Array<any>();\n      if (!ObjectUtils.isEmpty(record) && !CollectionUtils.isEmpty(fieldValue) && isArray(fieldValue)) {\n        elements = fieldValue;\n      } else {\n        elements.push(\"\");\n      }\n\n      for (let cnt = 0; cnt < elements.length; cnt++) {\n        elements[cnt] = this.getFieldValue(elements[cnt], formField.field);\n      }\n      value = elements;\n    } else {\n      let recordValue = \"\";\n      if (record && fieldValue) {\n        recordValue = fieldValue;\n      }\n      value = this.getFieldValue(recordValue, formField.field);\n    }\n    return value\n  }\n\n  static getFieldValue(recordValue: any, field: Field): any {\n    let value: any = null;\n\n    if (field.value) {\n      value = field.value;\n    }\n    if (!StringUtils.isEmpty(recordValue)) {\n      value = recordValue;\n    }\n    if (value == undefined || JSON.stringify(value) === '{}') {\n      value = \"\";\n    }\n\n    return value;\n  }\n\n  static reset(form: FormGroup, formConfig?: Form): void {\n    form.reset();\n\n    if (formConfig != null) {\n      for (let field of formConfig.formFields) {\n        if ((<Field>field.field).type == FieldType.AUTOCOMPLETE) {\n          field['default'] = null;\n        }\n      }\n    }\n  }\n\n  static getValueViaEval(record: any, key: string): any {\n    let value = \"\";\n    try {\n      if (StringUtils.isEmpty(value)) {\n        value = record[key];\n      }\n      value = eval(\"record.\" + key);\n    } catch (e) { }\n\n    return value;\n  }\n\n  static setOptionsUsingKey(form: Form, fieldKey: string, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(form.formFields)) {\n      form.formFields.forEach(formField => {\n        if (!CollectionUtils.isEmpty(formField) && !CollectionUtils.isEmpty(formField.field)) {\n          if (formField.field.key == fieldKey && (formField.field.type == FieldType.AUTOCOMPLETE || formField.field.type == FieldType.CHECKBOX || formField.field.type == FieldType.RADIO || formField.field.type == FieldType.DROPDOWN)) {\n            FieldUtils.setOptionsUsingKey(<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field, masterDataKey);\n          }\n        }\n      })\n    }\n  }\n\n  static setOptionsUsingValues(form: Form, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(form.formFields)) {\n      form.formFields.forEach(formField => {\n        if (!CollectionUtils.isEmpty(formField) && !CollectionUtils.isEmpty(formField.field)) {\n          let isMatchingDependendKeyMap: boolean = false;\n          if (!StringUtils.isEmpty((<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field).optionDependsOn)) {\n            //  get optionDependsOn field value\n            let optionDependsOnValue = FormUtils.getValueViaEval(record, (<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field).optionDependsOn);\n\n            if (keyMap.optionDependsOnValue == optionDependsOnValue) {\n              isMatchingDependendKeyMap = true;\n            }\n          } else {\n            isMatchingDependendKeyMap = true;\n          }\n\n          if (formField.field.key == fieldKey && (formField.field.type == FieldType.AUTOCOMPLETE || formField.field.type == FieldType.CHECKBOX || formField.field.type == FieldType.RADIO || formField.field.type == FieldType.DROPDOWN)) {\n            if (isMatchingDependendKeyMap) {//} || relaodAll) {\n              FieldUtils.setOptionsUsingValues(<AutocompleteField | RadioField | CheckboxField | DropdownField>formField.field, keyMap);\n            }\n          }\n        }\n      })\n    }\n  }\n\n  static changeButtonLabelIcon(form: Form, buttonIdentifier: string, label?: string, icon?: string) {\n    if (!CollectionUtils.isEmpty(form) && !CollectionUtils.isEmpty(<FormButton>form.action) && !CollectionUtils.isEmpty((<FormButton>form.action).buttons)) {\n      (<FormButton>form.action).buttons.forEach(button => {\n\n        if (!CollectionUtils.isEmpty(button) && button.identifier == buttonIdentifier) {\n          if (!StringUtils.isEmpty(label)) {\n            button.label = label;\n          }\n          if (!StringUtils.isEmpty(icon)) {\n            button.icon = icon\n          }\n        }\n      })\n    }\n  }\n}","import { DropdownOption } from '../field/model';\nimport { MasterData } from '../setting/model';\n\nexport class MasterDataUtils {\n    static getMasterDataFromLocalStore(key: string): MasterData {\n        let masterDataMap: Map<string, MasterData> = JSON.parse(localStorage.getItem(\"masterData\"));\n \n        return masterDataMap[key];\n    } \n\n    static getMasterDataAsOptions(masterDataKey: string): Array<DropdownOption> {\n        let masterData = MasterDataUtils.getMasterDataFromLocalStore(masterDataKey);\n\n        let options: Array<DropdownOption> = new Array<DropdownOption>();\n  \n        masterData.items.forEach(record => {\n          options.push({ key: record.key, value: record.label });\n        });  \n\n        return options;\n    }\n}\n","import { FormUtils } from './form.utility';\nimport { Field, FieldType, TextField, AutocompleteField, CheckboxField, RadioField, DropdownField, DropdownOption, KeyMap, DisplayMode } from '../field/model';\nimport { FormDiaplyMode } from '../form/model';\nimport { StringUtils } from './string.utility';\nimport { MasterDataUtils } from './master-data.utility'; \nimport { CollectionUtils } from '.';\n\nexport class FieldUtils {\n  static isFieldDisabled(field: Field, currentDisplayMode: FormDiaplyMode, value: string | Array<string>): boolean {\n    let isDisabled: boolean = false;\n    if (FormUtils.isFormDisable(currentDisplayMode) || field.displayMode == DisplayMode.DISABLED || field.type == FieldType.HIDDEN || field.isReadOnly || (field.isUnique && currentDisplayMode == FormDiaplyMode.EDIT && !StringUtils.isEmpty(value))) {\n      isDisabled = true;\n    }\n\n    return isDisabled;\n  }\n\n  static displayEllipsis(charLimit: number, value: any): boolean {\n    let showEllipsis: boolean = false;\n\n    let strValue = JSON.stringify(value);\n    if (charLimit && charLimit > 0 && !StringUtils.isEmpty(strValue) && strValue.length > charLimit) {\n      showEllipsis = true;\n    }\n    return showEllipsis;\n  }\n\n  static readOnlyField(): Array<string> {\n    return [FieldType.IMAGE, FieldType.IMAGE_AND_TEXT, FieldType.JSON, FieldType.LABEL, FieldType.BOOLEAN];\n  }\n\n  static isEllipsisField(field: Field) {\n    let hasEllipsis: boolean;\n\n    if ((field.type == FieldType.LABEL || field.type == FieldType.TEXT || field.type == FieldType.TEXTAREA || field.type == FieldType.EMAIL || field.type == FieldType.PASSWORD) && (<TextField>field).ellipsis > 0) {\n      hasEllipsis = true;\n    }\n\n    return hasEllipsis;\n  }\n\n  static setOptionsUsingKey(field: AutocompleteField | CheckboxField | RadioField | DropdownField, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(field)) {\n      let options: Array<DropdownOption> = MasterDataUtils.getMasterDataAsOptions(masterDataKey);\n\n      field.options = options;\n    }\n  }\n\n  static setOptionsUsingValues(field: AutocompleteField | CheckboxField | RadioField | DropdownField, keyMap: KeyMap) {\n    if (!CollectionUtils.isEmpty(field)) {\n      field.options = keyMap.options; \n    }\n  }\n}","import { Form, FormButton, FormButtonLayout, FormCellControl, FormCellControlType, FormCustomLayout, FormField } from \"../form/model\";\nimport { CollectionUtils } from \"./collection.utility\";\nimport { StringUtils } from \"./string.utility\";\n\n\nexport class FormCustomUtils {\n    static setCustomLayout(formConfig: Form, layout: FormCustomLayout) { \n        if (layout && !CollectionUtils.isEmpty(layout.cells)) {\n            layout.cells.forEach(cell => {\n                if (!CollectionUtils.isEmpty(cell.controls)) {\n                    cell.controls.forEach(control => {\n                        if (CollectionUtils.isEmpty(control.control))   {\n                            let resolvedControl: any = {};\n                            resolvedControl = this.getControl(formConfig, control);\n\n                            control.control = resolvedControl;\n\n                            // if (control.type == CellControllType.BUTTON && control.control['type'] == ButtonType.CHIP) {\n                            //     control.control['groupIdentifier'] = control.control.identifier + cell.rows + cell.cols;\n                            // }\n                        }\n                    });\n                }\n            })\n        }\n        console.log(formConfig.layout)\n    }\n\n    static getControl(formConfig: Form, cellControl: FormCellControl): any {\n        let control: any = {};\n\n        if (cellControl.control) {\n            control = cellControl.control;\n        } else if (!CollectionUtils.isEmpty(formConfig) && !CollectionUtils.isEmpty(formConfig.formFields) && cellControl.type == FormCellControlType.FIELD) {\n            control = this.getFieldControl(formConfig.formFields, cellControl.key);\n        } else if (!CollectionUtils.isEmpty(formConfig) && !CollectionUtils.isEmpty(formConfig.action) && cellControl.type == FormCellControlType.BUTTON) {\n            control = this.getButtonControl(formConfig.action, cellControl.key);\n        }\n\n        return control;\n    }\n\n    static getFieldControl(formFields: Array<FormField>, controlKey: string): any {\n        let control: any = {};\n\n        formFields.forEach(formField => {\n            if (!CollectionUtils.isEmpty(formField.field) && formField.field.key == controlKey) {\n                control = formField;\n            }\n        })\n\n        return control;\n    }\n\n    static getButtonControl(action: FormButton | FormButtonLayout, controlKey: string): any {\n        let control: any;\n\n        if (StringUtils.isEmpty(action['rowHeight']))   {\n            (<FormButton>action).buttons.forEach(button => {\n                if (button.identifier == controlKey) {\n                    control = button;\n                }\n            });\n        }   else    {\n            (<FormButtonLayout>action).cells.forEach(cell => {\n                cell.buttons.buttons.forEach(button => {\n                    if (button.identifier == controlKey) {\n                        control = button;\n                    }\n                });\n            })\n        }\n\n        return control;\n    }\n}","import { CellControl, CellControllType, Column, List, ListCustomLayout } from '../list/model';\nimport { CollectionUtils, FormUtils } from '.';\nimport { FieldType, AutocompleteField, RadioField, CheckboxField, DropdownField, DropdownOption, KeyMap, FieldAppearance, FieldDiaplyType } from '../field/model';\nimport { FieldUtils } from './field.utility';\nimport { StringUtils } from './string.utility';\nimport { Button, ButtonType } from '../button/model';\n\nexport class ListUtils {\n    static addColoumn() {\n\n    }\n\n    static hideColoumn() {\n\n    }\n\n    static setOptionsUsingKey(list: List, fieldKey: string, masterDataKey: string) {\n        if (!CollectionUtils.isEmpty(list) && !CollectionUtils.isEmpty(list.columns)) {\n            list.columns.forEach(column => {\n                if (!CollectionUtils.isEmpty(column) && !CollectionUtils.isEmpty(column.fields)) {\n                    column.fields.forEach(field => {\n                        if (!CollectionUtils.isEmpty(field) && field.key == fieldKey && (field.type == FieldType.AUTOCOMPLETE || field.type == FieldType.CHECKBOX || field.type == FieldType.RADIO || field.type == FieldType.DROPDOWN)) {\n                            FieldUtils.setOptionsUsingKey(<AutocompleteField | RadioField | CheckboxField | DropdownField>field, masterDataKey);\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n    static setOptionsUsingValues(list: List, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n        if (!CollectionUtils.isEmpty(list) && !CollectionUtils.isEmpty(list.columns)) {\n            list.columns.forEach(column => {\n                if (!CollectionUtils.isEmpty(column) && !CollectionUtils.isEmpty(column.fields)) {\n                    column.fields.forEach(field => {\n                        let isMatchingDependendKeyMap: boolean = false;\n                        if (!StringUtils.isEmpty((<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn)) {\n                            //  get optionDependsOn field value\n                            let optionDependsOnValue = FormUtils.getValueViaEval(record, (<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn);\n\n                            if (keyMap.optionDependsOnValue == optionDependsOnValue) {\n                                isMatchingDependendKeyMap = true;\n                            }\n                        } else {\n                            isMatchingDependendKeyMap = true;\n                        }\n\n                        if (!CollectionUtils.isEmpty(field) && field.key == fieldKey && (field.type == FieldType.AUTOCOMPLETE || field.type == FieldType.CHECKBOX || field.type == FieldType.RADIO || field.type == FieldType.DROPDOWN)) {\n                            if (isMatchingDependendKeyMap) {//} || relaodAll)   {\n                                FieldUtils.setOptionsUsingValues(<AutocompleteField | RadioField | CheckboxField | DropdownField>field, keyMap);\n                            }\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n\n    static getColumnKey(column: Column): string {\n        let key;\n        if (column.key) {\n            key = column.key;\n        } else {\n            if (column.fields && column.fields.length > 0) {\n                key = column.fields[0].key;\n            }\n        }\n\n        return key;\n    }\n\n\n    static getColumnLabel(column: Column): string {\n        let label;\n        if (column.label) {\n            label = column.label;\n        } else {\n            if (column.fields && column.fields.length > 0) {\n                label = column.fields[0].label;\n            }\n        }\n\n        return label;\n    }\n\n    static getColumnSelectorField(listConfig: List): DropdownField {\n        let options: Array<DropdownOption> = new Array<DropdownOption>();\n\n        let values: Array<string> = new Array<string>();\n        for (let column of listConfig.columns) {\n            let key: string = this.getColumnKey(column);\n            let label: string = this.getColumnLabel(column);\n\n            options.push({\n                key: key,\n                value: label,\n                disabled: false,\n                selected: column.show\n            });\n\n            if (column.show) {\n                values.push(key)\n            }\n        }\n\n        let columnSelectorField: DropdownField = {\n            key: \"columnSelector\",\n            label: \"Display Column\",\n            type: FieldType.DROPDOWN,\n            appearance: FieldAppearance.STANDARD,\n            isReadOnly: false,\n            fieldDisplayType: FieldDiaplyType.INLINE,\n            placeholder: \"Columns to display\",\n            options: options,\n            multiselect: true,\n            value: values\n        };\n\n        return columnSelectorField;\n    }\n\n    static getMobileConfig(listConfig: List) {\n        if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.mobile) && !CollectionUtils.isEmpty(listConfig.mobile.cells)) {\n            this.setCustomLayout(listConfig, listConfig.mobile);\n        }\n    }\n\n    static setCustomLayouts(listConfig: List) {\n        if (this.hasRowHover(listConfig)) {\n            this.setCustomLayout(listConfig, listConfig.row.hover.template.layout);\n        }\n        if (this.hasCustomCellLayout(listConfig)) {\n            listConfig.columns.forEach(column => {\n                if (column.template && column.template.layout)  {\n                    this.setCustomLayout(listConfig, column.template.layout);\n                }\n            })\n        }\n        if (this.hasCustomRowLayout(listConfig)) {\n            this.setCustomLayout(listConfig, listConfig.row.template.layout);\n        }\n    }\n\n    static hasRowHover(listConfig: List): boolean {\n        let hasHoverConfig: boolean = false;\n        \n        if (listConfig && listConfig.row && listConfig.row.hover && listConfig.row.hover.template && listConfig.row.hover.template.layout)  {\n            hasHoverConfig = true;\n        }\n\n        return hasHoverConfig;\n    }\n\n    static hasCustomRowLayout(listConfig: List): boolean {\n        let hasCustomRowLayout: boolean = false;\n        \n        if (listConfig && listConfig.row && listConfig.row.template && listConfig.row.template.layout)  {\n            hasCustomRowLayout = true;\n        }\n        \n        return hasCustomRowLayout;\n    }\n\n    static hasCustomCellLayout(listConfig: List): boolean {\n        let hasCustomCellLayout: boolean = false;\n        \n        if (listConfig && !CollectionUtils.isEmpty(listConfig.columns))  {\n            listConfig.columns.forEach(column => {\n                if (column.template && column.template.layout)  {\n                    hasCustomCellLayout = true;\n                }\n            })\n        }\n        \n        return hasCustomCellLayout;\n    }\n\n    static setCustomLayout(listConfig: List, layout: ListCustomLayout) {\n        if (layout && !CollectionUtils.isEmpty(layout.cells)) {\n            layout.cells.forEach(cell => {\n                if (!CollectionUtils.isEmpty(cell.controls)) {\n                    cell.controls.forEach(control => {\n                        if (CollectionUtils.isEmpty(control.control))   {\n                            let resolvedControl: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n                            resolvedControl = this.getControl(listConfig, control);\n\n                            control.control = resolvedControl.control;\n                            control.colIndex = resolvedControl.colIndex;\n                            control.cControlIndex = resolvedControl.cControlIndex;\n\n                            // if (control.type == CellControllType.BUTTON && control.control['type'] == ButtonType.CHIP) {\n                            //     control.control['groupIdentifier'] = control.control.identifier + cell.rows + cell.cols;\n                            // }\n                        }\n                    });\n                }\n            })\n        }\n    }\n\n    static getControl(listConfig: List, cellControl: CellControl): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        if (cellControl.control) {\n            control = { control: cellControl.control, colIndex: 0, cControlIndex: 0 };\n        } else if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.columns) && cellControl.type == CellControllType.FIELD) {\n            control = this.getColumnControl(listConfig.columns, cellControl.key);\n        } else if (!CollectionUtils.isEmpty(listConfig) && !CollectionUtils.isEmpty(listConfig.actions) && cellControl.type == CellControllType.BUTTON) {\n            control.control = this.getButtonControl(listConfig.actions, cellControl.key);\n            control.colIndex = listConfig.columns.length;\n        }\n\n        return control;\n    }\n\n    static getColumnControl(columns: Array<Column>, controlKey: string): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        let colIndex = 0;\n        columns.forEach(column => {\n            if (!CollectionUtils.isEmpty(column.fields) && CollectionUtils.isEmpty(control.control)) {\n                let cControlIndex = 0;\n                column.fields.forEach(field => {\n                    if (CollectionUtils.isEmpty(control.control)) {\n                        control = ListUtils.getFieldControl(field, controlKey, colIndex, cControlIndex);\n                        cControlIndex++;\n                    }\n                })\n            }\n            colIndex++;\n        })\n\n        return control;\n    }\n\n    static getFieldControl(field: any, controlKey: string, colIndex: number, cControlIndex: number): { control?: any, colIndex?: number, cControlIndex?: number } {\n        let control: { control?: any, colIndex?: number, cControlIndex?: number } = {};\n\n        if (field.key == controlKey) {\n            control.control = field;\n            control.colIndex = colIndex;\n            control.cControlIndex = cControlIndex;\n            console.log(\"1111111\");\n            console.log(control);\n        }\n\n        return control;\n    }\n\n    static getButtonControl(buttons: Array<Button>, controlKey: string): any {\n        let control: any;\n\n        buttons.forEach(button => {\n            if (button.identifier == controlKey) {\n                control = button;\n            }\n        })\n\n        return control;\n    }\n}","import { Property } from '../setting/model';\n\nexport class PropertyUtils {\n    static getPropertyFromLocalStore(key: string): Property {\n        let propertiesMap: Map<string, Property> = JSON.parse(localStorage.getItem(\"properties\"));\n\n        return propertiesMap[key];\n    }\n}\n","import * as CryptoJS from 'crypto-js';\n\nexport class SecurityUtils {\n  static encrypt(data: any) {\n    try {\n      return CryptoJS.AES.encrypt(JSON.stringify(data), 'key').toString();\n    } catch (e) {\n      Error(e);\n    }\n  }\n\n  static decrypt(data: any) {\n    try {\n      const bytes = CryptoJS.AES.decrypt(data, 'key');\n      if (bytes.toString()) {\n        return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n      }\n      return data;\n    } catch (e) {\n      Error(e);\n    }\n  }\n}","import { DropdownOption } from '../field/model';\nimport { CollectionUtils } from '.';\n\nexport class DropdownUtils {\n  static getValue(key: string, options: Array<DropdownOption>): any  {\n    let value: any;\n\n    if (!CollectionUtils.isEmpty(options))  {\n      options.forEach(option => {\n        if (option.key == key)  {\n          value = option.value;\n        }\n      })\n    }\n\n    return value;\n  }\n}\n","import { Form, FormDiaplyMode } from '../form/model';\nimport { CollectionUtils } from './collection.utility';\nimport { Crud, CrudWidgetType, CrudTab } from '../crud/model';\nimport { FormUtils } from './form.utility';\nimport { ListUtils } from './list.utility';\nimport { List } from '../list/model';\nimport { DropdownOption, KeyMap } from '../field/model';\n\nexport class CrudUtils {\n  static setOptionsUsingKey(crud: Crud, fieldKey: string, masterDataKey: string) {\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.form) && !CollectionUtils.isEmpty(crud.form.tabs)) {\n      crud.form.tabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.setOptionsUsingKey(<Form>widget.widget, fieldKey, masterDataKey);\n            }\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.LIST) {\n              ListUtils.setOptionsUsingKey(<List>widget.widget, fieldKey, masterDataKey);\n            }\n          })\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.list) && !CollectionUtils.isEmpty(crud.list.lists)) {\n      crud.list.lists.forEach(list => {\n        if (!CollectionUtils.isEmpty(list)) {\n          ListUtils.setOptionsUsingKey(list, fieldKey, masterDataKey);\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.search) && !CollectionUtils.isEmpty(crud.search.form))  {\n      FormUtils.setOptionsUsingKey(crud.search.form, fieldKey, masterDataKey);\n    }\n  }\n\n  static setOptionsUsingValues(crud: Crud, fieldKey: string, keyMap: KeyMap, relaodAll: boolean, record: any) {\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.form) && !CollectionUtils.isEmpty(crud.form.tabs)) {\n      crud.form.tabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.setOptionsUsingValues(<Form>widget.widget, fieldKey, keyMap, relaodAll, record);\n            }\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.LIST) {\n              ListUtils.setOptionsUsingValues(<List>widget.widget, fieldKey, keyMap, relaodAll, record);\n            }\n          })\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.list) && !CollectionUtils.isEmpty(crud.list.lists)) {\n      crud.list.lists.forEach(list => {\n        if (!CollectionUtils.isEmpty(list)) {\n          ListUtils.setOptionsUsingValues(list, fieldKey, keyMap, relaodAll, record);\n        }\n      })\n    }\n\n    if (!CollectionUtils.isEmpty(crud) && !CollectionUtils.isEmpty(crud.search) && !CollectionUtils.isEmpty(crud.search.form))  {\n      FormUtils.setOptionsUsingValues(crud.search.form, fieldKey, keyMap, relaodAll, record);\n    }\n  }\n\n  static setDisplayType(crudTabs: Array<CrudTab>, formDisplayMode: FormDiaplyMode) {\n    if (!CollectionUtils.isEmpty(crudTabs)) {\n      crudTabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              (<Form>widget.widget).displayMode = formDisplayMode;\n            }\n          })\n        }\n      })\n    }\n  }\n\n  static changeButtonLabelIcon(crudTabs: Array<CrudTab>, buttonIdentifier: string, label?: string, icon?: string)  {\n    if (!CollectionUtils.isEmpty(crudTabs)) {\n      crudTabs.forEach(tab => {\n        if (!CollectionUtils.isEmpty(tab) && !CollectionUtils.isEmpty(tab.widgets)) {\n          tab.widgets.forEach(widget => {\n            if (!CollectionUtils.isEmpty(widget) && widget.widgetType == CrudWidgetType.FORM) {\n              FormUtils.changeButtonLabelIcon((<Form>widget.widget), buttonIdentifier, label, icon);\n            }\n          })\n        }\n      })\n    }\n  }\n}","import { KeyMap, KeyMapAssociation, DropdownOption, KeyMapOptionType } from '../field/model';\nimport { CollectionUtils, FormUtils, ListUtils } from '.';\nimport { CrudUtils } from './crud.utility';\nimport { Crud } from '../crud/model';\nimport { Form } from '../form/model';\nimport { List } from '../list/model';\nimport { MasterDataUtils } from './master-data.utility';\n\nexport class KeyMapUtils {\n  static push(keyMaps: Array<KeyMap>, associations: Array<KeyMapAssociation>, options: Array<DropdownOption> | string, optionType: KeyMapOptionType, optionComponent: Crud | Form | List, optionDependsOnValue?: string, record?: any): Array<KeyMap> {\n    // if (CollectionUtils.isEmpty(keyMaps)) {\n    //   keyMaps = new Array<KeyMap>();\n    // }\n\n    let optionsDD: Array<DropdownOption>;\n    if (!(options instanceof Array)) {\n      optionsDD = MasterDataUtils.getMasterDataAsOptions(<string>options);\n    } else {\n      optionsDD = options;\n    }\n\n    if (!CollectionUtils.isEmpty(associations)) {\n      keyMaps.push(KeyMapUtils.generateKeyMap(associations, options, optionDependsOnValue));\n\n      KeyMapUtils.setOptionssUsingValues(keyMaps, true, optionType, optionComponent, record);\n    }\n\n    return keyMaps;\n  }\n\n  static generateKeyMap(associations: Array<KeyMapAssociation>, options: Array<DropdownOption> | string, optionDependsOnValue?: string): KeyMap {\n    // if (CollectionUtils.isEmpty(keyMaps)) {\n    //   keyMaps = new Array<KeyMap>();\n    // }\n\n    let optionsDD: Array<DropdownOption>;\n    if (!(options instanceof Array)) {\n      optionsDD = MasterDataUtils.getMasterDataAsOptions(<string>options);\n    } else {\n      optionsDD = options;\n    }\n\n    let keyMap: KeyMap;\n    if (!CollectionUtils.isEmpty(associations)) {\n      keyMap = { associations: associations, options: optionsDD, optionDependsOnValue: optionDependsOnValue };\n    }\n\n    return keyMap;\n  }\n\n  static setOptionssUsingValues(keyMaps: Array<KeyMap>, relaodAll: boolean, optionType: KeyMapOptionType, optionComponent: Crud | Form | List, record?: any): void {\n    if (!CollectionUtils.isEmpty(keyMaps)) {\n      keyMaps.forEach(keyMap => {\n        if (!CollectionUtils.isEmpty(keyMap.associations)) {\n          keyMap.associations.forEach(association => {\n            if (optionType != null && KeyMapOptionType.CRUD == optionType) {\n              CrudUtils.setOptionsUsingValues(<Crud>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n            if (KeyMapOptionType.FORM == optionType) {\n              FormUtils.setOptionsUsingValues(<Form>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n            if (KeyMapOptionType.LIST == optionType) {\n              ListUtils.setOptionsUsingValues(<List>optionComponent, association.fieldKey, keyMap, relaodAll, record);\n            }\n          });\n        }\n      })\n    }\n  }\n\n  static getValue(keyMaps: Array<KeyMap>, fieldKey: string, valueAsKey: any): any {\n    let value: any = \"\";\n\n    if (!CollectionUtils.isEmpty(keyMaps)) {\n      keyMaps.forEach(keyMap => {\n        if (!CollectionUtils.isEmpty(keyMap.associations)) {\n          keyMap.associations.forEach(association => {\n            if (association.fieldKey == fieldKey && !CollectionUtils.isEmpty(keyMap.options)) {\n              keyMap.options.forEach(option => {\n                if (option.key == valueAsKey) {\n                  value = option.value;\n                }\n              });\n            }\n          })\n        }\n      });\n    }\n\n    return value;\n  }\n}\n","import { Ability, RawRule } from '@casl/ability';\n\nexport class AbilityUtils {\n    static setAbility(ability: Ability): void {\n        let user: any = JSON.parse(localStorage.getItem(\"user\"));\n\n        if (user && user['permissions']) {\n            let rules: Array<RawRule> = <Array<RawRule>>user['permissions'];\n            ability.update(<any>rules);\n        }\n    }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ObjectUtils, StringUtils } from '../../../utility';\nimport { ConfirmationPopupButton, ConfirmationPopup, ObjectTree } from '../../model';\nimport { FormGroup } from '@angular/forms';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport interface DialogData {\n  form: FormGroup,\n  sourceIdentifier: string,\n  sourceIndex: number,\n  widgetArrayIndex: number,\n  context: any,\n  originalData: any, \n  buttonRoute: Array<string>,\n  parentHierarchy: ObjectTree,\n  confirmationConfig: ConfirmationPopup;\n}\n\n@Component({\n  selector: 'cf-button-delete-confirmation',\n  templateUrl: './button-delete-confirmation.component.html',\n  styleUrls: ['./button-delete-confirmation.component.scss']\n})\nexport class ButtonDeleteConfirmationComponent implements OnInit {\n\n  constructor(public dialogRef: MatDialogRef<ButtonDeleteConfirmationComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData,\n    private ability: Ability) { \n      AbilityUtils.setAbility(this.ability);\n    } \n\n  title: string;\n  message: string;\n\n  ngOnInit(): void {\n    this.title = this.resolve(this.data.confirmationConfig.title);\n    this.message = this.resolve(this.data.confirmationConfig.message);\n  }\n\n  displayOnlyIcon(button: ConfirmationPopupButton): boolean {\n    return button && !StringUtils.isEmpty(button.icon) && StringUtils.isEmpty(button.label) ? true : false;\n  }\n\n  displayIcon(button: ConfirmationPopupButton): boolean {\n    return button && !StringUtils.isEmpty(button.icon) ? true : false;\n  }\n\n  resolve(text: string): string {\n    return ObjectUtils.resolve(text, this.data.originalData);\n  }\n\n  click(event: any) {\n    this.dialogRef.close(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { Button, ObjectTree, ReservedButton, Action, ButtonType, HoverButton, ButtonGroup, ButtonColor, ButtonSize, IconPosition } from '../../model';\nimport { FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ButtonDeleteConfirmationComponent } from '../button-delete-confirmation/button-delete-confirmation.component';\nimport { Subscription } from 'rxjs';\nimport { Params, Router, ActivatedRoute } from '@angular/router';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { StringUtils, CollectionUtils, FormUtils, SecurityUtils, ButtonUtils, DependentUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent implements OnInit, OnDestroy {\n  @Input() form: FormGroup;\n  @Input() formDisplayMode: FormDiaplyMode;\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() identifier: string;\n  @Input() context: any;\n  @Input() originalData: any;\n  @Input() label: string;\n  @Input() buttonRoute: Array<string>;\n  @Input() parentHierarchy: ObjectTree;\n  @Input() disabled: boolean;\n  @Output() onClick = new EventEmitter();\n  @Output() onIconClick = new EventEmitter();\n\n  @Input() _button: Button | ButtonGroup | HoverButton;\n  get button(): Button | ButtonGroup | HoverButton {\n    return this._button;\n  }\n  @Input()\n  set button(_button: Button | ButtonGroup | HoverButton) {\n    this._button = _button;\n    if (StringUtils.isEmpty(this.label) || !StringUtils.isEmpty(this._button.label)) {\n      this.label = this._button.label;\n    }\n    if (StringUtils.isEmpty(this._button.width)) {\n      this._button.width = '';\n    } else {\n      this._button.width = this._button.width + '%';\n      document.documentElement.style.setProperty('--width', this._button.width + '%');\n    }\n    if (StringUtils.isEmpty(this._button.iconPosition)) {\n      this._button.iconPosition = IconPosition.LEFT;\n    }\n  }\n\n  routerLink = [];\n\n  displayButton: boolean = true;\n  isButtonDisabled: boolean = false;\n  isDisplayOnlyIcon: boolean = false;\n  hasIconDisplay: boolean = false;\n  isFlatButton: boolean = false;\n  isGhostButton: boolean = false;\n  isRaisedButton: boolean = false;\n  isStrokedButton: boolean = false;\n  isFabButton: boolean = false;\n  isChip: boolean = false;\n  isLink: boolean = false;\n  isGroupButton: boolean = false;\n  isMenuButton: boolean = false;\n  buttonWithoutPadding: boolean = false;\n\n\n  formSubscription: Subscription;\n\n  constructor(\n    public dialog: MatDialog,\n    private router: Router,\n    private route: ActivatedRoute,\n    private ability: Ability\n  ) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    if (this.displayButton) {\n      this.setLabel();\n\n      this.setButtonEnable();\n      if (this.form) {\n        this.formSubscription = this.form.valueChanges.subscribe(obj => {\n          this.setButtonEnable();\n        });\n      }\n\n      this.setButtonDisplay();\n      this.setOnlyIconDisplay();\n      this.setIconDisplay();\n      this.setLink();\n      this.setGroupButton();\n      this.setFlatButton();\n      this.setGhostButton();\n      this.setRaisedButton();\n      this.setStrokedButton();\n      this.setFabButton();\n      this.setChip();\n      this.setButtonWithoutPadding();\n      this.setMenuButton();\n    }\n  }\n\n  setButtonDisplay() {\n    if ((!CollectionUtils.isEmpty(this._button.displayInFormModes) && this._button.displayInFormModes.indexOf(this.formDisplayMode) <= -1) || !DependentUtils.displayDependencyField(this._button.dependentOnFields, null, this.context ? this.context : this.originalData)) {\n      this.displayButton = false;\n    }\n  }\n\n  setButtonWithoutPadding() {\n    if (this._button.identifier == \"fieldTextClearBtn\" || this._button.identifier == \"fieldRouteToBtn\" || this._button.identifier == \"listFieldAsLink\" || this.identifier == \"listFieldAsLink\") {\n      this.buttonWithoutPadding = true;\n    }\n  }\n  setLabel(): void {\n    if (StringUtils.isEmpty(this.label)) {\n      this.label = this._button.label;\n    }\n  }\n\n  state: boolean = true;\n  click(event: any) {\n    if (!CollectionUtils.isEmpty(this._button.confirmationConfiguration)) {\n      this.openDialog(event);\n    } else {\n      this.invokeAction(null, event);\n    }\n  }\n\n  openDialog(event: any): void {\n    const dialogRef = this.dialog.open(ButtonDeleteConfirmationComponent, {\n      width: this._button.confirmationConfiguration.width ? this._button.confirmationConfiguration.width : '250px',\n      data: {\n        form: this.form,\n        sourceIdentifier: this.sourceIdentifier,\n        sourceIndex: this.sourceIndex,\n        widgetArrayIndex: this.widgetArrayIndex,\n        context: this.context,\n        originalData: this.originalData,\n        buttonRoute: this.buttonRoute,\n        parentHierarchy: this.parentHierarchy,\n        confirmationConfig: this._button.confirmationConfiguration,\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n      this.invokeAction(result, event);\n    });\n  }\n\n  invokeAction(actionDialog: any, event: any): void {\n    if (this._button.identifier == \"crudBackButton\" && this.buttonRoute && this.buttonRoute.length > 0) {\n      this.router.navigate(this.buttonRoute, { skipLocationChange: false, replaceUrl: true });\n      return;\n    }\n\n    if (this._button.identifier == ReservedButton.RESET) {\n      FormUtils.reset(this.form);\n      this.context = {};\n    }\n\n    let action: Action = ButtonUtils.getAction(\n                            this.sourceIdentifier, \n                            this.sourceIndex, \n                            this.widgetArrayIndex, \n                            this._button.identifier, \n                            this.parentHierarchy, \n                            event, \n                            this.originalData, \n                            this.context, \n                            actionDialog);\n\n    if (this._button.identifier == ReservedButton.SEARCH || this._button.identifier == ReservedButton.RESET) {\n      this.addSearchParamsInUrl(action.data);\n    } else {\n      this.onClick.emit(action);\n    }\n  }\n\n  iconClick(event: any): void {\n    let action: Action = ButtonUtils.getAction(\n                            this.sourceIdentifier, \n                            this.sourceIndex, \n                            this.widgetArrayIndex, \n                            this._button.identifier, \n                            this.parentHierarchy, \n                            event, \n                            this.originalData, \n                            this.context, \n                            null);\n\n    if (this._button['groupIdentifier'] == ReservedButton.CLEAR_FILTER_FIELD) {\n      delete action.data[action.action];\n      this.addSearchParamsInUrl(action.data);\n    } else  {\n      this.onIconClick.emit(action);\n    }\n  }\n  \n  public addSearchParamsInUrl(filterData: any) {\n    const queryParams: Params = { filter: SecurityUtils.encrypt(filterData) };\n\n    this.router.navigate(\n      [],\n      {\n        relativeTo: this.route,\n        queryParams: queryParams,\n        queryParamsHandling: 'merge', // remove to replace all query params by provided\n        skipLocationChange: false,\n        replaceUrl: true\n      });\n  }\n\n  setButtonEnable(): void {\n    let isButtonDisabled: boolean = false;\n\n    if (this.form) {\n      isButtonDisabled = !this.form.valid;\n    }\n    if (this.form && this.form.disabled) {\n      isButtonDisabled = false;\n    }\n    if (this._button.identifier == ReservedButton.SEARCH || this._button.identifier == ReservedButton.CANCEL || this._button.identifier == ReservedButton.RESET || this._button.identifier == ReservedButton.ADD_FIELD || this._button.identifier == ReservedButton.REMOVE_FIELD || this._button.alwaysEnable == true) {\n      isButtonDisabled = false;\n    }\n    if (this.disabled) {\n      isButtonDisabled = this.disabled;\n    }\n    this.isButtonDisabled = isButtonDisabled;\n  }\n\n  setOnlyIconDisplay(): void {\n    this.isDisplayOnlyIcon = this._button && this._button.onlyIcon && !StringUtils.isEmpty(this._button.icon) ? true : false;\n  }\n\n  setIconDisplay(): void {\n    this.hasIconDisplay = this._button && this._button.icon ? true : false;\n  }\n\n  setFlatButton(): void {\n    this.isFlatButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.FLAT && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setGhostButton(): void {\n    this.isGhostButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.GHOST && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setRaisedButton(): void {\n    this.isRaisedButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.RAISED && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setStrokedButton(): void {\n    this.isStrokedButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.STROKED && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setFabButton(): void {\n    this.isFabButton = this._button && ButtonUtils.instanceOfButton(this._button) ? (<Button>this._button).type == ButtonType.FAB && !this.isGroupButton && !this.isLink : false;\n  }\n\n  setChip(): void {\n    this.isChip = this._button && ButtonUtils.instanceOfChipButton(this._button) && !StringUtils.isEmpty((<ButtonGroup>this._button).groupIdentifier) ? true : false;\n  }\n\n  setLink(): void {\n    this.isLink = this._button && !StringUtils.isEmpty(this.label) ? !CollectionUtils.isEmpty((<Button>this._button).routerLink) : false;\n    this.routerLink = (<Button>this._button).routerLink;\n  }\n\n  setGroupButton(): void {\n    this.isGroupButton = this._button && ButtonUtils.instanceOfButtonGroup(this._button) && !StringUtils.isEmpty((<ButtonGroup>this._button).groupIdentifier) ? true : false;\n  }\n\n  setMenuButton(): void {\n    this.isMenuButton = this._button && ButtonUtils.instanceOfHoverButton(this._button) ? true : false;\n  }\n\n  ngOnDestroy() {\n    if (this.formSubscription) {\n      this.formSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Button, ObjectTree, ButtonGroup, HoverButton, Badge, ButtonType } from '../../model';\nimport { ButtonGroupList, HoverButtonList } from '../../model/button-group.model';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { ObjectUtils, ButtonUtils, StringUtils, CollectionUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-button-group',\n  templateUrl: './button-group.component.html',\n  styleUrls: ['./button-group.component.scss', '../button/button.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ButtonGroupComponent implements OnInit {\n  @Input() form: FormGroup;\n  @Input() formDisplayMode: FormDiaplyMode;\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() _buttons: Array<Button | ButtonGroup | HoverButton>;\n\n  get buttons(): Array<Button | ButtonGroup | HoverButton> {\n    return this._buttons;\n  }\n  @Input()\n  set buttons(_buttons: Array<Button | ButtonGroup | HoverButton>) {\n    if (!(_buttons instanceof Array)) {\n      let btns = new Array<Button | ButtonGroup | HoverButton>();\n      btns.push(_buttons);\n      _buttons = btns;\n    }\n    this._buttons = _buttons;\n\n    this.getButtonList();\n    this.getButtonType();\n\n    this.displayDesktopDD = this.hasMobileButton('showOnDesktop');\n    this.displayTabletDD = this.hasMobileButton('showOnTablet');\n    this.displayMobileDD = this.hasMobileButton('showOnMobile');\n\n    if (this.displayDesktopDD || this.displayMobileDD || this.displayTabletDD)  {\n      this.changeButtonTypeToGhost();\n    }\n  }\n\n  @Input() context: any;\n  @Input() originalData: any;\n  @Input() buttonRoute: Array<string>;\n  @Input() parentHierarchy: ObjectTree;\n  @Input() disabled: boolean;\n  @Output() onClick = new EventEmitter();\n  @Output() onIconClick = new EventEmitter();\n\n  buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList> = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n  buttonListsType: Array<string> = new Array<string>();\n\n  displayDesktopDD: boolean = false;\n  displayTabletDD: boolean = false;\n  displayMobileDD: boolean = false;\n  hoverButtonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList> = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n\n  constructor(private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit(): void {\n    // this.getButtonList();\n    // this.getButtonType();\n  }\n\n  hasMobileButton(displayIn: string): boolean {\n    let hasButtonsForDropdown: boolean = false;\n\n    if (!CollectionUtils.isEmpty(this.buttonLists)) {\n      this.buttonLists.forEach(buttons => {\n        if (!CollectionUtils.isEmpty(buttons) && buttons instanceof Array) {\n          (<Array<Button>>buttons).forEach(button => {\n            if (button['showOnDesktop'] == null && button['showOnTablet'] == null && button['showOnMobile'] == null)  {\n              button['showOnDesktop'] = true;\n              button['showOnTablet'] = true;\n              button['showOnMobile'] = true; \n            }\n\n            if (button[displayIn]) {\n              hasButtonsForDropdown = true;\n            }\n          })\n        }\n      });\n    }\n\n    return hasButtonsForDropdown;\n  }\n \n  changeButtonTypeToGhost() {\n    this.hoverButtonLists = JSON.parse(JSON.stringify(this.buttonLists));\n\n    if (!CollectionUtils.isEmpty(this.hoverButtonLists)) {\n      this.hoverButtonLists.forEach(buttons => {\n        if (!CollectionUtils.isEmpty(buttons) && buttons instanceof Array) {\n          (<Array<Button>>buttons).forEach(button => {\n            button.type = ButtonType.GHOST;\n          })\n        }\n      });\n    }\n  }\n\n  getButtonList() {\n    this.buttonLists = new Array<Array<Button> | ButtonGroupList | HoverButtonList>();\n    let buttonArray: Array<Array<Button>> = new Array<Array<Button>>();\n    let buttonArrayIndex: number = 0;\n\n    if (this._buttons) {\n      for (let index = 0; index < this._buttons.length; index++) {\n        if (ButtonUtils.instanceOfButton(this._buttons[index])) {\n          if (ObjectUtils.isEmpty(buttonArray[buttonArrayIndex])) {\n            buttonArray[buttonArrayIndex] = new Array<Button>();\n\n            this.buttonLists.push(buttonArray[buttonArrayIndex]);\n          }\n\n          buttonArray[buttonArrayIndex].push(<Button>this._buttons[index]);\n        }\n        if (ButtonUtils.instanceOfButtonGroup(this._buttons[index]) || ButtonUtils.instanceOfChipButton(this._buttons[index])) {\n          let bgAdded = this.getGroupButton((<ButtonGroup>this._buttons[index]).groupIdentifier, this.buttonLists)\n\n          if (bgAdded) {\n            buttonArrayIndex++;\n          }\n        }\n      }\n\n      let hoverButton: HoverButtonList = this.getHoverButtons();\n      if (hoverButton && hoverButton.hoverButtons && hoverButton.hoverButtons.length > 0) {\n        this.buttonLists.push(hoverButton);\n        buttonArrayIndex++;\n      }\n    }\n  }\n\n  isGroupAdded(groupIdentifier: string, buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList>): boolean {\n    let groupAdded: boolean = false;\n\n    if (buttonLists) {\n      groupAdded = buttonLists.filter(buttonList => buttonList && (<ButtonGroupList>buttonList).groupIdentifier == groupIdentifier).length > 0;\n    }\n\n    return groupAdded;\n  }\n\n  getGroupButton(groupIdentifier: string, buttonLists: Array<Array<Button> | ButtonGroupList | HoverButtonList>): boolean {\n    let bgAdded: boolean = false;\n    let gButtons: Array<ButtonGroup> = new Array<ButtonGroup>();\n\n    if (this._buttons && this.isGroupAdded(groupIdentifier, buttonLists) == false) {\n      gButtons = this._buttons.filter(button => (<ButtonGroup>button).groupIdentifier == groupIdentifier).map(button => {\n        button.width = '100';\n        return <ButtonGroup>button;\n      });\n\n      // To check if any button is fullwidth\n      let width = gButtons.filter(gButton => gButton.fullWidth == true).length > 0 ? '100' : 'auto';\n      let buttonWidth: any = 'auto';\n      if (width != 'auto') {\n        buttonWidth = (+width / gButtons.length);\n      }\n\n      buttonLists.push({\n        groupIdentifier: groupIdentifier,\n        width: width,\n        buttonWidth: buttonWidth,\n        groupButtons: gButtons\n      });\n      bgAdded = true;\n    }\n\n    return bgAdded;\n  }\n\n  getHoverButtons(): HoverButtonList {\n    let hoverButtons: Array<HoverButton> = new Array<HoverButton>();\n    let groupIdentifier: string;\n    let groupLabel: string;\n    let groupIcon: string;\n    let badge: Badge;\n    let width: string = 'auto';\n\n    if (this._buttons) {\n      this._buttons.filter(button => ButtonUtils.instanceOfHoverButton(button)).forEach(button => {\n        if (StringUtils.isEmpty(groupIdentifier)) {\n          groupIdentifier = (<HoverButton>button).groupIdentifier;\n        }\n        if (StringUtils.isEmpty(groupLabel)) {\n          groupLabel = (<HoverButton>button).groupLabel;\n        }\n        if (StringUtils.isEmpty(groupIcon)) {\n          groupIcon = (<HoverButton>button).groupIcon;\n        }\n        if (CollectionUtils.isEmpty(badge)) {\n          badge = (<HoverButton>button).badge;\n        }\n        if ((<HoverButton>button).fullWidth) {\n          width = '100';\n          button.width = '100';\n        }\n\n        hoverButtons.push(<HoverButton>button);\n      });\n    }\n\n    return { groupIdentifier: groupIdentifier, groupLabel: groupLabel, groupIcon: groupIcon, badge: badge, width: width, hoverButtons: hoverButtons };\n  }\n\n  getButtonType(): void {\n    this.buttonListsType = new Array<string>();\n\n    if (this.buttonLists && this.buttonLists.length > 0) {\n      for (let buttonList of this.buttonLists) {\n        let buttonType: string = \"\";\n        if (this.isButtonGroup(buttonList)) {\n          buttonType = 'ButtonGroup';\n        } else if (this.isChipGroup(buttonList)) {\n          buttonType = 'ChipGroup';\n        } else if (this.isButtonHover(buttonList)) {\n          buttonType = 'ButtonHover';\n        } else if (this.isButtonArray(buttonList)) {\n          buttonType = 'ButtonArray';\n        }\n\n        this.buttonListsType.push(buttonType);\n      }\n    }\n  }\n\n  isButtonGroup(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    let isButtonGroup: boolean = false;\n\n    if (buttonList && (<ButtonGroupList>buttonList).groupButtons && (<ButtonGroupList>buttonList).groupButtons.length > 0 && !StringUtils.isEmpty((<ButtonGroupList>buttonList).groupIdentifier)) {\n      isButtonGroup = (<ButtonGroupList>buttonList).groupButtons.filter(button => ButtonUtils.instanceOfButtonGroup(button)).length > 0;\n    }\n\n    return isButtonGroup;\n  }\n\n  isChipGroup(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    let isChipGroup: boolean = false;\n\n    if (buttonList && (<ButtonGroupList>buttonList).groupButtons && (<ButtonGroupList>buttonList).groupButtons.length > 0 && !StringUtils.isEmpty((<ButtonGroupList>buttonList).groupIdentifier)) {\n      isChipGroup = (<ButtonGroupList>buttonList).groupButtons.filter(button => ButtonUtils.instanceOfChipButton(button)).length > 0;\n\n      if (isChipGroup) {\n        (<ButtonGroupList>buttonList).groupButtons.forEach(button => ButtonUtils.instanceOfChipButton(button));\n      }\n    }\n\n    return isChipGroup;\n  }\n\n  isButtonHover(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    return buttonList && (<HoverButtonList>buttonList).hoverButtons && (<HoverButtonList>buttonList).hoverButtons.length > 0\n  }\n\n  isButtonArray(buttonList: Array<Button> | ButtonGroupList | HoverButtonList): boolean {\n    return buttonList instanceof Array;\n  }\n\n  click(event: any) {\n    this.onClick.emit(event);\n  }\n\n  iconClick(event: any) {\n    this.onIconClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { CrudHeader, ActionPage, CrudTab, CrudWidget, CrudWidgetType, CrudFormData, CrudFormTabData, CrudForm, CrudStyle } from '../../model';\nimport { Badge, ButtonGroup, HoverButton, Button, ButtonColor, ButtonType, ButtonSize, Action } from '../../../button/model';\nimport { CollectionUtils, DependentUtils, FormUtils } from '../../../utility';\nimport { Form } from '../../../form/model';\nimport { Wizard } from '../../../wizard/model';\nimport { List } from '../../../list/model';\nimport { FieldChange, KeyMap } from '../../../field/model';\nimport { Ability } from '@casl/ability';\nimport { AbilityUtils } from '../../../utility/ability.utility';\n\n@Component({\n  selector: 'cf-crud-form',\n  templateUrl: './crud-form.component.html',\n  styleUrls: ['./crud-form.component.scss'] \n})\nexport class CrudFormComponent implements OnInit {\n  @Input() identifier: string;\n  @Input() header: CrudHeader;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() actionPages: Array<ActionPage>;\n\n  @Input() form: CrudForm;\n\n  @Input() reset: boolean;\n  @Input() configData: CrudFormData;\n  @Input() keyMap: Array<KeyMap>;\n\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onSortClick = new EventEmitter();\n  @Output() onPageClick = new EventEmitter();\n\n  backButton: Button;\n  formsConfigToDisplay: Array<Form | List | Wizard> = new Array<Form | List | Wizard>();\n  rowsInTab: Array<Array<Array<CrudWidget>>> = new Array<Array<Array<CrudWidget>>>();\n\n  badges: Array<Badge>;\n  pageBackRoute: Array<string>;\n  record: any;\n\n  addWidget: Button;\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.filterForms();\n\n    this.drawTabs();\n\n    this.setConfigAsPerTab();\n\n    this.addWidget = this.addWidgetButton(\"addWidget\", \"Add\", \"add\", ButtonColor.PRIMARY);\n  }\n\n  setConfigAsPerTab(tabIdentifier?: string): void {\n    if (this.configData) {\n      this.badges = this.configData.badges;\n      this.pageBackRoute = this.configData.pageBackRoute;\n      this.record = this.configData.record;\n\n      if (this.configData.configPerTabs) {\n        let tabIndex = 0;\n        this.configData.configPerTabs.forEach((tabConfigData: CrudFormTabData, tabKey: string) => {\n          if ((tabKey == tabIdentifier || (tabIndex == 0 && tabIdentifier == null)) && tabConfigData) {\n            if (tabConfigData.badges) {\n              this.badges = tabConfigData.badges;\n            }\n            if (tabConfigData.pageBackRoute) {\n              this.pageBackRoute = tabConfigData.pageBackRoute;\n            }\n            if (tabConfigData.record) {\n              this.record = this.configData.record; \n            }\n          }\n          tabIndex++;\n        })\n      }\n    }\n  }\n\n  getTabIdentifier(tabTitle: string): string {\n    let tabIdentifier = '';\n    if (this.form && this.form.tabs) {\n      for (let tab of this.form.tabs) {\n        if (tab.label == tabTitle) {\n          tabIdentifier = tab.identifier;\n          break;\n        }\n      }\n    }\n\n    return tabIdentifier;\n  }\n\n  drawTabs(): void { \n    if (this.form && this.form.tabs && this.form.tabs.length > 0) {\n      for (let tIndex = 0; tIndex < this.form.tabs.length; tIndex++) {\n        if (this.form.tabs[tIndex] && (this.form.tabs[tIndex].permission == null || (this.form.tabs[tIndex].permission && (this.ability.can(this.form.tabs[tIndex].permission['action'], this.form.tabs[tIndex].permission['subject']))))) {\n          this.rowsInTab.push(this.drawTab(tIndex));\n        }\n      }\n    }\n  }\n \n  drawTab(tabIndex: number): Array<Array<CrudWidget>> {\n    let rows: Array<Array<CrudWidget>> = new Array<Array<CrudWidget>>();\n    let rIndex = 0;\n\n    if (this.form && this.form.tabs && this.form.tabs.length > 0) {\n      for (let tIndex = 0; tIndex < this.form.tabs.length; tIndex++) {\n        if (this.form.tabs[tIndex].widgets && this.form.tabs[tIndex].widgets.length > 0 && tIndex == tabIndex) {\n          for (let widget of this.form.tabs[tIndex].widgets) {\n            if (\n              widget && \n              (\n                widget.permission == null || \n                (widget.permission && (this.ability.can(widget.permission['action'], widget.permission['subject']))\n              )\n            )) {\n              if (CollectionUtils.isEmpty(rows[rIndex])) {\n                rows[rIndex] = new Array<CrudWidget>();\n              }\n\n              let colCount = 0;\n              rows[rIndex].forEach(row => colCount += row.colSpan);\n\n              if (colCount < 2) {\n                rows[rIndex].push(widget);\n              } else {\n                rIndex++;\n                rows[rIndex] = new Array<CrudWidget>();\n                rows[rIndex].push(widget);\n              }\n            }\n          }\n        }\n      }\n    }\n \n    console.log(rows);\n    return rows;\n  }\n\n  displayWidget(widget: CrudWidget, supportingRecord: any, record: any): boolean {\n    return DependentUtils.displayDependencyField(widget.dependentOnFields, supportingRecord, record);\n  }\n\n  filterForms() {\n    let formIdentifiers: Array<string>;\n    if (this.actionPages && this.actions) {\n      for (let actionPage of this.actionPages) {\n        for (let action of this.actions) {\n          if (actionPage.buttonIdentifier == action.identifier) {\n            formIdentifiers = actionPage.associatedFormIdentifiers;\n          }\n        }\n      }\n\n      if (this.form && this.form.tabs && formIdentifiers) {\n        for (let tab of this.form.tabs) {\n          for (let widget of tab.widgets) {\n            if (formIdentifiers.indexOf((<Form>widget.widget).identifier) > -1) {\n              widget.widget['display'] = true;\n            }\n          }\n        }\n      } else {\n        this.form.tabs.forEach(tab => tab.widgets.forEach(widget => widget.widget['display'] = true));\n      }\n    } else {\n      this.form.tabs.forEach(tab => tab.widgets.forEach(widget => widget.widget['display'] = true));\n    }\n  }\n\n  addWidgetButton(identifier: string, label: string, icon: string, color: ButtonColor): Button {\n    let buttonConfig: Button = {\n      identifier: identifier,\n      type: ButtonType.GHOST,\n      label: label,\n      color: color,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      onlyIcon: false,\n      alwaysEnable: true\n    }\n\n    return buttonConfig;\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(action: Action) {\n    console.log(action);\n    if (action.action == \"addWidget\")  {\n      if (this.record[action.sourceIdentifier] && this.record[action.sourceIdentifier] instanceof Array) {\n        (<Array<any>>this.record[action.sourceIdentifier]).push({});\n      } else {\n        this.record[action.sourceIdentifier] = new Array<any>();\n        this.record[action.sourceIdentifier].push({});\n      }\n    }\n    this.onButtonClick.emit(action);\n  }\n\n  onTabChange(event: any) {\n    console.log(event);\n\n    this.setConfigAsPerTab(this.getTabIdentifier(event.tab.textLabel));\n  }\n\n  onAccordianChange(event) {\n    console.log(event);\n  }\n\n  onSort(event: any) {\n    console.log(event);\n    this.onSortClick.emit(event);\n  }\n\n  onPage(event: any) {\n    console.log(event);\n    this.onPageClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, Inject, OnDestroy } from '@angular/core';\nimport { Record, ListType, ListHeader } from '../../../list/model';\nimport { Button, HoverButton, ButtonGroup, ButtonColor, ButtonType, ButtonSize, Badge, IconPosition, Action, ReservedButton } from '../../../button/model';\nimport { KeyMap, FieldChange } from '../../../field/model';\nimport { Subscription } from 'rxjs';\nimport { Ability, RawRule } from '@casl/ability';\nimport { CrudHeader, CrudList, CrudSearch, SearchDisplayType, ActionPage, CrudListData, CrudListTabData, CrudListDisplayType, CrudStyle } from '../../model';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { MatBottomSheetRef, MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { MAT_BOTTOM_SHEET_DATA } from '@angular/material/bottom-sheet';\nimport { AbilityUtils, StringUtils, CollectionUtils } from '../../../utility';\n\n@Component({\n  selector: 'cf-crud-list',\n  templateUrl: './crud-list.component.html',\n  styleUrls: ['./crud-list.component.scss']\n})\nexport class CrudListComponent implements OnInit, OnDestroy {\n  @Input() identifier: string;\n  @Input() header: CrudHeader;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() actionPages: Array<ActionPage>;\n\n  @Input() quickLinks: Array<Button | HoverButton | ButtonGroup>;\n  @Input() searchConfig: CrudSearch;\n  @Input() listConfig: CrudList;\n\n  @Input() formReset: boolean;\n\n  @Input() originalData: any;\n  @Input() _configData: CrudListData;\n  get configData(): CrudListData {\n    return this._configData;\n  }\n  @Input()\n  set configData(_configData: CrudListData) {\n    this._configData = _configData;\n    this.setConfigAsPerTab();\n  }\n\n  @Input() keyMap: Array<KeyMap>;\n\n  @Input() listReset: boolean;\n\n  _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  @Input()\n  set expanded(_expanded: boolean) {\n    this._expanded = _expanded;\n  }\n  @Input()\n  expandRowIndex: number;\n\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onButtonIconClick = new EventEmitter();\n\n  @Output() onSortClick = new EventEmitter();\n  @Output() onPageClick = new EventEmitter();\n  @Output() onTabClick = new EventEmitter();\n\n  title: string;\n  showSearchForm: boolean = false;\n  searchButton: Button;\n  searchModalButton: Button;\n  listHeaders: Array<ListHeader> = new Array<ListHeader>();\n\n  badges: Array<Badge>;\n  pageBackRoute: Array<string>;\n  records: Array<Record>;\n  searchData: any;\n  searchOnFieldsCount: number = 0;\n  searchOnFieldsButtons: Array<Button> = new Array<Button>();\n\n  buttonSubscriber: Subscription;\n  fieldSubscriber: Subscription;\n  formSubscriber: Subscription;\n  dialogRefSubscriber: Subscription;\n\n  constructor(private _bottomSheet: MatBottomSheet, private ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.searchButton = this.setSearchButton('searchButton', 'Search', 'search');\n    this.searchModalButton = this.setSearchButton('searchCloseButton', 'Close', 'close');\n    this.displaySearchForm();\n\n    this.setListHeaders();\n    this.setCrudHeader();\n\n    if (this.searchConfig && this.searchConfig.displayType != SearchDisplayType.ABOVE_LIST) {\n      this.searchConfig.form.displayInColumns = 1;\n    }\n    this.setConfigAsPerTab(); \n  }\n\n  setConfigAsPerTab(tabIdentifier?: string): void {\n    if (this._configData) {\n      this.badges = this._configData.badges;\n      this.pageBackRoute = this._configData.pageBackRoute;\n\n      this.records = this._configData.records;\n\n      this.searchData = this._configData.searchData;\n\n      this.searchOnFieldsCount = 0;\n      this.searchOnFieldsButtons = new Array<Button | ButtonGroup>();\n      if (this.searchData && !CollectionUtils.isEmpty(this.searchData)) {\n        for (let cnt = 0; cnt < Object.keys(this.searchData).length; cnt++) {\n          if (!StringUtils.isEmpty(this.searchData[Object.keys(this.searchData)[cnt]])) {\n            this.searchOnFieldsCount++; \n\n            let filterButton: Button | ButtonGroup = this.setSelectedFilterButton(Object.keys(this.searchData)[cnt], this.searchData[Object.keys(this.searchData)[cnt]]);\n            this.searchOnFieldsButtons.push(filterButton);\n          }\n        }\n      }\n\n      if (this._configData.configPerTabs) {\n        let tabIndex = 0;\n        this._configData.configPerTabs.forEach((tabConfigData: CrudListTabData, tabKey: string) => {\n          if ((tabKey == tabIdentifier || (tabIndex == 0 && tabIdentifier == null)) && tabConfigData) {\n            if (tabConfigData.badges) {\n              this.badges = tabConfigData.badges;\n            }\n            if (tabConfigData.pageBackRoute) {\n              this.pageBackRoute = tabConfigData.pageBackRoute;\n            }\n            if (tabConfigData.records && tabConfigData.records.length > 0) {\n              this.records = this._configData.records;\n            }\n          }\n          tabIndex++;\n        })\n      }\n    }\n  }\n\n  getTabIdentifier(tabTitle: string): string {\n    let tabIdentifier = '';\n    if (this.listConfig && this.listConfig.displayType == CrudListDisplayType.TAB) {\n      for (let index = 0; index < this.listConfig.lists.length; index++) {\n        if (this.listHeaders[index].title == tabTitle) {\n          tabIdentifier = this.listConfig.lists[index].identifier;\n          break;\n        }\n      }\n    }\n\n    return tabIdentifier;\n  }\n\n  setListHeaders(): void {\n    if (this.listConfig.lists) {\n      for (let index = 0; index < this.listConfig.lists.length; index++) {\n        this.listHeaders.push(this.listConfig.lists[index].header);\n        // this.listConfig.lists[index].header = \"\";\n      }\n    }\n  }\n\n  setCrudHeader(): void {\n    let title = \"\";\n\n    if (this.header) {\n      title = this.header.title;\n    }\n\n    if (this.listConfig.lists && this.listConfig.lists.length == 1 && this.listConfig.lists[0].header && this.listConfig.lists[0].header.title) {\n      title = this.listConfig.lists[0].header.title;\n\n      this.listConfig.lists[0].header.title = \"\";\n    }\n    this.title = title;\n  }\n\n  displaySearchForm(): void {\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists.length > 0) {\n      for (let lConfig of this.listConfig.lists) {\n        if (lConfig.listType == ListType.DYNAMIC && this.searchConfig) {\n          this.showSearchForm = true;\n          break;\n        }\n      }\n    }\n  }\n\n  setSearchButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n    };\n  }\n\n  setSelectedFilterButton(identifier: string, label: string): Button | ButtonGroup {\n    return {\n      identifier: identifier,\n      groupIdentifier: ReservedButton.CLEAR_FILTER_FIELD,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.TINY,\n      icon: \"close\",\n      iconPosition: IconPosition.RIGHT,\n      type: ButtonType.STROKED,\n    };\n  }\n\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  close() {\n    this.sidenav.close();\n  }\n\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n\n  buttonIconClick(event: any)  {\n    this.onButtonIconClick.emit(event);\n  }\n\n  onSort(event: any) {\n    console.log(event);\n    this.onSortClick.emit(event);\n  }\n\n  onPage(event: any) {\n    console.log(event);\n    this.onPageClick.emit(event);\n  }\n\n  onAccordianChange(event) {\n    console.log(event);\n  }\n\n  onTabChange(event: any) {\n    console.log(event);\n\n    this.setConfigAsPerTab(this.getTabIdentifier(event.tab.textLabel));\n  }\n\n  openBottomSheet(): void {\n    let dialogRef = this._bottomSheet.open(BottomSearchSheet, {\n      data: { searchConfig: this.searchConfig, searchData: this.searchData, reset: this.formReset },\n    });\n\n    this.buttonSubscriber = dialogRef.instance.onButtonClick.subscribe(event => this.buttonClick(event));\n    this.fieldSubscriber = dialogRef.instance.onFieldChange.subscribe(event => this.fieldChange(event));\n    this.formSubscriber = dialogRef.instance.onFormChange.subscribe(event => this.formChange(event));\n\n    this.dialogRefSubscriber = dialogRef.afterDismissed().subscribe(() => {\n      this.bottomUnsubscribe();\n    });\n  }\n\n  ngOnDestroy() {\n    this.bottomUnsubscribe();\n    if (this.dialogRefSubscriber) {\n      this.dialogRefSubscriber.unsubscribe();\n    }\n  }\n\n  bottomUnsubscribe() {\n    if (this.buttonSubscriber) {\n      this.buttonSubscriber.unsubscribe();\n    }\n    if (this.fieldSubscriber) {\n      this.fieldSubscriber.unsubscribe();\n    }\n    if (this.formSubscriber) {\n      this.formSubscriber.unsubscribe();\n    }\n  }\n}\n\n@Component({\n  selector: 'bottom-search-sheet',\n  templateUrl: 'bottom-search-sheet.html',\n  styleUrls: ['./bottom-search-sheet.scss']\n})\nexport class BottomSearchSheet {\n  onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  constructor(private _bottomSheetRef: MatBottomSheetRef<BottomSearchSheet>, @Inject(MAT_BOTTOM_SHEET_DATA) public data: any) {\n    console.log(this.data)\n  }\n\n  openLink(event: MouseEvent): void {\n    this._bottomSheetRef.dismiss();\n    event.preventDefault();\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n\n}","import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { DisplayMode, FileField, UploadDeleteFunc, UploadFile, UploadFileType, UploadFunc } from '../../model';\n\n@Component({\n    selector: 'cf-file-uploader',\n    templateUrl: './file-uploader.component.html',\n    styleUrls: ['./file-uploader.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class FileUploaderComponent implements OnInit {\n    @Input() field: FileField = null;\n    @Input() isFieldDisabled: boolean = false;\n    @ViewChild(\"fileInput\", { static: false }) fileInput: ElementRef;\n    @Input() disabled: boolean;\n    param = 'file';\n    fileList: Array<UploadFile> = [];\n\n    multiple: boolean = false;\n\n    showLess: number;\n\n    browseButtonText: string;\n    uploadButtonText: string;\n\n    fileType: string = \"*.*\";\n    fileIcon: string = \"\"; \n\n    hideDownloadButton: boolean = false;\n    hideDeleteFileButton: boolean = false;\n    hideUploadButton: boolean = false;\n    hideFileIconButton: boolean = false;\n    hideDeleteAllButton: boolean = false;\n    hideActionStrip: boolean = false;\n\n    isUploaded: boolean = false;\n    isUploadingInProgress: boolean = false;\n    isFileImageType: boolean = false;\n\n    constructor(private _http: HttpClient) { }\n\n    ngOnInit() {\n        var defaultUploadBtnText = this.field.multiple ? \"Upload Files\" : \"Upload File\";\n        this.multiple = this.field.multiple;\n        this.uploadButtonText = this.field.uploadButtonText || defaultUploadBtnText;\n        this.setFileTypeAndIcon(this.field.fileType);\n        this.fileList = (<Array<UploadFile>>this.field.value) || [];\n\n        if (this.field.displayMode == DisplayMode.LABEL) {\n            this.hideDeleteFileButton = true;\n            this.hideUploadButton = true;\n            this.hideFileIconButton = true;\n            } else {\n            this.hideDeleteFileButton = this.field.hideDeleteFileButton !== undefined ? this.field.hideDeleteFileButton : false;\n            this.hideUploadButton = this.field.hideUploadButton !== undefined ? this.field.hideUploadButton : false;\n            this.hideFileIconButton = this.field.hideFileIconButton !== undefined ? this.field.hideFileIconButton : false;\n        }\n\n        this.hideDownloadButton = this.field.hideDownloadButton !== undefined ? this.field.hideDownloadButton : false;\n        this.showLess = this.field.showLess || this.fileList.length;\n        this.setFieldDisabled();\n        this.setHideDeleteAllButton();\n        this.setHideActionStrip();\n    }\n\n    private setFieldDisabled() {\n        if (this.isFieldDisabled) {\n            this.hideDeleteAllButton = true;\n            this.hideDeleteFileButton = true;\n            this.hideUploadButton = true;\n        }\n    }\n\n    private setHideDeleteAllButton() {\n        if (this.field.hideDeleteAllButton === undefined) {\n            this.hideDeleteAllButton = false;\n        }\n        if (this.fileList.length <= 1 || this.field.displayMode == DisplayMode.LABEL) {\n            this.hideDeleteAllButton = true;\n        }\n    }\n\n    private setHideActionStrip() {\n        if (this.hideDeleteAllButton && this.hideUploadButton && this.showLess <= this.fileList.length) {\n            this.hideActionStrip = true;\n        }\n    }\n\n    private setFileTypeAndIcon = (type: UploadFileType): void => {\n        switch (type) {\n            case UploadFileType.PDF:\n                this.fileType = \".pdf\";\n                this.fileIcon = \"picture_as_pdf\";\n                break;\n            case UploadFileType.WORD:\n                this.fileType = \".doc, .docx\";\n                this.fileIcon = \"attach_file\";\n                break;\n            case UploadFileType.IMAGE:\n                this.fileType = this.getImageFileType();\n                this.fileIcon = \"image\";\n                this.isFileImageType = true;\n                break;\n            case UploadFileType.VIDEO:\n                this.fileType = \"video/*\";\n                this.fileIcon = \"video_call\";\n                break;\n            case UploadFileType.EXCEL:\n                this.fileType = \".xlsx, .xls, .csv\";\n                this.fileIcon = \"attach_file\";\n                break;\n            default:\n                this.fileType = \".*\";\n                this.fileIcon = \"attach_file\";\n                break;\n        }\n    }\n\n    onUploadClick = (): void => {\n        const fileInput = this.fileInput.nativeElement;\n        fileInput.onchange = () => {\n            this.fileList = [];\n            this.isUploadingInProgress = true;\n            console.log(fileInput.files);\n            for (let index = 0; index < fileInput.files.length; index++) {\n                const file = fileInput.files[index];\n                this.fileList.push(<UploadFile>{\n                    data: file,\n                    size: file.size,\n                    name: file.name\n                });\n            }\n            this.field.onUploadClick(this.fileList).subscribe(result => {\n                this.isUploadingInProgress = false;\n                this.fileList = result;\n            });\n        };\n        fileInput.click();\n    }\n\n    onDeleteAllClick = (): void => {\n        if (this.isFunctionDefined(this.field.onDeleteAllClick)) {\n            this.isUploadingInProgress = true;\n            this.field.onDeleteAllClick(this.fileList).subscribe(result => {\n                this.isUploadingInProgress = false;\n                if (result) {\n                    this.fileList = [];\n                }\n            });\n        }\n    }\n\n    onDeleteFileClick = (delFile: UploadFile): void => {\n        if (this.isFunctionDefined(this.field.onDeleteFileClick)) {\n            this.isUploadingInProgress = true;\n            this.field.onDeleteFileClick(delFile).subscribe(result => {\n                this.isUploadingInProgress = false;\n                if (result) {\n                    this.fileList = this.fileList.filter(file => file !== delFile);\n                }\n            });\n        }\n    }\n\n    onShowAllItems = () => {\n        this.showLess = this.fileList.length\n    }\n\n    isFunctionDefined = (func: UploadFunc | UploadDeleteFunc) => {\n        return typeof func == 'function';\n    }\n\n    private getImageFileType = (): string => {\n        if (this.field.subFileType) {\n            return this.field.subFileType.map(x => 'image/' + x.toLowerCase()).join(',');\n        } else {\n            return \"image/*\";\n        }\n    }\n}","export const quillConfiguration = {\n    formula: true,\n    toolbar: [\n//      [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n      [{ 'font': [] }],\n      \n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n      ['blockquote'],\n//      ['blockquote', 'code-block'],\n//      [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n      [{ 'align': [] }, { 'indent': '-1'}], \n      [{ 'indent': '+1' }],          // outdent/indent\n      [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n      [{ 'script': 'sub'}, { 'script': 'super' }, 'formula'],      // superscript/subscript\n//      ['formula'],\n//      [{ 'direction': 'rtl' }],                         // text direction\n      ['link', 'image', 'video']                         // link and image, video\n      \n    ]\n  };\n  ","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, FormGroupDirective, NgForm, ValidatorFn, FormArray } from '@angular/forms';\n\n\nimport { Field, KeyMap, AutocompleteField, DropdownOption, DropdownField, FieldType, HtmlEditorField, TextField, InputField, ImageField, CalendarField, CheckboxField, FileField, RadioField, ToggleField, SliderField, FieldChange, LabelField, LabelTextAlign, OptionDisplayTemplate } from '../../model';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { StringUtils, FieldUtils, CollectionUtils, FormUtils } from '../../../utility';\n\nimport { startWith, switchMap, tap } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { Router } from '@angular/router';\nimport { Action, ButtonColor, ButtonSize, ButtonType, Button, ReservedButton } from '../../../button/model';\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { quillConfiguration } from './html.editor.configuration';\nimport { MatSelectionList, MatSelectionListChange } from '@angular/material/list';\nimport { Permission } from '../../../privilege/model';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport class FieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n//    console.log(\"111\");\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'cf-field',\n  templateUrl: './field.component.html',\n  styleUrls: ['./field.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FieldComponent implements OnInit {\n  @Input() sourceType: string;\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() form: FormGroup;\n  @Input() fieldControl: FormControl | FormGroup;\n  @Input() fieldIndex: number;\n  @Input() field: Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField;\n  @Input() originalData: any;\n  @Input() _displayMode: FormDiaplyMode;\n  get displayMode(): FormDiaplyMode {\n    return this._displayMode;\n  }\n  @Input()\n  set displayMode(_displayMode: FormDiaplyMode) {\n    this._displayMode = _displayMode;\n    this.isFieldDisabled = this.fieldDisabled();\n  }\n\n  @Input() hideLabel: boolean;\n  @Input() value: any;\n  @Input() isAddMore: boolean;\n  @Input() addMorePermission: Permission;\n\n  @Input() device: string;\n  @Input() displayInColumns: number;\n  addMoreFieldDisplayInColumns: number;\n  addMoreButtonDisplayInColumns: number;\n\n  @Input() dependencies: any;\n  @Input() row: any;\n  @Input() keyMap: Array<KeyMap>;\n  @Output() onDependentFieldChange: EventEmitter<any> = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onFormChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  charLimit: number;\n  ellipsisRequired: boolean = false;\n  resolvedValue: any;\n\n  matcher: ErrorStateMatcher;\n  isRequired: boolean;\n  isFieldDisabled: boolean;\n  hasFieldNavigate: boolean;\n  hasHintIcon: boolean;\n  maxLength: number;\n  min: number;\n  max: number;\n  imgURL: any;\n  imagePath: string;\n  appearance: string;\n  hasClear: boolean;\n  textClearButton: Button;\n  routeToButton: Button;\n  helpModalButton: Button;\n  rows: number;\n  height: number;\n\n  asBubble: boolean;\n  bubbleColor: ButtonColor;\n  textAlign: LabelTextAlign;\n\n  plusButton: Button;\n  minusButton: Button;\n\n  editorOptions = quillConfiguration;\n\n  onListSelectionFuc: Function = null;\n  listOptions: Array<DropdownOption> = null;\n  enableMultiSelection: boolean;\n  autoCompleteOptions: Observable<DropdownOption[]>;\n  autoCompleteResultCount: number;\n  dateRange: boolean = false;\n\n  minLengthForTrigger: number = 3;\n  highlightAutoCompleteText: string = '';\n\n  showLess: number;\n\n  isEditorErrorState(): boolean {\n    return !!(this.fieldControl && this.fieldControl.invalid && (this.fieldControl.dirty || this.fieldControl.touched));\n  }\n  @ViewChild('listView') listView: MatSelectionList;\n\n  constructor(public router: Router, public ability: Ability) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    if ((<TextField>this.field).placeholder == undefined) {\n      (<TextField>this.field).placeholder = \"\";\n    }\n    if ((<TextField>this.field).ellipsis && (<TextField>this.field).ellipsis > 0) {\n      this.charLimit = (<TextField>this.field).ellipsis;\n    }\n\n    this.matcher = new FieldErrorStateMatcher();\n    this.getValue(this.field, this.value);\n    this.isRequired = this.required();\n    this.isFieldDisabled = this.fieldDisabled();\n    this.hasFieldNavigate = this.fieldNavigate();\n    this.hasHintIcon = this.displayHintIcon();\n    this.setMaxLength();\n    this.setNumberMinMax();\n    this.setAppearance();\n    this.setOptionInDisplay();\n    this.getImagePath(this.field);\n    this.setRows();\n    this.setHeight();\n    this.setClear();\n    this.setAsBubble();\n    this.setTextAlign();\n    this.setAddMoreDisplayInColumn();\n    this.setMinLengthForTrigger();\n    //    this.autocompleteInit();\n    this.setDisplayTemplate();\n    this.setCalendar();\n    this.setShowLess();\n    this.textClearButton = this.setTextClearButton('fieldTextClearBtn', \"Clear Text\", \"cancel\", null);\n    if (this.field.navigate) {\n      this.routeToButton = this.setTextClearButton('fieldRouteToBtn', this.field.navigate.text, this.field.navigate.icon ? this.field.navigate.icon : \"call_made\", this.field.navigate.routeTo);\n    }\n    this.helpModalButton = this.setHelpButton('helpCloseButton', 'Close', 'close');\n\n    this.plusButton = this.addRemoveButton(ReservedButton.ADD_FIELD, \"Add\", \"add\");\n    this.minusButton = this.addRemoveButton(ReservedButton.REMOVE_FIELD, \"Minus\", \"remove\");\n  }\n\n  setDisplayTemplate(): void {\n    if ((this.field.type == FieldType.RADIO || this.field.type == FieldType.CHECKBOX) && StringUtils.isEmpty((<RadioField | CheckboxField>this.field).displayTemplate)) {\n      (<RadioField | CheckboxField>this.field).displayTemplate = OptionDisplayTemplate.CLASSIC;\n    }\n  }\n\n  setAddMoreDisplayInColumn(): void {\n    if (this.isAddMore) {\n      if (this.device == 'desktop') {\n        if (this.displayInColumns < 6) {\n          this.addMoreFieldDisplayInColumns = 10;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 11;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n      if (this.device == 'tablet') {\n        if (this.displayInColumns < 6) {\n          this.addMoreFieldDisplayInColumns = 6;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 7;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n      if (this.device == 'mobile') {\n        if (this.displayInColumns < 3) {\n          this.addMoreFieldDisplayInColumns = 3;\n          this.addMoreButtonDisplayInColumns = 2;\n        } else {\n          this.addMoreFieldDisplayInColumns = 3;\n          this.addMoreButtonDisplayInColumns = 1;\n        }\n      }\n\n    }\n  }\n\n  setMinLengthForTrigger(): void {\n    this.minLengthForTrigger = (<AutocompleteField>this.field).minLengthForTrigger ? (<AutocompleteField>this.field).minLengthForTrigger : 3;\n  }\n\n  setRows(): void {\n    this.rows = (<TextField>this.field).rows ? (<TextField>this.field).rows : 1;\n  }\n\n  setHeight(): void {\n    this.height = (<HtmlEditorField>this.field).height ? (<HtmlEditorField>this.field).height : 300;\n  }\n\n  setAppearance(): void {\n    this.appearance = (<TextField | InputField>this.field).appearance ? (<TextField | InputField>this.field).appearance : 'standard';\n  }\n\n  setAsBubble(): void {\n    this.asBubble = (<LabelField>this.field).asBubble ? (<LabelField>this.field).asBubble : false;\n    this.bubbleColor = (<LabelField>this.field).bubbleColor ? (<LabelField>this.field).bubbleColor : ButtonColor.DEFAULT;\n  }\n\n  setTextAlign(): void {\n    this.textAlign = (<LabelField>this.field).textAlign ? (<LabelField>this.field).textAlign : LabelTextAlign.LEFT;\n  }\n\n  setMaxLength(): void {\n    this.maxLength = (<TextField>this.field).maxLength ? (<TextField>this.field).maxLength : 1000000;\n  }\n\n  setNumberMinMax(): void {\n    this.min = (<InputField>this.field).min ? (<InputField>this.field).min : null;\n    this.max = (<InputField>this.field).max ? (<InputField>this.field).max : null;\n  }\n\n  displayHintIcon(): boolean {\n    return this.field.help && this.field.help.icon ? true : false;\n  }\n\n  @ViewChild('sidenav') sidenav: MatSidenav;\n  close() {\n    this.sidenav.close();\n  }\n  open() {\n    this.sidenav.open();\n  }\n\n  setHelpButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n    };\n  }\n\n  required(): boolean {\n    let isRequired: boolean = false;\n    if (this.field.validations && this.field.validations.length > 0) {\n      for (let validation of this.field.validations) {\n        if (validation.message.key == \"required\") {\n          isRequired = true;\n        }\n      }\n    }\n\n    if (StringUtils.isEmpty(this.field.label)) {\n      isRequired = false;\n    }\n\n    return isRequired;\n  }\n\n  fieldNavigate(): boolean {\n    let hasFieldNavigate: boolean = false;\n\n    if (\n      this.field.navigate &&\n      (!StringUtils.isEmpty(this.field.navigate.icon) || !StringUtils.isEmpty(this.field.navigate.text)) &&\n      !CollectionUtils.isEmpty(this.field.navigate.routeTo)\n    ) {\n      hasFieldNavigate = true;\n    }\n\n    return hasFieldNavigate;\n  }\n\n  fieldDisabled(): boolean {\n    let isDisabled: boolean = false;\n\n    isDisabled = FieldUtils.isFieldDisabled(this.field, this._displayMode, this.resolvedValue);\n    if (isDisabled) {\n      FormUtils.disableFieldControl(<FormControl>this.fieldControl);\n    }\n\n    return isDisabled;\n  }\n\n  getValue(field: Field, txt: any): any {\n    let value: string = \"\";\n    let initialLength = 0;\n    let finalLength = 0;\n\n    if (this.fieldControl != undefined) {\n      value = this.fieldControl.value;\n    } else {\n      value = txt;\n    }\n\n    if (field.type != FieldType.DROPDOWN) {\n      if (this.keyMap && this.keyMap.length > 0) {\n        this.keyMap\n          .filter(objs => {\n            let hasAssociation: boolean = false;\n            if (!CollectionUtils.isEmpty(objs) && !CollectionUtils.isEmpty(objs.associations)) {\n              objs.associations.forEach(element => {\n                if (element.fieldKey == field.key && element.componentIdentifier == this.sourceIdentifier) {\n                  hasAssociation = true;\n                }\n              });\n            }\n            return hasAssociation;\n          })\n          .forEach(field => {\n            if (field['options'] && field['options'].length > 0) {\n              for (let index = 0; index < field['options'].length; index++) {\n                if (field['options'][index].key == value) {\n                  value = field['options'][index].value;\n                  break;\n                }\n              }\n            }\n          });\n      }\n    }\n\n    this.resolvedValue = value;\n\n    if (FieldUtils.isEllipsisField(this.field) && FieldUtils.displayEllipsis(this.charLimit, this.resolvedValue)) {\n      value = JSON.stringify(value);\n      initialLength = value.length;\n\n      value = value.substr(0, (<TextField>this.field).ellipsis);\n      finalLength = value.length;\n\n      value += \"...\";\n\n      if (initialLength > finalLength) {\n        this.ellipsisRequired = true;\n      }\n    }\n\n    return value;\n  }\n\n  displayFullText() {\n    let resolvedValueStr = JSON.stringify(this.resolvedValue);\n    if (!StringUtils.isEmpty(resolvedValueStr)) {\n      this.charLimit = resolvedValueStr.length;\n    }\n  }\n\n  displayShortText() {\n    if ((<TextField>this.field).ellipsis && (<TextField>this.field).ellipsis > 0) {\n      this.charLimit = (<TextField>this.field).ellipsis;\n      this.displayEllipsis();\n    }\n  }\n\n  displayEllipsis(): boolean {\n    return FieldUtils.displayEllipsis(this.charLimit, this.resolvedValue);\n  }\n\n  setCalendar() {\n    if (this.field.type === FieldType.CALENDAR) {\n      this.dateRange = (<CalendarField>this.field).dateRange;\n    }\n  }\n\n  ///////////////////////////// AUTOCOMPLETE - START ///////////////////////////\n  private invokeOnChangeOnField(value: string, input: any): boolean {\n    let invokeOnChange: boolean = false;\n\n    if (this.field.type == FieldType.AUTOCOMPLETE) {\n      this.autoCompleteInputHasValue = !!value;\n\n      if (value.length >= this.minLengthForTrigger) {\n        this.autoCompleteInputHasValue = !!value;\n        this.highlightAutoCompleteText = value;\n      } else {\n        this.autoCompleteInputHasValue = false;\n        this.highlightAutoCompleteText = '';\n      }\n      invokeOnChange = true;\n    } else {\n      invokeOnChange = true;\n    }\n\n    return invokeOnChange;\n  }\n\n  autocompleteDisplayFn(option: DropdownOption | any): string {\n    let value: string;\n    if (option != null && option.key != null) {\n      value = option.value;\n    } else {\n      value = option;\n    }\n\n    return value;\n  }\n\n  private _filter(value: string): Array<DropdownOption> {\n    const filterValue = value.toLowerCase();\n    var result = (<AutocompleteField>this.field).options.filter(option => option.value.toLowerCase().includes(filterValue));\n    this.autoCompleteResultCount = result.length;\n    return result;\n  }\n  ///////////////////////////// AUTOCOMPLETE - END ///////////////////////////\n\n  ///////////////////////////// DROPDOWN OPTION - START ///////////////////////////\n  setOptionInDisplay(): void {\n    if (this.field['options'] && this.fieldControl) {\n      let key: any = this.fieldControl.value;\n\n      for (let cnt = 0; cnt < (this.field['options'] as Array<DropdownOption>).length; cnt++) {\n        if (this.field['options'][cnt].key === key) {\n          this.field['options'][cnt].checked = true;\n        }\n      }\n    }\n  }\n\n\n  setClear() {\n    let hasClear = false;\n    if (this.resolvedValue && (<TextField>this.field).hasClear && (\n      this.field.type == FieldType.TEXT ||\n      this.field.type == FieldType.TEXTAREA ||\n      this.field.type == FieldType.EMAIL ||\n      this.field.type == FieldType.PASSWORD ||\n      this.field.type == FieldType.COLOR ||\n      this.field.type == FieldType.MONTH ||\n      this.field.type == FieldType.WEEK ||\n      this.field.type == FieldType.NUMBER ||\n      this.field.type == FieldType.DROPDOWN ||\n      this.field.type == FieldType.AUTOCOMPLETE ||\n      this.field.type == FieldType.CHIPS ||\n      this.field.type == FieldType.TIME ||\n      this.field.type == FieldType.CALENDAR\n    )) {\n      hasClear = true;\n    }\n\n    this.hasClear = hasClear;\n  }\n\n  cleanValue() {\n    this.resolvedValue = \"\";\n    this.fieldControl.setValue(\"\");\n    this.setClear();\n  }\n\n  getResolveTextWithKey(field: any) {\n    let value: string = \"\";\n\n    if (this.row != undefined) {\n      if (this.row[field['resolveOptionWithKey']]) {\n        value = this.row[field['resolveOptionWithKey']];\n      }\n    }\n\n    return value;\n  }\n\n  getDropdownValue(field: Field, txt: any): any {\n    let value: any = \"\";\n\n    if (this.fieldControl != undefined) {\n      if (this.fieldControl.value) {\n        value = this.fieldControl.value;\n      }\n    } else {\n      value = txt;\n    }\n\n    if (field['options'] && field['options'].length > 0) {\n      for (let index = 0; index < field['options'].length; index++) {\n        let isSelected: boolean = false;\n        if (value instanceof Array) {\n          if (value.indexOf(field['options'][index].key) > -1)  {\n            isSelected = true;\n          }\n        } else if (value instanceof String) {\n          if (field['options'][index].key == value) {\n            isSelected = true;\n          }\n        } else if (value instanceof Object) {\n          if (value[field['options'][index].key])  {\n            isSelected = true;\n          }\n        }\n\n        if (isSelected) {\n          value = field['options'][index].value;\n          break;\n        }\n      }\n    }\n\n\n    return value;\n  }\n  ///////////////////////////// DROPDOWN OPTION - END ///////////////////////////\n\n  ///////////////////////////// UPLOAD - START ///////////////////////////\n  // imgURL: any;\n  // onUpload(event) {\n  //   let file: File = {\n  //     'source': this.sourceIdentifier,\n  //     'index': this.index,\n  //     'field': this.field.key,\n  //     'files': event.target.files\n  //   };\n  //   this.field['onUpload'](file);\n\n\n  //   var reader = new FileReader();\n  //   reader.readAsDataURL(file.files[0]);\n  //   reader.onload = (_event) => {\n  //     this.imgURL = reader.result;\n  //   }\n  // }\n  ///////////////////////////// UPLOAD - END ///////////////////////////\n\n  ///////////////////////////// IMAGE - START ///////////////////////////\n  getImagePath(field: Field): void {\n    //    console.log(path);\n    if (!StringUtils.isEmpty(this.resolvedValue) && this.resolvedValue instanceof String && this.resolvedValue.indexOf(\"http://\") <= -1) {\n      // if (this.resolvedValue.startsWith(\"/\")) {\n      //   this.resolvedValue = Properties.contentUrl + this.resolvedValue;\n      // } else {\n      //   this.resolvedValue = Properties.contentUrl + \"/\" + this.resolvedValue;\n      // }\n    }\n\n    this.imagePath = this.resolvedValue;\n  }\n  ///////////////////////////// IMAGE - END ///////////////////////////\n\n  ///////////////////////////// SLIDER - START ///////////////////////////\n  //   getSliderTickInterval(): number | 'auto' {\n  // //    if ((<SliderField>this.field)..showTicks) {\n  //       return (<SliderField>this.field).autoTicks ? 'auto' : this.tickInterval;\n  // //    }\n\n  //     return 0;\n  //   }\n  ///////////////////////////// SLIDER - END ///////////////////////////\n\n  ///////////////////////////// EVENTS - START ///////////////////////////\n  onAutocompleteChange(autocomplate: any) {\n    let value = autocomplate.option.value;\n    // console.log(value);\n\n    this.onChangeEvent(this.field.key, value, autocomplate);\n  }\n\n  onToggleChange(toggle: any) {\n    console.log(toggle);\n    let value = toggle.checked;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, toggle);\n  }\n\n  onSliderChange(slider: any) {\n    //    console.log(slider);\n    let value = slider.value;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, slider);\n  }\n\n  onRadioChange(radio: any) {\n    //    console.log(radio);\n    let value = radio.value;\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, value, radio);\n  }\n\n  onCheckboxChange(option: any, checkbox: any) {\n    let key = option.key;\n    let value = checkbox.checked;\n    // console.log(key + \": \" + value);\n    this.onChangeEvent(key, value, checkbox);\n  }\n\n  setShowLess() {\n    if (this.field.type === FieldType.RADIO || this.field.type === FieldType.CHECKBOX) {\n      this.showLess = (<CheckboxField | RadioField>this.field).showLess || (<CheckboxField | RadioField>this.field).options.length;\n    }\n  }\n\n  onShowAllOptions = () => {\n    this.showLess = (<CheckboxField | RadioField>this.field).options.length;\n  }\n\n  onOptionChange(options: MatSelectionListChange) {\n    let value = this.listView.selectedOptions.selected.map(x => x.value);\n\n    if (this.field.type == 'CHECKBOX') {\n      let selectedOptions = options.source._value;\n      let currentOptions = <Map<any, boolean>>this.fieldControl.value;\n\n      for (let key in currentOptions) {\n        if (selectedOptions.indexOf(key) > -1) {\n          currentOptions[key] = true;\n        } else {\n          currentOptions[key] = false;\n        }\n      }\n\n      (<FormGroup>this.fieldControl).setValue(currentOptions);\n    } else if (this.field.type == 'RADIO') {\n      let selectedOptions = options.source._value;\n\n      if (CollectionUtils.isEmpty(selectedOptions)) {\n        (<FormControl>this.fieldControl).setValue(null);\n        value = null;\n      } else {\n        (<FormControl>this.fieldControl).setValue(selectedOptions[0]);\n        value = value[0];\n      }\n    }\n    this.onChangeEvent(this.field.key, value, options);\n  }\n\n  onHtmlEditorChange($event: any) {\n    // console.log($event);\n    //    console.log(value);\n    this.onChangeEvent(this.field.key, $event.html, $event);\n  }\n\n  onChipsListChange($event: any) {\n    this.onChangeEvent(this.field.key, $event.values, $event);\n  }\n\n  autoCompleteInputHasValue: boolean = false;\n  onInputChange(input: any) {\n    console.log(input);\n    let value = input.target.value;\n    //    console.log(value);\n\n    if (this.invokeOnChangeOnField(value, input)) {\n      this.onChangeEvent(this.field.key, value, input);\n    }\n  }\n\n  onDateChange(date: MatDatepickerInputEvent<Date>, type: string) {\n    let key: string = this.field.key;\n    if (!StringUtils.isEmpty(type)) {\n      key = this.field.key + \".\" + type;\n    }\n\n    //    console.log(date.value);\n    let value = date.value;\n    //    console.log(value);\n    this.onChangeEvent(key, value, date);\n  }\n\n  onChange(dropdown: any) {\n    //    console.log(dropdown.value);\n    let value = dropdown.value;\n\n    this.onChangeEvent(this.field.key, value, dropdown);\n  }\n\n  onFileChange(event: any) {\n    // console.log(event);\n\n    this.onChangeEvent(this.field.key, event, event);\n\n    var reader = new FileReader();\n    reader.readAsDataURL(event[0]);\n    reader.onload = (_event) => {\n      this.imgURL = reader.result;\n    }\n  }\n\n  onParagraphChange(event: any) {\n    //    console.log(event); \n    this.onChangeEvent(this.field.key, event, event);\n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n\n  onChangeEvent(key: string, value: any, event: any) {\n    this.resolvedValue = value;\n    this.setClear();\n    setTimeout(() => { \n      //      if ((this.dependencies && this.dependencies[this.field.key]) || this.field.type == FieldType.CHECKBOX || this.field.type == FieldType.DROPDOWN) {\n      if ((this.dependencies && this.dependencies[this.field.key])) {\n        let action: Action = {\n          sourceIdentifier: this.sourceIdentifier,\n          sourceIndex: this.sourceIndex,\n          widgetArrayIndex: this.widgetArrayIndex,\n          fieldIndex: this.fieldIndex,\n          action: this.field.key,\n          data: this.form.getRawValue(),\n          parentHierarchy: null,\n          event: event\n        };\n        this.onDependentFieldChange.emit(action);\n      }\n    }, 200);\n\n    let fieldChange: FieldChange = {\n      sourceIdentifier: this.sourceIdentifier,\n      sourceIndex: this.sourceIndex,\n      widgetArrayIndex: this.widgetArrayIndex,\n      fieldIndex: this.fieldIndex,\n      fieldKey: key,\n      value: value,\n      event: event\n    }\n\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  // onChangeSearch(val: string) {\n  //   console.log(\"onChangeSearch\");\n  //   let autocomplete: Autocomplete = {\n  //     'source': this.sourceIdentifier,\n  //     'index': this.index,\n  //     'field': this.field.key,\n  //     'searchText': val\n  //   };\n\n  //   this.autocompleteService.invoke(autocomplete);\n  // }\n  ///////////////////////////// EVENTS - END ///////////////////////////\n\n  ///////////////////////////// ERROR - START ///////////////////////////\n  errors(): Array<{ error: string, message: string }> {\n    let errors: Array<{ error: string, message: string }> = [];\n    if (this.fieldControl != undefined) {\n      if (this.fieldControl && this.fieldControl.errors) {\n        Object.keys(this.fieldControl.errors).forEach(keyError => {\n          if (this.field.validations) {\n            for (let validation of this.field.validations) {\n              if (keyError === validation.message.key) {\n                errors[errors.length] = { error: keyError, message: validation.message.message };\n              } else {\n                //errors[errors.length] = {error: keyError, message: this.fieldControl.errors[keyError]};\n              }\n            }\n          }\n        });\n      } else if (this.fieldControl instanceof FormGroup) {\n        if (this.fieldControl.controls && this.fieldControl.controls['startDate'] && this.fieldControl.controls['startDate'].errors) {\n          Object.keys(this.fieldControl.controls['startDate'].errors).forEach(keyError => {\n            if (this.field.validations) {\n              for (let validation of this.field.validations) {\n                if (keyError === validation.message.key) {\n                  errors[errors.length] = { error: keyError, message: validation.message.message };\n                }\n              }\n            }\n          });\n        }\n      }\n    }\n\n    return errors;\n  }\n\n  ///////////////////////////// ERROR - END ///////////////////////////\n  setTextClearButton(identifier: string, label: string, icon: string, routeTo: Array<string>): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.GHOST,\n      onlyIcon: true,\n      routerLink: routeTo\n    };\n  }\n\n  addField(field: Field) {\n    let validations: Array<ValidatorFn> = FormUtils.getFieldValidation(field);\n\n    (<FormArray>this.form.controls[field.key]).push(FormUtils.setFormControl(this.displayMode, field, null, validations));\n\n    this.onFormChange.emit(this.form);\n  }\n\n  removeField(field: Field, index: number) {\n    (<FormArray>this.form.controls[field.key]).controls.splice(index, 1);\n\n    this.onFormChange.emit(this.form);\n  }\n\n  addRemoveButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.FLAT,\n      onlyIcon: true\n    };\n  }\n\n  onFileComplete(data: any) {\n    // console.log(data); // We just print out data bubbled up from event emitter.\n  }\n\n  onListImageLoadError = ($event): void => {\n    $event.target.src = (<RadioField | CheckboxField>this.field).defaultImageUrl;\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FieldDiaplyType, Field, KeyMap } from '../../model';\nimport { FormDiaplyMode } from '../../../form/model';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-field-layout',\n  templateUrl: './field-layout.component.html',\n  styleUrls: ['./field-layout.component.scss']\n})\nexport class FieldLayoutComponent implements OnInit {\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() form: FormGroup;\n  @Input() field: Field;// | DropdownField | ImageField | CalendarField | AutocompleteField | FileField; \n  @Input() displayMode: FormDiaplyMode;\n  @Input() value: any;\n  @Input() dependencies: any;\n  @Input() row: any;\n  @Input() keyMap: Array<KeyMap>;\n\n  // radio: {} = {};\n\n  // minDate: Date;\n  // maxDate: Date;\n\n  //protected dateService: NbDateService<Date>, protected autocompleteSearch: AutocompleteService\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n  }\n\n  initField() {\n    // if (this.field.type == FieldType.RADIO) {\n    //   this.radio[this.field.key] = null;\n    // }\n\n    // if (this.field.type == FieldType.CALENDAR)  {\n    //   this.minDate = this.dateService.addDay(this.dateService.today(), this.field['min']);\n    //   this.maxDate = this.dateService.addDay(this.dateService.today(), this.field['max']);\n    // }    \n  }\n\n  isRequired(): boolean {\n    let isRequired: boolean = false;\n    if (this.field.validations && this.field.validations.length > 0) {\n      for (let validation of this.field.validations) {\n        if (validation.message.key == \"required\") {\n          isRequired = true;\n        }\n      }\n    }\n\n    return isRequired;\n  }\n\n  isValidDisplayType(fieldDiaplyType: FieldDiaplyType): boolean {\n    if (this.field) {\n      return this.field.fieldDisplayType == fieldDiaplyType;\n    } else {\n      return false;\n    }\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldLayoutComponent } from '../field-layout.component';\nimport { FieldDiaplyType } from '../../../model';\n\n@Component({\n  selector: 'cf-field-horizontal-layout',\n  templateUrl: './field-horizontal-layout.component.html',\n  styleUrls: ['./field-horizontal-layout.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FieldHorizontalLayoutComponent extends FieldLayoutComponent implements OnInit {\n  //protected dateService: NbDateService<Date>, protected autocompleteSearch: AutocompleteService\n//  constructor() {\n//    super(dateService, autocompleteSearch);\n//  }\n\n  ngOnInit() {\n    this.initField();\n  }\n\n  displayHorizonalForm(): boolean {\n    return this.isValidDisplayType(FieldDiaplyType.HORIZONTAL);\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldLayoutComponent } from '../field-layout.component';\nimport { FieldDiaplyType } from '../../../model';\n\n@Component({\n  selector: 'cf-field-inline-layout',\n  templateUrl: './field-inline-layout.component.html',\n  styleUrls: ['./field-inline-layout.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FieldInlineLayoutComponent extends FieldLayoutComponent implements OnInit {\n  //protected dateService: NbDateService<Date>, protected autocompleteSearch: AutocompleteService\n//  constructor() {\n//    super(dateService, autocompleteSearch);\n//  }\n\n  ngOnInit() {\n    this.initField();\n  }\n  \n  displayInlineForm(): boolean {\n    return this.isValidDisplayType(FieldDiaplyType.INLINE);\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldLayoutComponent } from '../field-layout.component';\nimport { FieldDiaplyType } from '../../../model';\n\n@Component({\n  selector: 'cf-field-vertical-layout',\n  templateUrl: './field-vertical-layout.component.html',\n  styleUrls: ['./field-vertical-layout.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FieldVerticalLayoutComponent extends FieldLayoutComponent implements OnInit {\n  //protected dateService: NbDateService<Date>, protected autocompleteSearch: AutocompleteService\n//  constructor() {\n//    super(dateService, autocompleteSearch);\n//  }\n\n  ngOnInit() {\n    this.initField();\n  }\n  \n  displayVerticalForm(): boolean {\n    return this.isValidDisplayType(FieldDiaplyType.INLINE);\n  } \n}\n","import { Component, OnInit, OnDestroy, Input, EventEmitter, Output, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\n\nimport { List, Record, PaginationType, CellColor, Column, ChildListType, CustomLayoutCell, CellControllType, CellControl } from '../model';\nimport { ObjectTree, Button, ButtonType, ButtonColor, ButtonSize, Action, ReservedButton } from '../../button/model';\nimport { KeyMap, FieldType, FieldAppearance, FieldDiaplyType, TextField, DropdownOption, DropdownField, FieldChange, KeyMapOptionType, AutocompleteField, RadioField, CheckboxField } from '../../field/model';\nimport { FormDiaplyMode, FormField, FormTitleIconPosition } from '../../form/model';\nimport { FormGroup } from '@angular/forms';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { FieldUtils, FormUtils, CollectionUtils, StringUtils, KeyMapUtils, ListUtils } from '../../utility';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { Ability } from '@casl/ability';\nimport { AbilityUtils, ButtonUtils } from '../../utility';\nimport { Subscription } from 'rxjs';\nimport { timeInterval } from 'rxjs/operators';\n\n@Component({\n  selector: 'cf-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n  animations: [\n    trigger('detailExpand', [\n      state('collapsed', style({ height: '0px', minHeight: '0' })),\n      state('expanded', style({ height: '*' })),\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\n    ]),\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ListComponent implements OnInit, OnDestroy {\n  @Input() _listConfig: List;\n  get listConfig(): List {\n    return this._listConfig;\n  }\n  @Input()\n  set listConfig(_listConfig: List) {\n    this._listConfig = _listConfig;\n    this.setColumnNames();\n    this.setDetailColumnCount();\n    this.setCardVisibility();\n  }\n\n  @Input() _record: Record;\n  get record(): Record {\n    return this._record;\n  }\n  @Input()\n  set record(_record: Record) {\n    // console.log(\"-------------->\")\n    // console.log(_record);\n    // console.log(this._record);\n    // console.log(\"<--------------\")\n    if (!this.parent || (this.parent && JSON.stringify(_record) != JSON.stringify(this._record))) {\n      this._record = _record;\n\n      this.init();\n      this.setCardVisibility();\n    }\n  }\n\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() parent: ObjectTree;\n  @Input() _listReset: boolean;\n  get listReset(): boolean {\n    return this._listReset;\n  }\n  @Input()\n  set listReset(_listReset: boolean) {\n    this._listReset = _listReset;\n\n    if (this._listReset) {\n      this.resetInlineEditButton('inlineEditButton', 'Edit', 'edit');\n    }\n  }\n\n  @Input() disabled: boolean;\n  @Input() keyMap: Array<KeyMap>;\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n  @Output() onPageChange = new EventEmitter();\n  @Output() onSortChange = new EventEmitter();\n\n  _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  @Input()\n  set expanded(_expanded: boolean) {\n    this._expanded = _expanded;\n  }\n\n  @Input()\n  expandRowIndex: number;\n\n  dataSource: MatTableDataSource<any> = new MatTableDataSource();\n\n  @ViewChild(MatPaginator, { static: false }) set contentPage(pagination: MatPaginator) {\n    this.dataSource.paginator = pagination;\n  }\n\n\n  @ViewChild(MatSort, { static: false }) set contentSort(sort: MatSort) {\n    this.dataSource.sort = sort;\n  }\n\n  cellCount: number = 12;\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  displayVertical: boolean = false;\n\n  form: FormGroup;\n  commonListForm: FormGroup;\n  formIndex: number = -1;\n\n  inlineEditButtons: Array<Button> = new Array<Button>();\n  hasDisplayActions: boolean = false;\n  isInlineEditable: boolean = false;\n  inlineButtonSize: ButtonSize = ButtonSize.DEFAULT;\n  childRows: Map<number, Record> = new Map<number, Record>();\n  childColumnCount: number;\n\n  displayModes: Array<FormDiaplyMode> = new Array<FormDiaplyMode>();\n  columnNames: Array<string> = new Array<string>();\n  columnConfigs: Array<Column> = new Array<Column>();\n  totalDispalyableWidth: number;\n\n  selection = new SelectionModel<any>(true, []);\n  hideCard: boolean = false;\n  hideHeader: boolean = false;\n  hideFooter: boolean = false;\n\n  pageSizeOptions: Array<number> = [5, 10, 25, 100];\n  rowCount: number = 0;\n  limit: number = 0;\n  expandedRow: any | null;\n  rowColors: Array<CellColor> = new Array<CellColor>();\n  cellColors: Array<Array<CellColor>> = new Array<Array<CellColor>>();\n  hoverRowData: any;\n  hoverRowIndex: number;\n\n  showCard = false;\n  iconPosition: FormTitleIconPosition;\n\n  breakpointSubscription: Subscription;\n\n  constructor(public ability: Ability, public breakpointObserver: BreakpointObserver) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n  }\n\n  init() {\n    this.getLayout();\n\n    this.setPageSize();\n    if (this._record === undefined) {\n      this._record = { total: 10, pageNo: 1, rows: [] };\n    }\n\n    if (this._record && this._record.rows) {\n      if (this._record.rows.length != this.rowCount) {\n        this._record.rows = [...this._record.rows];\n\n        this.dataSource.data = this._record.rows;\n      }\n    }\n\n    this.resetInlineEditButton('inlineEditButton', 'Edit', 'edit');\n    this.populateAllChilds();\n\n    this.showRowEditable();\n    this.initCommonFormGroup();\n    this.setColors();\n    this.setIconPosition();\n    this.setFilterBar();\n\n    ListUtils.setCustomLayouts(this.listConfig);  \n  }\n\n  sortDirection: 'asc' | 'desc' | '' = 'asc';\n  sticky() {\n    let header1=document.querySelectorAll(\".mat-toolbar\");\n    let header = document.getElementById(\"mySearch\");\n    if(header){\n      let sticky = header.offsetTop;\n      if (window.pageYOffset > sticky) {\n        header.classList.add(\"sticky\");\n   \n        header1.forEach((el) => {\n          el.classList.add(\"sticky-header\");\n      });\n      } else {\n        header.classList.remove(\"sticky\");\n        header1.forEach((el) => {\n          el.classList.remove(\"sticky-header\");\n        });\n      }\n    }\n  }\n\n  onScrolled(event){\n  }\n\n\n  contentFilterColumnSpan: number;\n  columnSelectionColumnSpan: number;\n\n  setFilterBar() {\n    if (this._listConfig.staticList.hasOnPageFilter && !this._listConfig.hasColumnSelection)  {\n      this.contentFilterColumnSpan = 12;\n    }\n    if (!this._listConfig.staticList.hasOnPageFilter && this._listConfig.hasColumnSelection)  {\n      this.columnSelectionColumnSpan = 12;\n    }\n  }\n\n  setPageSize() {\n    if (this._listConfig.pagination == PaginationType.ALL) {\n      this.limit = this._record && this._record.rows ? this._record.rows.length : 10;\n    } else {\n      if (this._listConfig.pageSize) {\n        this.limit = this._listConfig.pageSize;\n      }\n    }\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this._listConfig.header && this._listConfig.header.icon && this._listConfig.header.icon.position) {\n      this.iconPosition = this._listConfig.header.icon.position;\n    }\n  }\n\n  filterField: TextField;\n  getFilterField(): TextField {\n    this.filterField = {\n      key: \"pageFilter\",\n      label: \"Filter\",\n      type: FieldType.TEXT,\n      icon: \"search\",\n      appearance: FieldAppearance.STANDARD,\n      isReadOnly: false,\n      fieldDisplayType: FieldDiaplyType.INLINE,\n      placeholder: \"Type to display filtered list\",\n      value: \"\"\n    };\n\n    return this.filterField;\n  }\n\n  columnSelectorField: DropdownField;\n  getColumnSelectorField(): DropdownField {\n    this.columnSelectorField = ListUtils.getColumnSelectorField(this._listConfig);\n\n    return this.columnSelectorField;\n  }\n\n  updateColumnDisplay(event: any) {\n    console.log(event);\n    for (let column of this._listConfig.columns) {\n      if (event.value.indexOf(ListUtils.getColumnKey(column)) > -1) {\n        column.show = true;\n      } else {\n        column.show = false;\n      }\n    }\n\n    this.setColumnNames();\n    this.setDetailColumnCount();\n  }\n\n  inlinEditButton(identifier: string, label: string, icon: string): Button {\n    let buttonConfig: Button = {\n      identifier: identifier,\n      type: ButtonType.RAISED,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      onlyIcon: false\n    }\n\n    return buttonConfig;\n  }\n\n  getColumnLabel(column: Column): string {\n    return ListUtils.getColumnLabel(column);\n  }\n\n  getColumnKey(column: Column): string {\n    return ListUtils.getColumnKey(column);\n  }\n\n  resetInlineEditButton(identifier: string, label: string, icon: string) {\n    for (let cIndex = 0; cIndex < this.columnConfigs.length; cIndex++) {\n\n      if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n        for (let action of this._listConfig.actions) {\n          if (action.permission == null || (this.ability.can(action.permission['action'], action.permission['subject']))) {\n            this.hasDisplayActions = true;\n            break;\n          }\n        }\n      }\n\n      if (this.hasDisplayActions) {\n        for (let field of this.columnConfigs[cIndex].fields) {\n          if (FieldUtils.readOnlyField().indexOf(field.type) > -1) { } else {\n            this.isInlineEditable = true;\n            break;\n          }\n        }\n      }\n    }\n\n    this.inlineEditButtons = new Array<Button>();\n\n    if (this._record && this._record.rows) {\n      for (let index = 0; index < this._record.rows.length; index++) {\n        this.inlineEditButtons.push(this.inlinEditButton(identifier, label, icon));\n\n        this.displayModes[index] = FormDiaplyMode.VIEW;\n      }\n    }\n    this.formIndex = -1;\n\n    this.setColumnNames();\n  }\n\n  showRowEditable() {\n    if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n      this.inlineButtonSize = this._listConfig.actions[0].size\n    }\n\n    if (this._record && this._record.rows) {\n      for (let index = 0; index < this._record.rows.length; index++) {\n        if (this._record.rows[index]['showRowEditable']) {\n          this.setRowEditablity(index);\n        }\n      }\n    }\n  }\n\n  setRowEditablity(index: number): void {\n    if (this.formIndex != -1 && this.formIndex != index) {\n      this.inlineEditButtons[this.formIndex].identifier = 'inlineEditButton';\n      this.inlineEditButtons[this.formIndex].label = 'Edit';\n      this.inlineEditButtons[this.formIndex].icon = 'edit';\n      this.inlineEditButtons[this.formIndex].size = this.inlineButtonSize;\n      this.formIndex = -1;\n    }\n    if (this.inlineEditButtons[index].label == 'Edit') {\n      this.inlineEditButtons[index].identifier = 'cancelInlineStaticList';\n      this.inlineEditButtons[index].label = 'Cancel';\n      this.inlineEditButtons[index].icon = 'close';\n      this.inlineEditButtons[index].size = this.inlineButtonSize;\n\n      if (this._record && this._record.rows) {\n        for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n          this.displayModes[rIndex] = FormDiaplyMode.VIEW;\n\n          if (rIndex != index) {\n            this.inlineEditButtons[rIndex].identifier = 'inlineEditButton';\n            this.inlineEditButtons[rIndex].label = 'Edit';\n            this.inlineEditButtons[rIndex].icon = 'edit';\n            this.inlineEditButtons[rIndex].size = this.inlineButtonSize;\n          }\n        }\n\n        if (this._record.rows[index]['formDisplayMode']) {\n          this.displayModes[index] = this._record.rows[index]['formDisplayMode'];\n        } else {\n          this.displayModes[index] = FormDiaplyMode.EDIT;\n        }\n      }\n\n      this.initFormGroup(index);\n      this.formIndex = index;\n      this._listReset = false;\n    } else {\n      this.inlineEditButtons[index].identifier = 'inlineEditButton';\n      this.inlineEditButtons[index].label = 'Edit';\n      this.inlineEditButtons[index].icon = 'edit';\n      this.inlineEditButtons[index].size = this.inlineButtonSize;\n      this.formIndex = -1;\n    }\n\n    let inlineButtonTemp = this.inlineEditButtons[index];\n    this.inlineEditButtons[index] = undefined;\n    setTimeout(() => this.inlineEditButtons[index] = inlineButtonTemp, 100);\n  }\n\n  populateAllChilds(): void {\n    if (this._record && this._record.rows && this._record.rows.length > 0) {\n      for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n        this.childRows[rIndex] = this.getChildRows(this._record.rows[rIndex]);\n      }\n    }\n  }\n\n  getChildRows(row: any): any {\n    if (this._listConfig && this._listConfig.child && row) {\n      let data: Array<any> | any = this._listConfig.child.recordIdentifier ? row[this._listConfig.child.recordIdentifier] : row;\n\n      if (this._listConfig.child.type == ChildListType.LIST) {\n        if (data) {\n          let childData: any;\n          if (data instanceof Array) {\n            childData = data;\n          } else {\n            childData = new Array<any>();\n            childData.push(data);\n          }\n\n          let record: Record = {\n            pageNo: 1,\n            total: childData.length,\n            rows: childData\n          };\n\n          return record;\n        }\n      } else {\n        return data;\n      }\n    }\n  }\n\n  getValue(colIndex: number, cFieldIndex: number, row: any, value: any): any {\n    try {\n      value = eval(\"row.\" + this.columnConfigs[colIndex].fields[cFieldIndex].key);\n    } catch (e) { }\n\n    return value;\n  }\n\n  updateFilter(field) {\n    const filterValue = field.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n  initFormGroup(cnt: number): void {\n    let fieldControls = {};\n\n    let row = this.getCurrentRecord(cnt);\n\n    KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.LIST, this._listConfig, row);\n\n    for (let column of this.columnConfigs) {\n      for (let field of column.fields) {\n        let formField: FormField = { field: field, addMore: false };\n\n        if (this._listConfig.uniqueKeys.indexOf(formField.field.key) > -1) {\n          formField.field.isUnique = true;\n        }\n        FormUtils.initFieldGroup(fieldControls, formField, null, row, this.displayModes[cnt]);\n      }\n    }\n\n    this.form = new FormGroup(fieldControls);\n    this.formIndex = cnt;\n  }\n\n  initCommonFormGroup(): void {\n    let commonFieldControls = {};\n\n    FormUtils.initFieldGroup(commonFieldControls, { field: this.getFilterField(), addMore: false }, {}, {}, FormDiaplyMode.EDIT);\n    FormUtils.initFieldGroup(commonFieldControls, { field: this.getColumnSelectorField(), addMore: false }, {}, {}, FormDiaplyMode.EDIT);\n\n    this.commonListForm = new FormGroup(commonFieldControls);\n  }\n\n  getCurrentRecord(cnt: number): any {\n    let record: any = {};\n\n    if (this.dataSource && this.dataSource['_renderData'] && this.dataSource['_renderData']['_value'] && this.dataSource['_renderData']['_value'][cnt]) {\n      record = this.dataSource['_renderData']['_value'][cnt];\n    } else if (this._record && this._record['rows'] && this._record['rows'][cnt]) {\n      record = this._record['rows'][cnt];\n    }\n\n    return record;\n  }\n\n  getObjectTree(currentRow: any): ObjectTree {\n    if (this._listConfig && this._listConfig.uniqueKeys && this._listConfig.uniqueKeys.length > 0) {\n      let keys = this._listConfig.uniqueKeys;\n\n      let values: Array<string> = new Array<string>();\n      keys.forEach(key => values.push(currentRow[key]));\n\n      let objectTree: ObjectTree = {\n        parent: {\n          key: values\n        }\n      };\n\n      if (this.parent) {\n        objectTree.hierarchyUp = JSON.parse(JSON.stringify(this.parent));\n      }\n      return objectTree;\n    } else {\n      return null;\n    }\n  }\n\n  /** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource.data.length;\n    return numSelected === numRows;\n  }\n\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    this.isAllSelected() ?\n      this.selection.clear() :\n      this.dataSource.data.forEach(row => this.selection.select(row));\n  }\n\n  /** The label for the checkbox on the passed row */\n  checkboxLabel(row?: any): string {\n    if (!row) {\n      return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\n    }\n    return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;\n  }\n\n  setCardVisibility(): void {\n    this.hideCard = false;\n    if (this._listConfig.hideCard || (this._listConfig.hideHeader && this._listConfig.hideFooter)) {\n      this.hideCard = true;\n    }\n\n    if (this.hideCard == false) {\n      if (this._record && this._record.rows && this._record.rows.length == this._record.total && (StringUtils.isEmpty(this._listConfig.header) && this._listConfig.description)) {\n        this.hideCard = true;\n      }\n    }\n\n    this.hideHeader = false;\n    if ((!this._listConfig.header || StringUtils.isEmpty(this._listConfig.header.title)) && StringUtils.isEmpty(this._listConfig.description) || this._listConfig.hideHeader) {\n      this.hideHeader = true;\n    }\n\n    this.hideFooter = false;\n    if ((this._record && this._record.rows && this._record.rows.length == this._record.total) || this._listConfig.hideFooter) {\n      this.hideFooter = true;\n    }\n  }\n\n  setColumnNames(): void {\n    this.columnNames = new Array<string>();\n    this.columnConfigs = new Array<Column>();\n\n    this.totalDispalyableWidth = 0;\n\n    if (this._listConfig.selectable) {\n      this.columnNames.push('select');\n\n      if (!this._listConfig.header) {\n        this._listConfig.header = { title: \"\" };\n      }\n\n      if (!this._listConfig.header || CollectionUtils.isEmpty(this._listConfig.header.actions)) {\n        this._listConfig.header.actions = new Array<Button>();\n      }\n\n      let selectableExist = false;\n      for (let button of this._listConfig.header.actions) {\n        if ((<Button>button).identifier == \"listCrudSelectionButton\") {\n          selectableExist = true;\n        }\n      }\n\n      if (!selectableExist) {\n        this._listConfig.header.actions.unshift(this.selectableButton(\"listCrudSelectionButton\", this._listConfig.selectable.label, this._listConfig.selectable.icon))\n      }\n    }\n\n    if (this._listConfig.columns && this._listConfig.columns.length > 0) {\n      this._listConfig.columns.filter(column => column.show == true).forEach(column => {\n        let hasDisplayableField = false;\n        for (let field of column.fields) {\n          if (field.permission == null || this.ability.can(field.permission['action'], field.permission['subject'])) {\n            hasDisplayableField = true;\n          }\n        }\n\n        if (hasDisplayableField) {\n          this.columnNames.push(ListUtils.getColumnKey(column));\n          this.columnConfigs.push(column);\n\n          this.totalDispalyableWidth += column.width;\n        }\n      });\n    }\n\n    if (this.hasDisplayActions) {\n      this.columnNames.push('action');\n\n      this.totalDispalyableWidth += this._listConfig.actionWidth;\n    }\n  }\n\n  setDetailColumnCount(): void {\n    this.childColumnCount = this.columnConfigs.length + (this._listConfig.actions && this._listConfig.actions.length > 0 ? 1 : 0) + (this._listConfig.selectable ? 1 : 0);\n  }\n\n  setColors(): void {\n    if (this._record && this._record.rows) {\n      for (let rIndex = 0; rIndex < this._record.rows.length; rIndex++) {\n        if (CollectionUtils.isEmpty(this.rowColors[rIndex])) {\n          this.rowColors.push({ bgColor: \"\", textColor: \"\" });\n        }\n        let rowColor: CellColor = this.rowColors[rIndex];\n        if (this._listConfig.rowBgColor) {\n          rowColor.bgColor = this._listConfig.rowBgColor(this._record.rows[rIndex]);\n        }\n        if (this._listConfig.rowTextColor) {\n          rowColor.textColor = this._listConfig.rowTextColor(this._record.rows[rIndex]);\n        }\n\n        for (let cIndex = 0; cIndex < this.columnConfigs.length; cIndex++) {\n          if (CollectionUtils.isEmpty(this.cellColors[rIndex])) {\n            this.cellColors.push(new Array<CellColor>());\n          }\n          if (CollectionUtils.isEmpty(this.cellColors[rIndex][cIndex])) {\n            this.cellColors[rIndex][cIndex] = { bgColor: \"\", textColor: \"\" };\n          }\n\n          let cellColor: CellColor = this.cellColors[rIndex][cIndex];\n          if (StringUtils.isEmpty(cellColor.bgColor)) {\n            cellColor.bgColor = rowColor.bgColor;\n          }\n          if (this.columnConfigs[cIndex].bgColor) {\n            cellColor.bgColor = this.columnConfigs[cIndex].bgColor(this._record.rows[rIndex]);\n          }\n\n          if (StringUtils.isEmpty(cellColor.textColor)) {\n            cellColor.textColor = rowColor.textColor;\n          }\n          if (this.columnConfigs[cIndex].textColor) {\n            cellColor.textColor = this.columnConfigs[cIndex].textColor(this._record.rows[rIndex]);\n          }\n        }\n      }\n    }\n  }\n\n  selectableButton(identifier: string, label: string, icon: string): Button {\n    return {\n      identifier: identifier,\n      label: label,\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: icon,\n      type: ButtonType.FLAT,\n      onlyIcon: false\n    };\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n\n    this.onFieldChange.emit(fieldChange);\n    this.formChange(this.form);\n\n    //  if a field options are dependent on me, then reload its options \n    fieldChange.fieldKey;\n    this._listConfig.columns.forEach(column => {\n      column.fields.forEach(field => {\n        if ((<AutocompleteField | RadioField | CheckboxField | DropdownField>field).optionDependsOn == fieldChange.fieldKey) {\n          let row = FormUtils.getRawValue(this.form);\n          //let row = this.getCurrentRecord(fieldChange.sourceIndex);\n          KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.LIST, this._listConfig, row);\n        }\n      })\n    })\n  }\n\n  formChange(form: FormGroup) {\n    console.log(form);\n\n    if (form == undefined) {\n      this.onFormChange.emit(this.form);\n    } else {\n      this.onFormChange.emit(form);\n    }\n  }\n\n  buttonClick(action: Action) {\n    console.log(action);\n\n    if (action.action == 'listCrudSelectionButton') {\n      action.data = this.selection.selected;\n    }\n\n    if (action.action == ReservedButton.ROW_EXPAND || action.action == ReservedButton.ROW_COLLAPSE) {\n    } else {\n      action.event.stopPropagation();\n    }\n\n    this.onButtonClick.emit(action);\n  }\n\n  getLayout(): void {\n    this.breakpointSubscription = this.breakpointObserver.observe([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n      Breakpoints.Medium,\n      Breakpoints.Large,\n      Breakpoints.XLarge\n    ]).subscribe((state: BreakpointState) => {\n      if (state.breakpoints[Breakpoints.XSmall]) {\n        this.isMobile = true;\n        this.cellCount = this.listConfig.mobile && this.listConfig.mobile.cellCount ? this.listConfig.mobile.cellCount : 4;\n        this.hideCard = true;\n        ListUtils.getMobileConfig(this.listConfig);  \n\n        console.log('Matches XSmall viewport');\n      }\n      if (state.breakpoints[Breakpoints.Small]) {\n        this.isTablet = true;\n        console.log('Matches Small viewport');\n      }\n      if (state.breakpoints[Breakpoints.Medium]) {\n        this.isDesktop = true;\n        console.log('Matches Medium  viewport');\n      }\n      if (state.breakpoints[Breakpoints.Large]) {\n        this.isDesktop = true;\n        console.log('Matches Large viewport');\n      }\n      if (state.breakpoints[Breakpoints.XLarge]) {\n        this.isDesktop = true;\n        console.log('Matches XLarge viewport');\n      }\n\n      this.resetVerticalDisplay();\n    });\n  }\n\n  rowClick(row: any, rowIndex: any, context: any, event: any) {\n    console.log(row);\n    console.log(rowIndex);\n    console.log(context);\n\n    let actionButton: Button = null;\n    if (!CollectionUtils.isEmpty(this._listConfig.actions)) {\n      this._listConfig.actions.forEach(action => {\n        if (action.identifier == this._listConfig.rowAction) {\n          actionButton = action;\n        }\n      })\n\n      if (actionButton != null) {\n        let actionObj: Action = ButtonUtils.getAction(\n          this._listConfig.identifier,\n          rowIndex,\n          this.widgetArrayIndex,\n          actionButton.identifier,\n          this.parent,\n          event,\n          row,\n          context,\n          null);\n\n        this.onButtonClick.emit(actionObj);\n      }\n    }\n  }\n\n  resetVerticalDisplay(): void {\n    // if (this._listConfig.mobile && this._listConfig.mobile.displayVertical && this.isMobile) {\n    //   this.displayVertical = true;\n    // }\n  }\n\n  getButton(cell: CustomLayoutCell) {\n    let buttons: Array<CellControl> = new Array<CellControl>();\n    if (!CollectionUtils.isEmpty(cell) && !CollectionUtils.isEmpty(cell.controls)) {\n      buttons = cell.controls.filter(control => control.type == CellControllType.BUTTON).map(control => control.control);\n    }\n\n    return buttons;\n  }\n\n  tooltipPosition = { 'top': 0, 'left': 0 };\n  onHover(event, rowIndex, row) {\n    this.hoverRowData = row;\n    this.hoverRowIndex = rowIndex;\n\n    this.tooltipPosition.top = event.y;\n    this.tooltipPosition.left = event.x;  \n  }\n\n  ngOnDestroy(): void {\n    if (this.breakpointSubscription) {\n      this.breakpointSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\n\nimport { BreakpointObserver } from '@angular/cdk/layout';\n\nimport { ListComponent } from '../list.component';\nimport { ListType, Pagination } from '../../model';\nimport { Params } from '@angular/router';\nimport { Action } from '../../../button/model';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-static-list', \n  templateUrl: './static-list.component.html',\n  styleUrls: ['./static-list.component.scss'],\n  animations: [\n    trigger('detailExpand', [\n      state('collapsed', style({height: '0px', minHeight: '0'})),\n      state('expanded', style({height: '*'})),\n      transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\n    ]),\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class StaticListComponent extends ListComponent implements OnInit {\n  constructor(public ability: Ability, public breakpointObserver: BreakpointObserver) {\n    super(ability, breakpointObserver);\n    window.onscroll = ()=> {this.sticky()};\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  isList(): boolean {\n    return this.listConfig.listType == ListType.STATIC;\n  }\n\n  onSort(event) {\n    const queryParams: Params = { sorton: event['active'], sortdir: event['direction'] };\n\n    this.expandedRow = null;\n    \n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: queryParams,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: event\n    }\n\n    console.log(action);\n    this.onSortChange.emit(action);\n  }\n\n  onPage(pageInfo: Pagination) {\n    console.log(\"scrolled:-\",pageInfo)\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: pageInfo,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: pageInfo\n    };\n\n    console.log(action);\n    this.onPageChange.emit(action);\n  }\n\n  ngOnDestroy() {\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver } from '@angular/cdk/layout';\n\nimport { ListComponent } from '../list.component';\nimport { ListType, Pagination } from '../../model';\nimport { Params } from '@angular/router';\nimport { Action } from '../../../button/model';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-dynamic-list',\n  templateUrl: '../static-list/static-list.component.html',\n  styleUrls: ['../static-list/static-list.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class DynamicListComponent extends ListComponent implements OnInit {\n\n  constructor(\n    public ability: Ability,\n    public breakpointObserver: BreakpointObserver\n  ) {\n    super(ability, breakpointObserver);\n    window.onscroll = ()=> {this.sticky()};\n  }\n \n  ngOnInit() {\n    this.init();\n  }\n\n  isList(): boolean {\n    return this._listConfig.listType == ListType.DYNAMIC;\n  }\n\n  onSort(event) {\n    const queryParams: Params = { sorton: event['active'], sortdir: event['direction'] };\n\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: queryParams,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: event\n    };\n\n    console.log(action);\n    this.onSortChange.emit(action);\n  }\n\n  onPage(pageInfo: Pagination) {\n    console.log(pageInfo);\n    let action: Action = {\n      sourceIdentifier: this.sourceIdentifier ? this.sourceIdentifier : this._listConfig.identifier,\n      sourceIndex: this.sourceIndex ? this.sourceIndex : 0,\n      widgetArrayIndex: this.widgetArrayIndex,\n      action: this._listConfig.identifier,\n      actionData: pageInfo,\n      data: this.record,\n      originalData: this.record,\n      parentHierarchy: this.parent,\n      event: pageInfo\n    };\n\n    console.log(action);\n    this.onPageChange.emit(action);\n  }\n}\n","import { Component, OnInit, Inject, Output, EventEmitter, ViewEncapsulation } from '@angular/core';\nimport { Form } from '../../../form/model';\nimport { List } from '../../../list/model';\nimport { KeyMap, FieldChange } from '../../../field/model';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\nexport interface DialogData {\n  type: string,\n  widgetConfig: Form | List,\n  sourceIndex: number,\n  context: any,\n  originalData: any,\n  keyMap: Array<KeyMap>,\n  reset: boolean,\n  currentInstance: any\n}\n\n@Component({\n  selector: 'cf-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ModalComponent implements OnInit {\n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  constructor(public dialogRef: MatDialogRef<ModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData,\n    private ability: Ability) { \n      AbilityUtils.setAbility(this.ability);\n    }\n\n  ngOnInit(): void {\n  }\n\n  click(event: any) {\n    this.dialogRef.close(event);\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    console.log(fieldChange);\n    this.onFieldChange.emit(fieldChange);\n  }\n\n  formChange(form: any) {\n    this.onFormChange.emit(form);\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.scss']\n})\nexport class AdminLayoutComponent implements OnInit {\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Button, ButtonColor, ButtonType, Badge, BadgeColor, ButtonGroup, HoverButton, ButtonSize } from '../../../button/model';\nimport { CollectionUtils } from '../../../utility';\nimport { CrudDescription, CrudHeaderIcon, CrudStyle } from '../../model';\nimport { FormDiaplyMode, FormTitleIconPosition } from '../../../form/model';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-crud-header',\n  templateUrl: './crud-header.component.html',\n  styleUrls: ['./crud-header.component.scss']\n})\nexport class CrudHeaderComponent implements OnInit {\n  @Input() identifier: string;\n  @Input() title: string; \n  @Input() subtitle: string; \n  @Input() description: CrudDescription;\n  @Input() badges: Array<Badge>;\n  @Input() icon: CrudHeaderIcon;\n  @Input() style: CrudStyle;\n\n  @Input() _pageBackRoute: Array<string>;\n  get pageBackRoute(): Array<string> {\n    return this._pageBackRoute;\n  }\n  @Input()\n  set pageBackRoute(_pageBackRoute: Array<string>) {\n    this._pageBackRoute = _pageBackRoute;\n    this.addBackButton();\n  } \n\n  @Input() formDisplayMode: FormDiaplyMode;\n  @Input() actions: Array<Button | HoverButton | ButtonGroup>;\n  @Input() showHeader: boolean;\n  @Input() originalData: any;\n  @Input() context: any;\n  @Output() onButtonClick = new EventEmitter();\n\n  iconPosition: FormTitleIconPosition;\n  badgeButtons: Array<ButtonGroup> = new Array<ButtonGroup>();\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.setIconPosition();\n    this.addBackButton();\n    this.transformBadgeButtons();\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this.icon && this.icon.position)  {\n      this.iconPosition = this.icon.position;\n    }\n  }\n\n  transformBadgeButtons(): void {\n    if (this.badges && this.badges.length > 0) {\n      let index: number = 0;\n      for (let badge of this.badges) {\n        this.badgeButtons.push({\n          identifier: 'crudHeaderBadge-' + index,\n          type: ButtonType.CHIP,\n          label: badge.content,\n          color: this.badgeColorToButtonColor(badge.color),\n          size: ButtonSize.MICRO,\n          groupIdentifier: \"crudHeaderGroup\",\n        });\n      }\n    }\n  }\n\n  badgeColorToButtonColor(color: BadgeColor): ButtonColor {\n    let buttonColor: ButtonColor;\n    if (color == BadgeColor.ASCENT) {\n      buttonColor = ButtonColor.ASCENT;\n    } else if (color == BadgeColor.PRIMARY) {\n      buttonColor = ButtonColor.PRIMARY;\n    } else if (color == BadgeColor.WARN) {\n      buttonColor = ButtonColor.WARN;\n    }\n\n    return buttonColor;\n  }\n\n  addBackButton(): void {\n    if (!this._pageBackRoute || CollectionUtils.isEmpty(this._pageBackRoute)) {\n      return;\n    }\n\n    let backButton: Button;\n\n    if (CollectionUtils.isEmpty(this.actions)) {\n      this.actions = new Array<Button | HoverButton | ButtonGroup>();\n    }\n\n    backButton = {\n      identifier: \"crudBackButton\",\n      label: \"Back\",\n      color: ButtonColor.PRIMARY,\n      size: ButtonSize.SMALL,\n      icon: \"keyboard_return\",\n      type: ButtonType.GHOST,\n      onlyIcon: false,\n      routerLink: this._pageBackRoute,\n      displayInFormModes: [\n        FormDiaplyMode.CRUD_FORM\n      ]\n    };\n\n    let backAlreadyAdded = false;\n    for (let action of this.actions) {\n      if (action.identifier == \"crudBackButton\") {\n        backAlreadyAdded = true;\n      }\n    }\n\n    if (!backAlreadyAdded) {\n      this.actions.unshift(backButton);\n\n      this.actions = JSON.parse(JSON.stringify(this.actions));\n    }\n  }\n\n  buttonClick(event: any) {\n    console.log(event);\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit, Input, ViewEncapsulation, Output, EventEmitter } from '@angular/core';\nimport { FormDiaplyMode, FormHeader, FormField, FormDescription, FormTitleIconPosition } from '../../model';\nimport { Field, TextField, InputField, DropdownField, ImageField, CalendarField, AutocompleteField, CheckboxField, FileField, RadioField, SliderField, ToggleField, FieldChange, HtmlEditorField, LabelField } from '../../../field/model';\nimport { Button } from '../../../button/model';\nimport { FormGroup } from '@angular/forms';\nimport { CollectionUtils, ButtonUtils, FormUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\n\n@Component({\n  selector: 'cf-form-header',\n  templateUrl: './form-header.component.html',\n  styleUrls: ['./form-header.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FormHeaderComponent implements OnInit {\n  @Input() form: FormGroup;\n  @Input() formHeaderConfig: FormHeader;\n  @Input() description: FormDescription;\n  @Input() formDisplayMode: FormDiaplyMode;\n  @Input() formIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() context: any;\n  @Input() formActions: Array<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField | Button>;\n  @Output() onFieldChange = new EventEmitter();  \n  @Output() onButtonClick = new EventEmitter();\n\n  title: string;\n  subtitle: string;\n  iconPosition: FormTitleIconPosition;\n  fields: Array<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField> = new Array<Field | TextField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField>();\n  buttons: Array<Button> = new Array<Button>();\n\n  constructor(private ability: Ability) { \n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.getFormHeader();\n    this.setIconPosition();\n    this.saperateFormActions(); \n  }\n\n  getFormHeader(): void {\n    let title: string = this.formHeaderConfig.title;\n    this.subtitle = this.formHeaderConfig.subtitle;\n\n    switch (this.formDisplayMode) {\n      case FormDiaplyMode.SEARCH: {\n        title = this.formHeaderConfig.searchModeTitle ? this.formHeaderConfig.searchModeTitle : title;\n      }\n      case FormDiaplyMode.ADD: {\n        title = this.formHeaderConfig.addModeTitle ? this.formHeaderConfig.addModeTitle : title;\n      }\n      case FormDiaplyMode.EDIT: {\n        title = this.formHeaderConfig.editModeTitle ? this.formHeaderConfig.editModeTitle : title;\n      }\n      case FormDiaplyMode.VIEW: {\n        title = this.formHeaderConfig.viewModeTitle ? this.formHeaderConfig.viewModeTitle : title;\n      }\n      default: {\n        title = this.formHeaderConfig.title;\n      }\n    }\n\n    if (this.widgetArrayIndex != null)  {\n      title += \" - \" + (this.widgetArrayIndex + 1);\n    }\n\n    this.title = title;\n  }\n\n  setIconPosition() {\n    this.iconPosition = FormTitleIconPosition.BEFORE_TITLE;\n    if (this.formHeaderConfig.icon && this.formHeaderConfig.icon.position)  {\n      this.iconPosition = this.formHeaderConfig.icon.position;\n    }\n  }\n\n  saperateFormActions() {\n    if (!CollectionUtils.isEmpty(this.formActions)) {\n      this.formActions.forEach(formAction => {\n        if (ButtonUtils.instanceOfAnyButtonType(formAction)) {\n          this.buttons.push(<Button>formAction);\n        } else {\n          this.fields.push(<Field | TextField | LabelField | InputField | DropdownField | HtmlEditorField | ImageField | CalendarField | AutocompleteField | CheckboxField | FileField | RadioField | SliderField | ToggleField>formAction);\n        }\n      })\n\n      this.initFormGroup();\n    }\n  }\n\n  initFormGroup(): void {\n    if (this.fields && this.fields.length > 0) {\n      let formFields: Array<FormField> = new Array<FormField>();\n      this.fields.map(field => formFields.push({ 'field': field, 'addMore': false }));\n\n      this.form = FormUtils.initFormGroup(formFields, {}, {}, FormDiaplyMode.ADD);\n    }\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n//    console.log(fieldChange);\n\n    this.onFieldChange.emit(fieldChange); \n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n}\n","import { Component, OnInit, OnDestroy, Input, EventEmitter, Output, ViewEncapsulation } from '@angular/core';\n\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\n\nimport { Form, FormDiaplyMode, FormField, FormLayout, FormLayoutRow, FormSectionExpand, FormButton, FormButtonLayout } from '../../model';\nimport { Field, FieldChange, KeyMap, KeyMapOptionType } from '../../../field/model';\nimport { FormGroup } from '@angular/forms';\nimport { Action } from '../../../button/model';\nimport { FormUtils, ObjectUtils, KeyMapUtils, ButtonUtils, CollectionUtils, FormCustomUtils, DependentUtils } from '../../../utility';\nimport { AbilityUtils } from '../../../utility/ability.utility';\nimport { Ability } from '@casl/ability';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'cf-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class FormComponent implements OnInit, OnDestroy {\n  @Input() formConfig: Form;\n  @Input() sourceIdentifier: string;\n  @Input() sourceIndex: number;\n  @Input() widgetArrayIndex: number;\n  @Input() originalData: any;\n  @Input() keyMap: Array<KeyMap>; \n  @Output() onFormChange = new EventEmitter();\n  @Output() onFieldChange = new EventEmitter();\n  @Output() onButtonClick = new EventEmitter();\n\n  formFields: Array<FormField> = new Array<FormField>();\n  dependencies: any;\n\n  cellCount: number = 12;\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  showButtons: boolean = true;\n\n  private _supportingRecord: any;\n  get supportingRecord(): any {\n    return this._supportingRecord;\n  }\n  @Input()\n  set supportingRecord(_supportingRecord: any) {\n    this._supportingRecord = _supportingRecord;\n\n    this.initFormGroup();\n  }\n\n  private _record: any;\n  get record(): any {\n    return this._record;\n  }\n  @Input()\n  set record(_record: any) {\n    this._record = _record;\n\n    this.initFormGroup();\n  }\n\n  private _reset: boolean;\n  get reset(): boolean {\n    return this._reset;\n  }\n  @Input()\n  set reset(_reset: boolean) {\n    this._reset = _reset;\n\n    if (this._reset == true) {\n      FormUtils.reset(this.form, this.formConfig);\n    }\n  }\n\n  @Input()\n  form: FormGroup;\n  formLayouts: Array<FormLayout> = new Array<FormLayout>();\n\n  formButton: FormButton;\n  formButtonLayout: FormButtonLayout;\n  breakpointSubscription: Subscription;\n\n  //  unflatten = require('flat').unflatten;\n\n  constructor(private ability: Ability, private breakpointObserver: BreakpointObserver) {\n    AbilityUtils.setAbility(this.ability);\n  }\n\n  ngOnInit() {\n    this.getLayout();\n    this.getActions();\n    //    this.fieldDefaultSetting();\n    this.dependencies = { ...DependentUtils.getDependencyTree(this.formConfig.formFields), ...DependentUtils.getDependencyTreeForButton(this.formConfig.action) };\n\n    this.getCustomLayout();\n  }\n\n  getCustomLayout(): void {\n    if (this.formConfig.showCustomLayout) {\n      FormCustomUtils.setCustomLayout(this.formConfig, this.formConfig.layout);  \n    } else  {\n      this.formConfig.showCustomLayout = false;\n    }\n  }\n\n  getActions(): void {\n    if (this.formConfig && this.formConfig.action && (<FormButton>this.formConfig.action).align && (<FormButton>this.formConfig.action).buttons && (<FormButton>this.formConfig.action).buttons.length > 0) {\n      this.formButton = (<FormButton>this.formConfig.action);\n    }\n\n    if (this.formConfig && this.formConfig.action && (<FormButtonLayout>this.formConfig.action).cells && (<FormButtonLayout>this.formConfig.action).cells.length > 0) {\n      this.formButtonLayout = (<FormButtonLayout>this.formConfig.action);\n    }\n  }\n\n  dependentFieldChange(action: Action) {\n    if (this.formConfig.identifier == action.sourceIdentifier) {\n      let newRecord = ObjectUtils.unflatten(this.form.getRawValue());\n      this.record = { ...this.record, ...newRecord };\n      console.log(this.record);\n      this.initFormGroup();\n\n      this.showButtons = false;\n      setTimeout(() => {\n        this.showButtons = true;\n      }, 50);\n    }\n  }\n\n  fieldChange(fieldChange: FieldChange) {\n    this.onFieldChange.emit(fieldChange);\n    this.onFormChange.emit(this.form);\n  }\n\n  buttonClick(event: any) {\n    this.onButtonClick.emit(event);\n  }\n\n  fieldDefaultSetting(): void {\n    if (this.formConfig) {\n      for (let formField of this.formConfig.formFields) {\n        if (!(<Field>formField.field).fieldDisplayType) {\n          (<Field>formField.field).fieldDisplayType = this.formConfig.displayType;\n        }\n      }\n\n      if (!this.formConfig.displayInColumns) {\n        this.formConfig.displayInColumns = 1;\n      }\n    }\n\n    this.setTitle();\n  }\n\n  setTitle() {\n    if (this.formConfig.header) {\n      let title = this.formConfig.header.title;\n      switch (this.formConfig.displayMode) {\n        case FormDiaplyMode.ADD:\n          if (this.formConfig.header.addModeTitle) {\n            title = this.formConfig.header.addModeTitle;\n          }\n          break;\n        case FormDiaplyMode.EDIT:\n          if (this.formConfig.header.editModeTitle) {\n            title = this.formConfig.header.editModeTitle;\n          }\n          break;\n        case FormDiaplyMode.VIEW:\n          if (this.formConfig.header.viewModeTitle) {\n            title = this.formConfig.header.viewModeTitle;\n          }\n          break;\n        case FormDiaplyMode.BLOCKED:\n          if (this.formConfig.header.viewModeTitle) {\n            title = this.formConfig.header.viewModeTitle;\n          }\n          break;\n      }\n      this.formConfig.header.title = title;\n    }\n  }\n\n  initFormGroup(): void {\n    KeyMapUtils.setOptionssUsingValues(this.keyMap, false, KeyMapOptionType.FORM, this.formConfig, this._record);\n\n    this.form = FormUtils.initFormGroup(this.formConfig.formFields, this._supportingRecord, this._record, this.formConfig.displayMode);\n\n    this.onFormChange.emit(this.form);\n\n    if (this.isMobile || this.isTablet || this.isDesktop) {\n      this.resetDisplayInColumn();\n    }\n  }\n\n  // isValidButton(button: Button): boolean {\n  //   let isValid: boolean = false;\n\n  //   if (button.displayInFormModes.indexOf(this.formConfig.displayMode) > -1) {\n  //     isValid = true;\n  //   }\n  //   return isValid;\n  // }\n\n  // isNewRow(index: number): string {\n  //   let displayRow: string = \"\";\n  //   if (index % this.formConfig.displayInColumns == 0) {\n  //     displayRow = \"row\";\n  //   }\n\n  //   return displayRow;\n  // }\n\n  getFormValue(): any {\n    return FormUtils.getRawValue(this.form);\n  }\n\n  transformRows(): void {\n    let sectionLabel: string = \"\";\n    let formLayouts: Array<FormLayout> = new Array<FormLayout>();\n    let index: number = -1;\n\n    let displayInColumns = this.formConfig.displayInColumns;\n\n    if (this.formConfig.formFields) {\n      for (let formField of this.formConfig.formFields) { \n        if (this.form.controls[formField.field.key] && DependentUtils.displayDependencyField(formField.field.dependentOnFields, this._supportingRecord, this._record)) {\n          if (formField.separator || sectionLabel == \"\") {\n            formLayouts.push({\n              sectionLabel: formField && formField.separator && formField.separator.label ? formField.separator.label : \"\",\n              sectionIcon: formField && formField.separator && formField.separator.icon ? formField.separator.icon : \"\",\n              sectionExpandable: formField && formField.separator && formField.separator.expandable ? formField.separator.expandable : null,\n              rows: new Array<FormLayoutRow>()\n            });\n            sectionLabel = \"-\";\n            index++;\n          }\n\n          if (formLayouts[index]) {\n            let rLength = formLayouts[index].rows.length;\n\n            if (formLayouts[index].rows.length == 0) {\n              formLayouts[index].rows.push({ columns: new Array<FormField>() });\n              formLayouts[index].rows[0].columns = new Array<FormField>();\n            }\n\n            let cLength = this.formFieldRowColumnCount(formLayouts, index);\n\n            if (cLength >= displayInColumns) {\n              formLayouts[index].rows[rLength] = { columns: new Array<FormField>() };\n            }\n\n            formLayouts[index].rows[formLayouts[index].rows.length - 1].columns.push(formField);\n          }\n        }\n      }\n    }\n\n    this.formLayouts = formLayouts;\n  }\n\n  private formFieldRowColumnCount(formLayouts: Array<FormLayout>, index: number): number {\n    let colCount = 0;\n\n    for (let cCnt = 0; cCnt < formLayouts[index].rows[formLayouts[index].rows.length - 1].columns.length; cCnt++) {\n      if (formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns) {\n        colCount += formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns;\n      } else {\n        colCount += 1;\n        formLayouts[index].rows[formLayouts[index].rows.length - 1].columns[cCnt].displayInColumns = 1;\n      }\n    }\n\n    return colCount;\n  }\n\n  toggleList(formLayout: FormLayout): void {\n    if (formLayout.sectionExpandable && formLayout.sectionExpandable.allowed) {\n      if (formLayout.sectionExpandable.default == FormSectionExpand.EXPAND) {\n        formLayout.sectionExpandable.default = FormSectionExpand.COLLAPSE;\n      } else {\n        formLayout.sectionExpandable.default = FormSectionExpand.EXPAND;\n      }\n    }\n  }\n\n  getLayout(): void {\n    this.breakpointSubscription = this.breakpointObserver.observe([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n      Breakpoints.Medium,\n      Breakpoints.Large,\n      Breakpoints.XLarge\n    ]).subscribe((state: BreakpointState) => {\n      if (state.breakpoints[Breakpoints.XSmall]) {\n        this.isMobile = true;\n        console.log('Matches XSmall viewport');\n      }\n      if (state.breakpoints[Breakpoints.Small]) {\n        this.isTablet = true;\n        console.log('Matches Small viewport');\n      }\n      if (state.breakpoints[Breakpoints.Medium]) {\n        this.isDesktop = true;\n        console.log('Matches Medium  viewport');\n      }\n      if (state.breakpoints[Breakpoints.Large]) {\n        this.isDesktop = true;\n        console.log('Matches Large viewport');\n      }\n      if (state.breakpoints[Breakpoints.XLarge]) {\n        this.isDesktop = true;\n        console.log('Matches XLarge viewport');\n      }\n\n      this.resetButtonDisplay();\n      this.resetDisplayInColumn();\n    });\n  }\n\n  resetButtonDisplay(): void {\n    if (this.formConfig && this.formConfig.action && !CollectionUtils.isEmpty((<FormButton>this.formConfig.action).buttons)) {\n      if ((this.isMobile || this.isTablet) && !ButtonUtils.hasWidth((<FormButton>this.formConfig.action).buttons)) {\n        ButtonUtils.setEqualWidth((<FormButton>this.formConfig.action).buttons);\n      }\n    } \n  }\n\n  resetDisplayInColumn(): void {\n    if (this.formConfig && this.formConfig.displayInColumns) {\n      if (this.isMobile) {\n        this.cellCount = 4;\n        this.formConfig.displayInColumns = this.getNewDisplayInColumn(\"mobile\", this.formConfig.displayInColumns);\n      }\n      if (this.isTablet) {\n        this.cellCount = 8;\n        this.formConfig.displayInColumns = this.getNewDisplayInColumn(\"tablet\", this.formConfig.displayInColumns);\n      }\n    }\n\n    if (this.formConfig && !CollectionUtils.isEmpty(this.formConfig.formFields)) {\n      this.formConfig.formFields.forEach(formField => {\n        if (formField.displayInColumns) {\n          if (this.isMobile) {\n            this.cellCount = 4;\n            formField.displayInColumns = this.getNewDisplayInColumn(\"mobile\", formField.displayInColumns);\n          }\n          if (this.isTablet) {\n            this.cellCount = 8;\n            formField.displayInColumns = this.getNewDisplayInColumn(\"tablet\", formField.displayInColumns);\n          }\n        } else  { \n          formField.displayInColumns = 1;\n        }\n      })\n    }\n\n    this.fieldDefaultSetting();\n    this.transformRows();\n  }\n\n  getNewDisplayInColumn(device: string, displayInColumn: number): number {\n    let displayInColumnMap: Map<string, Map<number, number>> = new Map<string, Map<number, number>>();\n\n    let mobileMap: Map<number, number> = new Map<number, number>();\n    mobileMap.set(12, 1);\n    mobileMap.set(11, 1);\n    mobileMap.set(10, 1);\n    mobileMap.set(9, 1);\n    mobileMap.set(8, 1);\n    mobileMap.set(7, 1);\n    mobileMap.set(6, 1);\n    mobileMap.set(5, 1);\n    mobileMap.set(4, 1);\n    mobileMap.set(3, 1);\n    mobileMap.set(2, 1);\n    mobileMap.set(1, 1);\n    displayInColumnMap.set(\"mobile\", mobileMap);\n\n    let tabletMap: Map<number, number> = new Map<number, number>();\n    tabletMap.set(12, 2);\n    tabletMap.set(11, 2);\n    tabletMap.set(10, 2);\n    tabletMap.set(9, 2);\n    tabletMap.set(8, 2);\n    tabletMap.set(7, 2);\n    tabletMap.set(6, 2);\n    tabletMap.set(5, 2);\n    tabletMap.set(4, 2);\n    tabletMap.set(3, 2);\n    tabletMap.set(2, 2);\n    tabletMap.set(1, 1);\n    displayInColumnMap.set(\"tablet\", tabletMap);\n\n    return displayInColumnMap.get(device).get(displayInColumn);\n  }\n\n  ngOnDestroy(): void {\n    if (this.breakpointSubscription) {\n      this.breakpointSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { CrudHeader, ActionPage, CrudList, CrudListData, Crud, CrudSearch, CrudTab } from '../../model';\nimport { Button, Badge, Action } from '../../../button/model';\nimport { KeyMap } from '../../../field/model';\nimport { List } from '../../../list/model';\nimport { CollectionUtils, SecurityUtils, CrudUtils } from '../../../utility';\nimport { FormDiaplyMode } from '../../../form/model';\n\n//extends ModalInterfaceComponent\n@Component({\n  selector: 'cf-crud-list-interface',\n  templateUrl: './crud-list.component.html',\n  styleUrls: ['./crud-list.component.scss']\n})\nexport class CrudListComponentInterface  implements OnInit {\n  //  Common Config \n  identifier: string;\n  header: CrudHeader;\n  actions: Array<Button>;\n  actionPages: Array<ActionPage>;\n  formReset: boolean;\n  listReset: boolean;\n  keyMap: Array<KeyMap> = new Array<KeyMap>();\n\n  //  List Config\n  quickLinks: Array<Button>;\n  searchConfig: CrudSearch;\n  searchData: any;\n  listConfig: CrudList;\n  listPageBackRoute: Array<string>;\n\n  expandRowIndex: number;\n  \n  configListData: CrudListData; \n  originalData: any;\n\n  constructor() { \n    // super();\n  }\n\n  ngOnInit(): void {\n    this.setCommonConfig();\n    this.setListConfig();\n  }\n\n  setCommonConfig(): void {\n\n  }\n  setListConfig(): void{\n\n  }\n  setBadges(): Array<Badge>{\n    return null;\n  }\n\n  setCommonConfigUsingCrud(crud: Crud): void {\n    //  Config\n    this.identifier = crud.identifier\n    this.header = crud.header;\n    \n    //  Tab wise data/setting\n    //this.keyMap = {};\n    this.listReset = true;\n  }\n\n  setListConfigUsingCrud(crud: Crud): void {\n    //  Config\n    this.quickLinks = crud.quickLinks;\n    this.searchConfig = crud.search;\n    this.listConfig = crud.list;\n    this.actions = crud.actions;\n\n    this.setConfigListData([], []);\n  }\n \n  loadFilterParams(filterStr: string) {\n    if (filterStr != null) {\n      const filter = SecurityUtils.decrypt(filterStr);\n\n      this.configListData.searchData = filter;\n    } else {\n    }\n    this.configListData.pageNo = 1;\n  }\n  \n  setConfigListData(records: Array<any>, badges: Array<Badge>, route?: Array<string>): void {\n    let configListDataNew = {\n      pageBackRoute: route, \n      badges: badges,\n      records: records,\n      originalData: this.originalData\n    }\n\n    this.configListData = { ...this.configListData, ...configListDataNew };    \n  }\n\n  getRowKey(lIndex: number): Array<string> {\n    let keys: Array<string>;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex]) {\n      keys = this.listConfig.lists[lIndex].uniqueKeys;\n    } else {\n      keys = new Array<string>();\n    }\n\n    return keys;\n  }\n\n  getChildRowKey(lIndex: number): Array<string> {\n    let keys: Array<string>;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex] && this.listConfig.lists[lIndex].child && this.listConfig.lists[lIndex].child.record && (<List>this.listConfig.lists[lIndex].child.record).uniqueKeys) {\n      keys = (<List>this.listConfig.lists[lIndex].child.record).uniqueKeys;\n    } else {\n      keys = new Array<string>();\n    }\n\n    return keys;\n  }\n\n  getChildRecordIdentifier(lIndex: number): string {\n    let childRecordIdentifier: string;\n\n    if (this.listConfig && this.listConfig.lists && this.listConfig.lists[lIndex] && this.listConfig.lists[lIndex].child) {\n      childRecordIdentifier = this.listConfig.lists[lIndex].child.recordIdentifier;\n    } else {\n      childRecordIdentifier = \"\";\n    }\n\n    return childRecordIdentifier;\n  }\n\n  beforeChangeMerge(action: Action, sourceIdentifier: string): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if (this.configListData.records[lIndex].rows[rIndex][key] != action.originalData[key]) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              this.configListData.records[lIndex].rows[rIndex] = { ...action.originalData, ...action.data };\n\n              rows = this.configListData.records[lIndex].rows;\n              rowIndex = rIndex;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  addRow(action: Action, sourceIdentifier: string, data?: any): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1; \n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          if (CollectionUtils.isEmpty(data))  {\n            this.configListData.records[lIndex].rows.push({});\n          } else  {\n            this.configListData.records[lIndex].rows.push(data);\n          }\n\n          rows = this.configListData.records[lIndex].rows;\n          rowIndex = this.configListData.records[lIndex].rows.length - 1;\n          break;\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  afterChangeMerge() {\n    this.configListData = JSON.parse(JSON.stringify(this.configListData));\n    this.listReset = true;\n  }\n\n\n  beforeChildChangeMerge(action: Action, sourceIdentifier: string): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if ((<Array<string>>action.parentHierarchy.parent['key']).indexOf(this.configListData.records[lIndex].rows[rIndex][key]) < -1) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              let childRecordIdentifier = this.getChildRecordIdentifier(lIndex);\n\n              for (let cIndex = 0; cIndex < this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].length; cIndex++) {\n                let keys = this.getChildRowKey(lIndex);\n\n                let isChildMatchingRow = true;\n                for (let key of keys) {\n                  if (this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier][cIndex][key] != action.originalData[key]) {\n                    isChildMatchingRow = false;\n                  }\n                }\n\n                if (isChildMatchingRow) {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier][cIndex] = { ...action.originalData, ...action.data };\n\n                  rows = this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier];\n                  rowIndex = cIndex;\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  addChildRow(action: Action, sourceIdentifier: string, data?: any): { rows: Array<any>, rowIndex: number } {\n    let rows: Array<any>;\n    let rowIndex: number = -1;\n\n    if (this.configListData && this.configListData.records) {\n      for (let lIndex = 0; lIndex < this.configListData.records.length; lIndex++) {\n        if (this.listConfig.lists[lIndex].identifier == action.sourceIdentifier) {\n          for (let rIndex = 0; rIndex < this.configListData.records[lIndex].rows.length; rIndex++) {\n            let keys = this.getRowKey(lIndex);\n\n            let isMatchingRow = true;\n            for (let key of keys) {\n              if ((<Array<string>>action.originalData[key]).indexOf(this.configListData.records[lIndex].rows[rIndex][key]) < -1) {\n                isMatchingRow = false;\n              }\n            }\n\n            if (isMatchingRow) {\n              let childRecordIdentifier = this.getChildRecordIdentifier(lIndex);\n\n              for (let cIndex = 0; cIndex < this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].length; cIndex++) {\n                if (CollectionUtils.isEmpty(data))  {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].push({});\n                } else  {\n                  this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier].push(data);\n                }\n\n                rows = this.configListData.records[lIndex].rows[rIndex][childRecordIdentifier];\n                rowIndex = cIndex;\n                break;\n              }\n            }\n          } \n        }\n      }\n    }\n\n    return { rows: rows, rowIndex: rowIndex };\n  }\n\n  setTabDisplayMode(crudTabs: Array<CrudTab>, formDisplayMode: FormDiaplyMode) {\n    CrudUtils.setDisplayType(crudTabs, formDisplayMode);\n  }\n\n  afterChildChangeMerge() {\n    this.afterChangeMerge();\n  }\n\n  setHeaderTitle(title: string)  {\n    this.header.title = title;\n  }\n\n  setHeaderDescription(description: string)  {\n    this.header.description.text = description;\n  }\n}\n","import { ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { FormControl, NgControl } from '@angular/forms';\nimport { MatAutocomplete, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { ChipField, Chip, ChipItemChangedEvent, ChipOrientation, RemoveFunc } from '../../model/chips.model';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { DropdownOption } from '../../model';\nimport { FieldComponent } from '../field/field.component';\nimport { Ability } from '@casl/ability';\nimport { Router } from '@angular/router';\nimport { CollectionUtils, FieldUtils } from '../../../utility';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'cf-chips',\n    templateUrl: './chips.component.html',\n    styleUrls: ['./chips.component.scss'],\n    // providers: [\n    //     { provide: MatFormFieldControl, useExisting: ChipsComponent }\n    // ]\n})\nexport class ChipsComponent extends FieldComponent implements OnInit {\n    @Input() field: ChipField = null;\n    @Input() disabled: boolean;\n    @Input() formControl: FormControl;\n\n    @Input() errorMatcher: ErrorStateMatcher;\n\n    @ViewChild('input') input: ElementRef<HTMLInputElement>;\n    @ViewChild('auto') matAutocomplete: MatAutocomplete;\n\n    @Output() onListChange: EventEmitter<ChipItemChangedEvent> = new EventEmitter();;\n\n    placeholder: string = '';\n    separatorKeysCodes: number[] = [ENTER];//SPACE\n    enableDragAndDrop: boolean;\n    orientation: ChipOrientation;\n    chips: Chip[] = [];\n    options: Array<DropdownOption>;\n    addOnBlur: boolean = true;\n    removable: boolean;\n\n    constructor(public router: Router, public ability: Ability) {\n        super(router, ability);\n    }\n    stateChanges: Observable<void>;\n    id: string;\n    ngControl: NgControl;\n    focused: boolean;\n    empty: boolean;\n    shouldLabelFloat: boolean;\n    errorState: boolean;\n    controlType?: string;\n    autofilled?: boolean;\n    userAriaDescribedBy?: string;\n    setDescribedByIds(ids: string[]): void {\n        throw new Error('Method not implemented.');\n    }\n    onContainerClick(event: MouseEvent): void {\n        throw new Error('Method not implemented.');\n    }\n\n    ngOnInit() {\n        this.placeholder = this.field.placeholder || '';\n        this.orientation = this.field.orientation || ChipOrientation.HORIZONTAL;\n        this.options = this.field.options || [];\n\n        this.setChips();\n    }\n\n    setChips() {\n        let values: Array<string> = this.formControl.value;\n        let isReadOnly: boolean = FieldUtils.isFieldDisabled(this.field, this.displayMode, values);\n\n        if (!CollectionUtils.isEmpty(values)) {\n            values.forEach(value => {\n                if (!CollectionUtils.isEmpty(this.field.options)) {\n                    let optionMatch: DropdownOption = null;\n                    this.field.options.forEach(option => {\n                        if (option.key == value) {\n                            optionMatch = option;\n                        }\n                    });\n\n                    if (optionMatch != null) {\n                        this.chips.push({\n                            key: optionMatch.key,\n                            value: optionMatch.value,\n                            disabled: isReadOnly,\n                            removable: true\n                        });\n                    } else {\n                        this.chips.push({\n                            key: value,\n                            value: value,\n                            disabled: isReadOnly,\n                            removable: true\n                        });\n                    }\n                } else {\n                    this.chips.push({\n                        key: value,\n                        value: value,\n                        disabled: isReadOnly,\n                        removable: true\n                    });\n                }\n            });\n        } else {\n            this.chips = [];\n        }\n    }\n\n    addItem = ($event: MatChipInputEvent): void => {\n        const input = $event.input;\n        const value = $event.value;\n\n        let keyExists = this.keyExists(value.trim());\n\n        // Add our item\n        if ((value || '').trim() && !keyExists) {\n            this.chips.push({\n                key: value.trim(),\n                value: value.trim(),\n                disabled: false,\n                removable: this.removable || true\n            });\n        }\n\n        // Reset the input value\n        if (input) {\n            input.value = '';\n        }\n        this.triggerChangedEvent($event as any);\n    }\n\n    keyExists(value: string): boolean {\n        let keyExists = false;\n        this.chips.forEach(chip => {\n            if (chip.key == value) {\n                keyExists = true;\n            }\n        });\n\n        return keyExists;\n    }\n\n    removeItem = ($event: Event, item: Chip, index: number) => {\n        this.chips.splice(index, 1);\n        // if (this.isFunctionDefined(this.field.onRemoveItem)) {\n        //     this.field.onRemoveItem(item.value).subscribe(result => {\n        //         if (result) {\n        //             this.chips.splice(index, 1);\n        //             this.triggerChangedEvent($event);\n        //         }\n        //     });\n        // }\n    }\n\n    drop = ($event: CdkDragDrop<Chip[]>) => {\n        moveItemInArray(this.chips, $event.previousIndex, $event.currentIndex);\n        this.triggerChangedEvent($event as any);\n    }\n\n    triggerChangedEvent = ($event: Event | MatAutocompleteSelectedEvent) => {\n        let values: Array<string> = this.chips.map(x => x.key);\n        this.formControl.setValue(values);\n        this.onListChange.emit(<ChipItemChangedEvent>{\n            values: values,\n            event: $event\n        });\n    }\n\n    onSelected = (event: MatAutocompleteSelectedEvent): void => {\n        let keyExists = this.keyExists(event.option.value['key']);\n\n        if (!keyExists) {\n            this.chips.push({\n                key: event.option.value['key'],\n                value: event.option.value['value'],\n                removable: true,\n                disabled: false\n            });\n            this.input.nativeElement.value = '';\n            this.triggerChangedEvent(event);\n        }\n    }\n\n    isFunctionDefined = (func: RemoveFunc) => {\n        return typeof func == 'function';\n    }\n\n    errors(): Array<{ error: string, message: string }> {\n        let errors: Array<{ error: string, message: string }> = [];\n        if (this.formControl != undefined) {\n            if (this.formControl && this.formControl.errors) {\n\n                Object.keys(this.formControl.errors).forEach(keyError => {\n                    if (this.field.validations) {\n                        for (let validation of this.field.validations) {\n                            if (keyError === validation.message.key) {\n                                errors[errors.length] = { error: keyError, message: validation.message.message };\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        return errors;\n    }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ToolbarField, MenuItem } from '../../model/toolbar.model';\n\n@Component({\n    selector: 'cf-toolbar',\n    templateUrl: './toolbar.component.html',\n    styleUrls: ['./toolbar.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ToolbarComponent implements OnInit {\n    @Input() field: ToolbarField = null;\n    title: string;\n    menuItems: MenuItem[];\n\n    constructor() { }\n\n    ngOnInit() {\n         this.title = this.field.title;\n         this.menuItems = this.field.menuItems;\n    }\n\n    onMenuClick = (item: MenuItem)=> {\n        item.onClick(item);\n    }\n    \n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MultiImage, MultiImageField } from '../../model/multi-image-field.model';\n\n@Component({\n    selector: 'cf-multi-image',\n    templateUrl: './multi-image.component.html',\n    styleUrls: ['./multi-image.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class MultiImageComponent implements OnInit {\n    @Input() field: MultiImageField = null;\n    @Input() control: FormControl;\n    @Input() disabled: boolean;\n\n    radius: number;\n    count: number;\n    showCount: boolean;\n    showAll: boolean;\n    images: MultiImage[] | string[];\n    lastItemLabel: string;\n    showLastItem: boolean;\n    hideTooltip: boolean;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.radius = (this.field.radius || 5) * 10;\n\n        this.showCount = this.field.showCount || false;\n        this.showAll = this.field.showAll || false;\n        this.images = this.field.images;\n        this.images = this.images ? this.images : <Array<string> | Array<MultiImage>>this.field.value;\n        this.count = this.field.count || (this.images ? this.images.length : 0);\n        \n        if (this.showCount && (this.showAll || !this.showAll)) {\n            this.lastItemLabel = '+' + (this.images.length - this.count);\n        } else if (this.showAll && !this.showCount) {\n            this.lastItemLabel = '>';\n        }\n\n        this.hideTooltip = this.images && this.images.length > 0 && (typeof this.images[0] == 'string');\n    }\n\n    onShowAllClick = () => {\n        this.count = this.images.length;\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Form, FormDiaplyMode } from '../../../form/model';\nimport { DisplayMode, FieldChange, KeyMap } from '../../model';\nimport { FieldComponent } from '../field/field.component';\nimport { ParagraphField, TokenType } from '../../model/paragraph.model';\nimport { Ability } from '@casl/ability';\nimport { FormUtils, ButtonUtils } from '../../../utility';\n\n@Component({\n    selector: 'cf-paragraph',\n    templateUrl: './paragraph.component.html',\n    styleUrls: ['./paragraph.component.scss'],\n    encapsulation: ViewEncapsulation.None\n}) \nexport class ParagraphComponent extends FieldComponent implements OnInit {\n    tokens: Array<TokenType> = new Array<TokenType>();\n    paragraphField: ParagraphField;\n    @Output() onButtonClick = new EventEmitter();\n\n    constructor(public router: Router, public ability: Ability) {\n        super(router, ability);\n    }\n\n    ngOnInit() {\n        this.paragraphField = (<ParagraphField>this.field);\n        let words = this.paragraphField.template.split(' ');\n\n        if (words && words.length > 0) {\n            words.map(word => {\n                var key = word.slice(1, -1);\n\n                if (word.indexOf('{') == -1) {\n                    this.tokens.push({ type: 'LABEL', value: word });\n                } else if (word.indexOf('{') != -1 && this.paragraphField.fieldContexts[key] != undefined) {\n                    this.tokens.push({ type: 'FIELD', field: this.paragraphField.fieldContexts[key] });\n                    if (this.paragraphField.isReadOnly) {\n                        this.paragraphField.fieldContexts[key]['isReadOnly'] = this.paragraphField.isReadOnly;\n                    }\n                    if (this.paragraphField.displayMode == DisplayMode.LABEL) {\n                        this.paragraphField.fieldContexts[key]['displayMode'] = DisplayMode.LABEL;\n                    }\n                } else if (word.indexOf('{') != -1 && this.paragraphField.buttonContexts[key] != undefined) {\n                    this.tokens.push({ type: 'BUTTON', button: this.paragraphField.buttonContexts[key] });\n                    // if (this.paragraphField.isReadOnly) {\n                    //     this.paragraphField.buttonContexts[key]['displayMode'] = DisplayMode.DISABLED;\n                    // }\n                }\n            })\n        }\n    }\n\n    fieldChange(fieldChange: FieldChange) {\n        this.onFieldChange.emit(fieldChange);\n    }\n\n    isButtonDisable()   {\n        return ButtonUtils.isDisable(this.displayMode) || this.paragraphField.isReadOnly;\n    }\n\n    getFormValue(): any {\n        return FormUtils.getRawValue(this.form);\n    }\n\n    buttonClick(event: any) {\n        console.log(event);\n        this.onButtonClick.emit(event);\n    }\n}\n","\n\nimport { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({ name: 'highlight' })\nexport class HighlightPipe implements PipeTransform {\n  transform(text: string, search): string {\n    const pattern = search\n      .replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\")\n      .split(' ')\n      .filter(t => t.length > 0)\n      .join('|');\n    const regex = new RegExp(pattern, 'gi');\n\n    return search ? text.replace(regex, match => `<b>${match}</b>`) : text;\n  }\n}","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { CollectionUtils, StringUtils } from '../../../utility';\nimport { Field, HelpTextOrientation } from '../../model';\n\n@Component({\n    selector: 'cf-tooltip',\n    templateUrl: './tooltip.component.html',\n    styleUrls: ['./tooltip.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class TooltipComponent implements OnInit {\n    @Input() field: Field = null;\n    @Input() control: FormControl;\n    hasFieldNavigate: boolean;\n    placement: string;\n    constructor() { }\n\n    ngOnInit() {\n        this.hasFieldNavigate = this.fieldNavigate();\n        if(this.field.help && this.field.help.orientation) {\n            this.placement = this.field.help.orientation.toLowerCase();\n        } else {\n            this.placement ='bottom'\n        };\n    }\n\n    fieldNavigate(): boolean {\n        let hasFieldNavigate: boolean = false;\n        if (this.field.navigate && (!StringUtils.isEmpty(this.field.navigate.icon) || !StringUtils.isEmpty(this.field.navigate.text)) && !CollectionUtils.isEmpty(this.field.navigate.routeTo)) {\n            hasFieldNavigate = true;\n        }\n        return hasFieldNavigate;\n    }\n\n}\n","import { Directive, Input, Output,EventEmitter } from '@angular/core';\n\n\n@Directive({\n  selector: '[ngInit]'\n}) \nexport class NgInit {\n  @Output()\n    ngInit: EventEmitter<any> = new EventEmitter();\n\n    ngOnInit() {\n        this.ngInit.emit();\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(protected sanitizer: DomSanitizer) {\n  }\n\n  transform(value: any, args?: any): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n\n}","import {\n  Directive,\n  Input,\n  OnChanges,\n  ComponentRef,\n  ViewContainerRef,\n  Compiler,\n  ModuleWithComponentFactories,\n  Component,\n  NgModule,\n  Type\n} from '@angular/core';\nimport { CommonModule } from '@angular/common'\nimport { AdminBuilderModule } from '../../ngx-material-widget.module';\n\n@Directive({\n  selector: '[cfTemplate]'\n})\nexport class cfTemplateDirective implements OnChanges {\n  @Input() cfTemplate: string;\n  @Input() cfTemplateContext: any;\n  @Input() currentComponent: any;\n\n  componentRef: ComponentRef<any>;\n\n  constructor(private vcRef: ViewContainerRef, private compiler: Compiler) { }\n\n  ngOnChanges() {\n    if (!this.cfTemplate) {\n      if (this.componentRef) {\n        this.updateProperties();\n        return;\n      }\n      throw Error('You must provide template.');\n    }\n\n    this.vcRef.clear();\n    this.componentRef = null;\n\n    const component = this.createDynamicComponent(this.cfTemplate);\n    const module = this.createDynamicModule(component);\n\n    this.compiler.compileModuleAndAllComponentsAsync(module)\n      .then((moduleWithFactories: ModuleWithComponentFactories<any>) => {\n        let componentFactory = moduleWithFactories.componentFactories.find(x => x.componentType === component);\n\n        this.componentRef = this.vcRef.createComponent(componentFactory);\n        this.updateProperties();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  updateProperties() {\n    for (var prop in this.cfTemplateContext) {\n      this.componentRef.instance[prop] = this.cfTemplateContext[prop];\n    }\n  }\n\n  private createDynamicComponent(template: string) {\n    @Component({\n      selector: 'cf-dynamic-component',\n      template: template\n    })\n    class CustomDynamicComponent { }\n    return CustomDynamicComponent;\n  }\n\n  private createDynamicModule(component: Type<any>) {\n    @NgModule({\n      // Every element you might need must be known for this module\n      imports: [CommonModule, AdminBuilderModule],\n      declarations: [component]\n    })\n    class CfDynamicModule { }\n    return CfDynamicModule;\n  }\n}","\nimport { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { Navigation, NavigationPannel } from '../../model';\n\n@Component({\n  selector: 'admin-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.scss']\n})\nexport class NavigationComponent implements OnInit {\n  @ViewChild('sidenav') sidenav: MatSidenav;\n\n  @Input() isExpanded = true;\n\n  @Input() navigationPanel: NavigationPannel;\n  @Input() navigation: Array<Navigation>;\n\n  @Output() logout = new EventEmitter<any>();\n  \n  showSubmenu: Array<boolean> = [false];\n  isShowing = false;\n  showSubSubMenu: Array<any> = [[false, false], false];\n\n\n  constructor() {\n    // this.navigation = this.navigationPanel[0].navigations;\n  }\n\n  mouseenter() {\n    if (!this.isExpanded) {\n      this.isShowing = true;\n    }\n  }\n\n  mouseleave() {\n    if (!this.isExpanded) {\n      this.isShowing = false;\n    }\n  }\n\n  logoutEvent() {\n    this.logout.emit();\n  }\n\n  ngOnInit() {\n    this.navigation = this.navigationPanel.navigations;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\n//import { BrowserModule } from '@angular/platform-browser';\n//import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n//import { NoopAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet'\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\n// import { MatNativeDateModule } from '@angular/material/core';\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n//import { MatFileUploadModule } from 'mat-file-upload';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatListModule } from '@angular/material/list';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n//import { FroalaEditorModule, FroalaViewModule } from 'angular-froala-wysiwyg';\n//import { EditorModule } from '@progress/kendo-angular-editor';\n\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AbilityModule } from '@casl/angular';\nimport { Ability, PureAbility } from '@casl/ability';\n\nimport { TooltipModule } from 'ng2-tooltip-directive';\n\n//import { ButtonModule } from './button/button.module';\nimport { ButtonComponent } from './button/component/button/button.component';\nimport { ButtonGroupComponent } from './button/component/button-group/button-group.component';\nimport { CrudFormComponent } from './crud/component/crud-form/crud-form.component';\nimport { CrudListComponent, BottomSearchSheet } from './crud/component/crud-list/crud-list.component';\nimport { FileUploaderComponent } from './field/component/file-uploader/file-uploader.component';\nimport { FieldComponent, FieldHorizontalLayoutComponent, FieldVerticalLayoutComponent, FieldInlineLayoutComponent, FieldLayoutComponent } from './field/component';\nimport { StaticListComponent } from './list/component/static-list/static-list.component';\nimport { DynamicListComponent } from './list/component/dynamic-list/dynamic-list.component';\nimport { ModalComponent } from './modal/component/modal/modal.component';\nimport { ButtonDeleteConfirmationComponent } from './button/component/button-delete-confirmation/button-delete-confirmation.component';\nimport { AdminLayoutComponent } from './page/component/admin-layout/admin-layout.component';\nimport { ListComponent } from './list/component/list.component';\nimport { CrudHeaderComponent } from './crud/component/crud-header/crud-header.component';\nimport { FormComponent, FormHeaderComponent } from './form/component';\nimport { CrudListComponentInterface } from './crud/interface/crud-list/crud-list-interface.component';\nimport { QuillModule } from 'ngx-quill';\nimport { ChipsComponent } from './field/component/chips/chips.component';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { ToolbarComponent } from './field/component/toolbar/toolbar.component';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport { MultiImageComponent } from './field/component/multi-image/multi-image.component';\nimport { ParagraphComponent } from './field/component/paragraph/paragraph.component';\nimport { HighlightPipe } from './field/pipes/highlightPipe';\n//import { DynamicModule } from 'ng-dynamic-component';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { MdePopoverModule } from '@material-extended/mde';\nimport { TooltipComponent } from './field/component/tooltip/tooltip.component';\nimport { NgInit } from './list/directives/ngInit.directive';\nimport { SafeHtmlPipe } from './list/pipes/safeHtml.pipe';\nimport { cfTemplateDirective } from './list/directives/compile.directive';\nimport { NavigationComponent } from './navigation/component/navigation/navigation.component';\n\n@NgModule({\n  declarations: [\n    ButtonComponent,\n    ButtonGroupComponent,\n    ButtonDeleteConfirmationComponent,\n    CrudHeaderComponent,\n    CrudFormComponent,\n    CrudListComponent,\n    CrudListComponentInterface,\n    BottomSearchSheet,\n    FileUploaderComponent,\n    FieldComponent,\n    FieldHorizontalLayoutComponent,\n    FieldVerticalLayoutComponent,\n    FieldInlineLayoutComponent,\n    FieldLayoutComponent,\n    FormHeaderComponent,\n    FormComponent,\n    AdminLayoutComponent, \n    ListComponent,\n    StaticListComponent,\n    DynamicListComponent,\n    ModalComponent,\n    ChipsComponent,\n    ToolbarComponent,\n    MultiImageComponent,\n    ParagraphComponent,\n    HighlightPipe,\n    TooltipComponent,\n    NgInit,\n    SafeHtmlPipe,\n    cfTemplateDirective,\n    NavigationComponent\n  ], \n  imports: [\n    // ButtonModule,\n    // CrudModule,\n    // FieldModule,\n    // ListModule,\n    // ModalModule,\n    // NavigationModule,\n    // PageModule,\n    // PrivilegeModule, \n    // SettingModule\n    CommonModule,\n//    BrowserModule,\n//    BrowserAnimationsModule,\n//    NoopAnimationsModule,\n    HttpClientModule,\n    RouterModule,\n//    DynamicModule,\n    MdePopoverModule,\n    ReactiveFormsModule,\n    TooltipModule,\n    LayoutModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatChipsModule,\n    MatIconModule,\n    MatBadgeModule,\n    MatDialogModule,\n    MatCardModule,\n    MatTabsModule,\n    MatExpansionModule,\n    MatSidenavModule,\n    MatBottomSheetModule,\n    MatDividerModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatDatepickerModule,\n    MatMomentDateModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatListModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatGridListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    DragDropModule,\n    // FroalaEditorModule.forRoot(), \n    // FroalaViewModule.forRoot(),\n    //    MatFileUploadModule,\n    // ReactiveFormsModule,\n\n    // EditorModule,\n    MatTooltipModule,\n    MatDividerModule,\n    MatSidenavModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatCardModule,\n    MatDividerModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCardModule,\n    MatDividerModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    QuillModule.forRoot(),\n    AbilityModule,\n    FlexLayoutModule,\n    MatToolbarModule,\n    InfiniteScrollModule\n  ],\n  exports: [\n    ButtonComponent,\n    ButtonGroupComponent,\n    CrudListComponentInterface,\n    CrudFormComponent,\n    CrudListComponent,\n    FileUploaderComponent,\n    FieldComponent,\n    // FieldHorizontalLayoutComponent,\n    // FieldVerticalLayoutComponent, \n    // FieldInlineLayoutComponent,\n    FormComponent,\n    StaticListComponent,\n    DynamicListComponent,\n    ModalComponent,\n//    DynamicModule,\n    MdePopoverModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatMenuModule,\n    MatChipsModule,\n    MatIconModule,\n    MatBadgeModule,\n    MatDialogModule,\n    MatCardModule,\n    MatTabsModule,\n    MatExpansionModule,\n    MatSidenavModule,\n    MatBottomSheetModule,\n    MatDividerModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatSelectModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatDatepickerModule,\n    MatMomentDateModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatListModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatGridListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n\n    // FroalaEditorModule.forRoot(), \n    // FroalaViewModule.forRoot(),\n    //    MatFileUploadModule,\n    // ReactiveFormsModule,\n\n    // EditorModule,\n    MatTooltipModule,\n    MatDividerModule,\n    MatSidenavModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatCardModule,\n    MatDividerModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCardModule,\n    MatDividerModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    InfiniteScrollModule,\n    // AdminLayoutComponent\n    NgInit,\n    SafeHtmlPipe,\n    cfTemplateDirective,\n    NavigationComponent\n  ],\n  providers: [\n    { provide: Ability, useValue: new Ability() },\n    { provide: PureAbility, useExisting: Ability },\n  ]\n})\nexport class AdminBuilderModule { }\n","import { Modal } from '../model';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { TemplateRef } from '@angular/core';\nimport { ModalComponent } from '../component/modal/modal.component';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { FieldChange } from '../../field/model';\n\nexport class ModalUitls {\n  //    static dialogRef: MatDialogRef<any, any>;\n\n  static openDialog(modal: Modal, component?: ComponentType<any> | TemplateRef<any>): void {\n    let dialogRef: MatDialogRef<any, any>;\n    dialogRef = modal.dialog.open(component ? component : ModalComponent, {\n      width: modal.widgetConfig.modal && modal.widgetConfig.modal.width ? modal.widgetConfig.modal.width + 'px' : '250px',\n      data: {\n        type: modal.type,\n        widgetConfig: modal.widgetConfig,\n        sourceIndex: modal.sourceIndex,\n        context: modal.context,\n        originalData: modal.originalData,\n        keyMap: modal.keyMap,\n        reset: modal.reset\n      }\n    });\n\n    if (dialogRef.componentInstance.onButtonClick) {\n      dialogRef.componentInstance.onButtonClick.subscribe(event => {\n        console.log(event);\n\n        if (eval(\"this.buttonClick\")) {\n          eval(\"this.buttonClick(event)\");\n        }\n      })\n    }\n\n    if (dialogRef.componentInstance.onFieldChange) {\n      dialogRef.componentInstance.onFieldChange.subscribe((event: FieldChange) => {\n        console.log(event);\n\n        if (eval(\"this.fieldChange\")) {\n          eval(\"this.fieldChange(event)\");\n        }\n      }, this)\n    }\n\n    if (dialogRef.componentInstance.onFormChange) {\n      dialogRef.componentInstance.onFormChange.subscribe(event => {\n        console.log(event);\n\n        if (eval(\"this.formChange\")) {\n          eval(\"this.formChange(event)\");\n        }\n      })\n    }\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n      //          this.invokeAction(result, event);\n    });\n  }\n}"]}